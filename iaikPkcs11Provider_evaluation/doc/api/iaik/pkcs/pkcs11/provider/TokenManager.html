<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_55) on Fri Mar 06 13:34:50 CET 2015 -->
<title>TokenManager (IAIK PKCS#11 Provider API Documentation)</title>
<meta name="date" content="2015-03-06">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TokenManager (IAIK PKCS#11 Provider API Documentation)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TokenManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>
        
          <b>IAIK PKCS#11 Provider API Documentation</b><br>
          <font size="-1">version 1.5</font>
         
      </em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html" title="class in iaik.pkcs.pkcs11.provider"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?iaik/pkcs/pkcs11/provider/TokenManager.html" target="_top">Frames</a></li>
<li><a href="TokenManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">iaik.pkcs.pkcs11.provider</div>
<h2 title="Class TokenManager" class="title">Class TokenManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>iaik.pkcs.pkcs11.provider.TokenManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">TokenManager</span>
extends java.lang.Object</pre>
<div class="block">One token manager instance is bound to exactly one PKCS#11 slot. This slot is fixed and cannot be
 changed. It manages the token in this slot, if there is a token present. Token management
 includes initialization of the PKCS#11 module, and session management (open, login, close, pool).
 It provides access to the slot it manages, any currently present token and a key store
 representation of the currently present token. Normally, the application should not need to
 access this class directly. This is only necessary in very special cases.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Karl Scheibelhofer</dd>
<dt><span class="strong">Invariants</span></dt>
  <dd>(myProvider_ <> null) and (pkcs11ModulePath_ <> null) and (pkcs11module_ <> null) and
             (slot_ <> null) and (loginLock_ <> null)</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#TokenManager(iaik.pkcs.pkcs11.provider.IAIKPkcs11)">TokenManager</a></strong>(<a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11</a>&nbsp;myProvider)</code>
<div class="block">Create and initialize this token manager.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#acquireSessionCloseLock(Session)">acquireSessionCloseLock</a></strong>(Session&nbsp;session)</code>
<div class="block">Acquires a lock on this session which prevents that this token manager will close this session.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#clearSessionPool(boolean)">clearSessionPool</a></strong>(boolean&nbsp;tryToCloseSessions)</code>
<div class="block">Clears the internal session pool of this token manager.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#closeSession(Session)">closeSession</a></strong>(Session&nbsp;session)</code>
<div class="block">This method closes the given session and does not put it in the session pool.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#closeSessions()">closeSessions</a></strong>()</code>
<div class="block">Close all sessions managed by this provider instance.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#disposeSession(Session)">disposeSession</a></strong>(Session&nbsp;session)</code>
<div class="block">Dispose the given session that is no longer used.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#finalize()">finalize</a></strong>()</code>
<div class="block">Try to finalize the underlying PKCS#11 module if there is no other token manager that uses the
 same module.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html" title="class in iaik.pkcs.pkcs11.provider">TokenManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#getDefaultTokenManager()">getDefaultTokenManager</a></strong>()</code>
<div class="block">Gets the token manager of the first registered pkcs11 provider.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStore.html" title="class in iaik.pkcs.pkcs11.provider">TokenKeyStore</a></code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#getKeyStore()">getKeyStore</a></strong>()</code>
<div class="block">Get a key store that is associated with the slot of this token manager.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStore.html" title="class in iaik.pkcs.pkcs11.provider">TokenKeyStore</a></code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#getKeyStore(java.lang.String)">getKeyStore</a></strong>(java.lang.String&nbsp;keyStoreName)</code>
<div class="block">Get a key store that is associated with the slot of this token manager.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>Module</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#getModule()">getModule</a></strong>()</code>
<div class="block">Get the PKCS#11 module of this token manager.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#getModulePath()">getModulePath</a></strong>()</code>
<div class="block">Get the PKCS#11 module path of this token manager.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11</a></code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#getProvider()">getProvider</a></strong>()</code>
<div class="block">Get the provider of this token manager.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>Session</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#getSession(boolean)">getSession</a></strong>(boolean&nbsp;rwBahavior)</code>
<div class="block">Get a session with the given read-write behavior.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>Session</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#getSession(boolean, boolean)">getSession</a></strong>(boolean&nbsp;rwBahavior,
          boolean&nbsp;forSessionKey)</code>
<div class="block">Get a session with the given read-write behavior.<br>
 This method allows to specify that the requested session is intended for the creation or
 generation of a session key.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>Slot</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#getSlot()">getSlot</a></strong>()</code>
<div class="block">Get the slot of this token manager.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>Token</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#getToken()">getToken</a></strong>()</code>
<div class="block">Get the token that is in the slot of this token manager.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#isMechanismFeatureSupported(Mechanism[], MechanismInfo[][])">isMechanismFeatureSupported</a></strong>(Mechanism[]&nbsp;mechanisms,
                           MechanismInfo[][]&nbsp;mechanismFeatures)</code>
<div class="block">Check, if the current token supports one of the given mechanism and the given features of this
 mechanism.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#isMechanismFeatureSupported(Mechanism, MechanismInfo)">isMechanismFeatureSupported</a></strong>(Mechanism&nbsp;mechanism,
                           MechanismInfo&nbsp;mechanismFeatures)</code>
<div class="block">Check, if the current token supports the given mechanism and the given features of this
 mechanism.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#isRemovable()">isRemovable</a></strong>()</code>
<div class="block">This method returns <code>true</code> if the slot of this token manager is a slot with a
 removable token.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#isSessionCloseLocked(Session)">isSessionCloseLocked</a></strong>(Session&nbsp;session)</code>
<div class="block">Check, if the given session is close-locked; i.e.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#isTokenPresent()">isTokenPresent</a></strong>()</code>
<div class="block">Check, if there is a token present in the slot of this token manager.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#login(boolean, char[])">login</a></strong>(boolean&nbsp;SORole,
     char[]&nbsp;PIN)</code>
<div class="block">Login.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#login(Session, boolean, char[])">login</a></strong>(Session&nbsp;session,
     boolean&nbsp;SORole,
     char[]&nbsp;PIN)</code>
<div class="block">Login the user into the given session.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#loginSO(char[])">loginSO</a></strong>(char[]&nbsp;PIN)</code>
<div class="block">Login the SO into the given session.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#loginUser(char[])">loginUser</a></strong>(char[]&nbsp;PIN)</code>
<div class="block">Login the user into the given session.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#logout()">logout</a></strong>()</code>
<div class="block">Log out the current user (user or SO).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#logout(Session)">logout</a></strong>(Session&nbsp;session)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;&nbsp;</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#makeAuthorizedSession(Session, boolean, char[])">makeAuthorizedSession</a></strong>(Session&nbsp;session,
                     boolean&nbsp;SORole,
                     char[]&nbsp;PIN)</code>
<div class="block">Make the given session authorized.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#makeAuthorizedSession(Session, char[])">makeAuthorizedSession</a></strong>(Session&nbsp;session,
                     char[]&nbsp;PIN)</code>
<div class="block">Make the given session authorized.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#notifyKeyStores()">notifyKeyStores</a></strong>()</code>
<div class="block">Notify all key store which use this token manager that they should refresh their contents.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#releaseSessionCloseLock(Session)">releaseSessionCloseLock</a></strong>(Session&nbsp;session)</code>
<div class="block">Releases a previously acquired close-lock for the given session.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#setUserPIN(Session, char[], char[])">setUserPIN</a></strong>(Session&nbsp;session,
          char[]&nbsp;oldUserPIN,
          char[]&nbsp;newUserPIN)</code>
<div class="block">Set or change the user PIN of the token.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#toString()">toString</a></strong>()</code>
<div class="block">Returns a string with the name and the version number of this provider.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html#waitForSlotEvent()">waitForSlotEvent</a></strong>()</code>
<div class="block">This method blocks until an event for the slot of this token manager occurs.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TokenManager(iaik.pkcs.pkcs11.provider.IAIKPkcs11)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TokenManager</h4>
<pre>public&nbsp;TokenManager(<a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11</a>&nbsp;myProvider)
             throws java.io.IOException,
                    TokenException,
                    <a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11Exception.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11Exception</a></pre>
<div class="block">Create and initialize this token manager. Specify the provider it should get its configuration
 from and work with.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>myProvider</code> - The provider to get the configuration from.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If loading the module fails.</dd>
<dd><code>TokenException</code> - If investigating the slots fails.</dd>
<dd><code><a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11Exception.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11Exception</a></code> - If the configured module is unavailable.</dd><dt><span class="strong">Preconditions</span></dt>
  <dd>(myProvider <> null)</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="clearSessionPool(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearSessionPool</h4>
<pre>public&nbsp;void&nbsp;clearSessionPool(boolean&nbsp;tryToCloseSessions)</pre>
<div class="block">Clears the internal session pool of this token manager. If tries to close each session before
 throwing them away.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tryToCloseSessions</code> - If true, the method tries to close each session in the pool before throwing the object
          away.</dd></dl>
</li>
</ul>
<a name="disposeSession(Session)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disposeSession</h4>
<pre>public&nbsp;void&nbsp;disposeSession(Session&nbsp;session)</pre>
<div class="block">Dispose the given session that is no longer used. This method tries to put the session in the
 session pool. If the pool is full, the session will be closed unless there is close-lock on
 this session; e.g. because there exists a session key which would be destroyed if the session
 is closed. In this case, this method does not close the session but remembers it for later
 closing when the close-lock gets released.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>session</code> - The session to dispose.</dd></dl>
</li>
</ul>
<a name="closeSession(Session)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeSession</h4>
<pre>public&nbsp;void&nbsp;closeSession(Session&nbsp;session)</pre>
<div class="block">This method closes the given session and does not put it in the session pool. If there is a
 close-lock on this session, this method marks the session as to-be-closed. The marked session
 will be closed automatically when the close-lock is released. This features is used for session
 keys to avoid that they are destroyed while the key is still in use.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>session</code> - The session to close.</dd></dl>
</li>
</ul>
<a name="getKeyStore()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeyStore</h4>
<pre>public&nbsp;<a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStore.html" title="class in iaik.pkcs.pkcs11.provider">TokenKeyStore</a>&nbsp;getKeyStore()</pre>
<div class="block">Get a key store that is associated with the slot of this token manager. If there is a token in
 the slot, this key store will hold keys and certificates corresponding to those on the token.
 If there is currently no token in the slot, the returned key store will be empty. However, the
 key store's contents will update automatically.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The key store associated with the slot of this token manager.</dd><dt><span class="strong">Postconditions</span></dt>
  <dd>(result <> null)</dd></dl>
</li>
</ul>
<a name="getKeyStore(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeyStore</h4>
<pre>public&nbsp;<a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStore.html" title="class in iaik.pkcs.pkcs11.provider">TokenKeyStore</a>&nbsp;getKeyStore(java.lang.String&nbsp;keyStoreName)</pre>
<div class="block">Get a key store that is associated with the slot of this token manager. If there is a token in
 the slot, this key store will hold keys and certificates corresponding to those on the token.
 If there is currently no token in the slot, the returned key store will be empty. However, the
 key store's contents will update automatically.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>keyStoreName</code> - name of the keystore to create (e.g. PKCS11 for standard keystore, FastPKCS11 for
          fastPKCS11Keystore)</dd>
<dt><span class="strong">Returns:</span></dt><dd>The key store associated with the slot of this token manager.</dd><dt><span class="strong">Postconditions</span></dt>
  <dd>(result <> null)</dd></dl>
</li>
</ul>
<a name="getModule()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getModule</h4>
<pre>public&nbsp;Module&nbsp;getModule()</pre>
<div class="block">Get the PKCS#11 module of this token manager.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The PKCS#11 module of this manager.</dd><dt><span class="strong">Postconditions</span></dt>
  <dd>(result <> null)</dd></dl>
</li>
</ul>
<a name="getModulePath()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getModulePath</h4>
<pre>public&nbsp;java.lang.String&nbsp;getModulePath()</pre>
<div class="block">Get the PKCS#11 module path of this token manager.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The PKCS#11 module path of this manager.</dd><dt><span class="strong">Postconditions</span></dt>
  <dd>(result <> null)</dd></dl>
</li>
</ul>
<a name="getProvider()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProvider</h4>
<pre>public&nbsp;<a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11</a>&nbsp;getProvider()</pre>
<div class="block">Get the provider of this token manager.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The provider this manager gets its configuration from.</dd><dt><span class="strong">Postconditions</span></dt>
  <dd>(result <> null)</dd></dl>
</li>
</ul>
<a name="getSession(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSession</h4>
<pre>public&nbsp;Session&nbsp;getSession(boolean&nbsp;rwBahavior)
                   throws TokenException,
                          <a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11TokenUnavailableException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11TokenUnavailableException</a></pre>
<div class="block">Get a session with the given read-write behavior.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rwBahavior</code> - Must be either Token.SessionReadWriteBehavior.RO_SESSION for read-only sessions or
          Token.SessionReadWriteBehavior.RW_SESSION for read-write sessions.</dd>
<dt><span class="strong">Returns:</span></dt><dd>An appropriate session object.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>TokenException</code> - If getting such a session fails.</dd>
<dd><code><a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11TokenUnavailableException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11TokenUnavailableException</a></code> - If ther is no token in the slot.</dd><dt><span class="strong">Postconditions</span></dt>
  <dd>(result <> null)</dd></dl>
</li>
</ul>
<a name="getSession(boolean, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSession</h4>
<pre>public&nbsp;Session&nbsp;getSession(boolean&nbsp;rwBahavior,
                 boolean&nbsp;forSessionKey)
                   throws TokenException,
                          <a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11TokenUnavailableException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11TokenUnavailableException</a></pre>
<div class="block">Get a session with the given read-write behavior.<br>
 This method allows to specify that the requested session is intended for the creation or
 generation of a session key. Knowledge of this fact allows for a better session management.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rwBahavior</code> - Must be either Token.SessionReadWriteBehavior.RO_SESSION for read-only sessions or
          Token.SessionReadWriteBehavior.RW_SESSION for read-write sessions.</dd><dd><code>forSessionKey</code> - <code>true</code> signals that the requested session will be used for the creation or
          generation of a session key object.</dd>
<dt><span class="strong">Returns:</span></dt><dd>An appropriate session object.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>TokenException</code> - If getting such a session fails.</dd>
<dd><code><a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11TokenUnavailableException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11TokenUnavailableException</a></code> - If ther is no token in the slot.</dd><dt><span class="strong">Postconditions</span></dt>
  <dd>(result <> null)</dd></dl>
</li>
</ul>
<a name="getSlot()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSlot</h4>
<pre>public&nbsp;Slot&nbsp;getSlot()</pre>
<div class="block">Get the slot of this token manager.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The slot of this manager.</dd><dt><span class="strong">Postconditions</span></dt>
  <dd>(result <> null)</dd></dl>
</li>
</ul>
<a name="getToken()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getToken</h4>
<pre>public&nbsp;Token&nbsp;getToken()
               throws TokenException</pre>
<div class="block">Get the token that is in the slot of this token manager.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The token that is currently in the slot of this manager or null if there is no token in
         the slot.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>TokenException</code> - If getting the token object fails.</dd></dl>
</li>
</ul>
<a name="acquireSessionCloseLock(Session)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquireSessionCloseLock</h4>
<pre>public&nbsp;void&nbsp;acquireSessionCloseLock(Session&nbsp;session)</pre>
<div class="block">Acquires a lock on this session which prevents that this token manager will close this session.
 This is used by session keys to ensure that the session remains open as long as the key is
 used. Closing such a session would cause the session key to be destroyed. This method can be
 called several times for the same session. This manager keeps a lock counter for each locked
 session. Thus, the release method must be called as often as the acquire method to actually
 release the lock on a session.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>session</code> - The session to acquire a lock.</dd><dt><span class="strong">Preconditions</span></dt>
  <dd>(session <> null)</dd></dl>
</li>
</ul>
<a name="releaseSessionCloseLock(Session)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releaseSessionCloseLock</h4>
<pre>public&nbsp;void&nbsp;releaseSessionCloseLock(Session&nbsp;session)</pre>
<div class="block">Releases a previously acquired close-lock for the given session. This method can be called
 several times for the same session. This manager keeps a lock counter for each locked session.
 Thus, the release method must be called as often as the acquire method to actually release the
 lock on a session. For sessions for which are not close-locked, this method does nothing.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>session</code> - The session to release the lock.</dd><dt><span class="strong">Preconditions</span></dt>
  <dd>(session <> null)</dd></dl>
</li>
</ul>
<a name="isSessionCloseLocked(Session)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSessionCloseLocked</h4>
<pre>public&nbsp;boolean&nbsp;isSessionCloseLocked(Session&nbsp;session)</pre>
<div class="block">Check, if the given session is close-locked; i.e. if it must not be closed.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>session</code> - The session to release the lock.</dd>
<dt><span class="strong">Returns:</span></dt><dd>True, if the session is close-locked. False, if it is not.</dd><dt><span class="strong">Preconditions</span></dt>
  <dd>(session <> null)</dd></dl>
</li>
</ul>
<a name="isMechanismFeatureSupported(Mechanism, MechanismInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMechanismFeatureSupported</h4>
<pre>public&nbsp;boolean&nbsp;isMechanismFeatureSupported(Mechanism&nbsp;mechanism,
                                  MechanismInfo&nbsp;mechanismFeatures)
                                    throws TokenException</pre>
<div class="block">Check, if the current token supports the given mechanism and the given features of this
 mechanism. If there is no token present, this method always returns false.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>mechanism</code> - The requested mechanism.</dd><dd><code>mechanismFeatures</code> - The requested features of the mechanism. This is optional and may be null. In this
          case, the method just checks the mechanism itself.</dd>
<dt><span class="strong">Returns:</span></dt><dd>True, if the mechanism is supported by the current token and can be used with the given
         mechanism features. False, if the token does not support the given mechanism with the
         given features, of if there is no token present.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>TokenException</code> - If getting the mechanism infos failed.</dd><dt><span class="strong">Preconditions</span></dt>
  <dd>(mechanism <> null)</dd></dl>
</li>
</ul>
<a name="isMechanismFeatureSupported(Mechanism[], MechanismInfo[][])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMechanismFeatureSupported</h4>
<pre>public&nbsp;boolean&nbsp;isMechanismFeatureSupported(Mechanism[]&nbsp;mechanisms,
                                  MechanismInfo[][]&nbsp;mechanismFeatures)
                                    throws TokenException</pre>
<div class="block">Check, if the current token supports one of the given mechanism and the given features of this
 mechanism. If there is no token present, this method always returns false.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>mechanisms</code> - The mechanisms of which at least one must be supported.</dd><dd><code>mechanismFeatures</code> - The requested features of the mechanisms. The first-dimension length of this parameter
          must be the same as the length of the mechanisms parameter. The arrays at each index
          may be null. In this case, the method just checks the mechanism itself.</dd>
<dt><span class="strong">Returns:</span></dt><dd>True, if the current token and supports at least one mechanism and supports at least on
         of the feature combinations of the same mechanism. False, if the token does not support
         one of the given mechanisms with one of the feature combination of this mechanism, or
         if there is no token present.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>TokenException</code> - If getting the mechanism infos failed.</dd><dt><span class="strong">Preconditions</span></dt>
  <dd>(mechanisms <> null) (mechanismFeatures <> null) (mechanisms.length ==
                mechanismFeatures.length)</dd></dl>
</li>
</ul>
<a name="isRemovable()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRemovable</h4>
<pre>public&nbsp;boolean&nbsp;isRemovable()</pre>
<div class="block">This method returns <code>true</code> if the slot of this token manager is a slot with a
 removable token. For smart cards reader, this is usually <code>true</code>. HSMs often have
 slots with fixed tokens which cannot be removed. In this case, this method returns
 <code>false</code>, meaning that the token is always present in the slot. This information may
 be useful for certain applications.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the token in this slot is removable; e.g. if it is a smart card in
         a card reader. <code>false</code> if the token is fixed in the slot and cannot be
         removed during runtime; e.g. a token of a HSM.</dd></dl>
</li>
</ul>
<a name="isTokenPresent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isTokenPresent</h4>
<pre>public&nbsp;boolean&nbsp;isTokenPresent()
                       throws TokenException</pre>
<div class="block">Check, if there is a token present in the slot of this token manager.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>True, if there is a token present in the slot of this token manager, false otherwise.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>TokenException</code> - If getting the slot info fails.</dd></dl>
</li>
</ul>
<a name="loginUser(char[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loginUser</h4>
<pre>public&nbsp;boolean&nbsp;loginUser(char[]&nbsp;PIN)
                  throws TokenException,
                         <a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11AuthenticationCanceledException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11AuthenticationCanceledException</a>,
                         <a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11AuthenticationException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11AuthenticationException</a></pre>
<div class="block">Login the user into the given session. According to PKCS#11 all other parallel session also get
 logged in. This method uses the prompt object given by its provider's getPassphrasePrompt()
 method to prompt the PIN from the user. It gets additional configuration information like the
 number of allowed retries from the provider (To be changed to get it from PKCS#11).
 <p>
 If the session has already been logged in, this method will not try to login the session again
 and return <code>false</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>session</code> - The session to login. If the session is <code>null</code>, this method will open a
          read-only user session.</dd><dd><code>PIN</code> - The user PIN if already known, or <code>null</code> if unavailable.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code>, if this call did actually call the login method of the underlying
         PKCS#11 module, <code>false</code>, if the user was already logged in and a call to the
         login method was not required.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>TokenException</code> - If token or session handling fails.</dd>
<dd><code><a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11AuthenticationCanceledException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11AuthenticationCanceledException</a></code> - If user canceled the PIN entry.</dd>
<dd><code><a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11AuthenticationException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11AuthenticationException</a></code> - If the authentication failed.</dd></dl>
</li>
</ul>
<a name="loginSO(char[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loginSO</h4>
<pre>public&nbsp;boolean&nbsp;loginSO(char[]&nbsp;PIN)
                throws TokenException,
                       <a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11AuthenticationCanceledException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11AuthenticationCanceledException</a>,
                       <a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11AuthenticationException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11AuthenticationException</a></pre>
<div class="block">Login the SO into the given session. According to PKCS#11 all other parallel session also get
 logged in. This method uses the prompt object given by its provider's getPassphrasePrompt()
 method to prompt the PIN from the user. It gets additional configuration information like the
 number of allowed retries from the provider (To be changed to get it from PKCS#11).
 <p>
 If the session has already been logged in, this method will not try to login the session again
 and return <code>false</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>session</code> - The session to login. If the session is <code>null</code>, this method will open a
          read-only user session.</dd><dd><code>PIN</code> - The PIN if already known, or <code>null</code> if unavailable.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code>, if this call did actually call the login method of the underlying
         PKCS#11 module, <code>false</code>, if the user was already logged in and a call to the
         login method was not required.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>TokenException</code> - If token or session handling fails.</dd>
<dd><code><a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11AuthenticationCanceledException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11AuthenticationCanceledException</a></code> - If user canceled the PIN entry.</dd>
<dd><code><a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11AuthenticationException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11AuthenticationException</a></code> - If the authentication failed.</dd></dl>
</li>
</ul>
<a name="login(boolean, char[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>login</h4>
<pre>public&nbsp;boolean&nbsp;login(boolean&nbsp;SORole,
            char[]&nbsp;PIN)
              throws TokenException,
                     <a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11AuthenticationCanceledException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11AuthenticationCanceledException</a>,
                     <a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11AuthenticationException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11AuthenticationException</a></pre>
<div class="block">Login. According to PKCS#11 all parallel session get logged in. This method uses the prompt
 object given by its provider's getPassphrasePrompt() method to prompt the PIN from the user. It
 gets additional configuration information like the number of allowed retries from the provider
 (To be changed to get it from PKCS#11).
 <p>
 If the session has already been logged in, this method will not try to login the session again
 and return <code>false</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>SORole</code> - Whether or not to login as Security Officer (SO)</dd><dd><code>PIN</code> - The user PIN if already known, or <code>null</code> if unavailable.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code>, if this call did actually call the login method of the underlying
         PKCS#11 module, <code>false</code>, if the user was already logged in and a call to the
         login method was not required.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>TokenException</code> - If token or session handling fails.</dd>
<dd><code><a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11AuthenticationCanceledException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11AuthenticationCanceledException</a></code> - If user canceled the PIN entry.</dd>
<dd><code><a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11AuthenticationException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11AuthenticationException</a></code> - If the authentication failed.</dd></dl>
</li>
</ul>
<a name="login(Session, boolean, char[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>login</h4>
<pre>public&nbsp;boolean&nbsp;login(Session&nbsp;session,
            boolean&nbsp;SORole,
            char[]&nbsp;PIN)
              throws TokenException,
                     <a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11AuthenticationCanceledException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11AuthenticationCanceledException</a>,
                     <a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11AuthenticationException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11AuthenticationException</a></pre>
<div class="block">Login the user into the given session. According to PKCS#11 all other parallel session also get
 logged in. This method uses the prompt object given by its provider's getPassphrasePrompt()
 method to prompt the PIN from the user. It gets additional configuration information like the
 number of allowed retries from the provider (To be changed to get it from PKCS#11).
 <p>
 If the session has already been logged in, this method will not try to login the session again
 and return <code>false</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>session</code> - The session to login. If the session is <code>null</code>, this method will open a
          read-only user session.</dd><dd><code>SORole</code> - Whether or not to login as Security Officer (SO)</dd><dd><code>PIN</code> - The user PIN if already known, or <code>null</code> if unavailable.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code>, if this call did actually call the login method of the underlying
         PKCS#11 module, <code>false</code>, if the user was already logged in and a call to the
         login method was not required.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>TokenException</code> - If token or session handling fails.</dd>
<dd><code><a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11AuthenticationCanceledException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11AuthenticationCanceledException</a></code> - If user canceled the PIN entry.</dd>
<dd><code><a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11AuthenticationException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11AuthenticationException</a></code> - If the authentication failed.</dd></dl>
</li>
</ul>
<a name="logout()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logout</h4>
<pre>public&nbsp;void&nbsp;logout()
            throws TokenException</pre>
<div class="block">Log out the current user (user or SO). Attention: any session operating on this token will be
 logged out, because all sessions for a token have the same login state.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>TokenException</code> - If logout fails.</dd></dl>
</li>
</ul>
<a name="logout(Session)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logout</h4>
<pre>public&nbsp;void&nbsp;logout(Session&nbsp;session)
            throws TokenException</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i></i></div>
<div class="block">Log out the current user (user or SO) from the given session. Attention: any other session
 operating on this token will also be logged out, because all sessions for a token have the same
 login state. <br>
 If the given session is <code>null</code>, the configured login manager may acquire a suitable
 session for logout.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>session</code> - The session to logout or <code>null</code> to just logout from the token using any
          session.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>TokenException</code> - If logout fails.</dd></dl>
</li>
</ul>
<a name="setUserPIN(Session, char[], char[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUserPIN</h4>
<pre>public&nbsp;void&nbsp;setUserPIN(Session&nbsp;session,
              char[]&nbsp;oldUserPIN,
              char[]&nbsp;newUserPIN)
                throws TokenException,
                       <a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11AuthenticationCanceledException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11AuthenticationCanceledException</a>,
                       <a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11AuthenticationException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11AuthenticationException</a></pre>
<div class="block">Set or change the user PIN of the token. This method uses the currently set handler for
 prompting the new user PIN. This handler can be set in the attached provider instance.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>session</code> - The session to use for setting the PIN. If this is null, the method will open a
          read-write use session.</dd><dd><code>oldUserPIN</code> - The old (current) user PIN if already known, or null if unavailable.</dd><dd><code>newUserPIN</code> - The new user PIN if already known, or null if unavailable.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>TokenException</code> - If changing the PIN fails.</dd>
<dd><code><a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11AuthenticationCanceledException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11AuthenticationCanceledException</a></code> - If the user PIN has to be prompted and the user canceled the PIN entry.</dd>
<dd><code><a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11AuthenticationException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11AuthenticationException</a></code> - If PIN verification failed.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../iaik/pkcs/pkcs11/provider/LoginManager.html#setUserPIN(iaik.pkcs.pkcs11.provider.TokenManager, Session, char[], char[])"><code>LoginManager.setUserPIN(TokenManager, Session, char[], char[])</code></a></dd></dl>
</li>
</ul>
<a name="makeAuthorizedSession(Session, char[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeAuthorizedSession</h4>
<pre>public&nbsp;boolean&nbsp;makeAuthorizedSession(Session&nbsp;session,
                            char[]&nbsp;PIN)
                              throws TokenException,
                                     <a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11TokenUnavailableException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11TokenUnavailableException</a>,
                                     <a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11AuthenticationException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11AuthenticationException</a></pre>
<div class="block">Make the given session authorized. This means login the user, if a login is required by the
 token and the session is not already logged in.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>session</code> - The session to login, if a login is required.</dd><dd><code>PIN</code> - The user PIN if already known, or <code>null</code> is unavailable.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code>, if this call did actually call the login method of the underlying
         PKCS#11 module, <code>false</code>, if the user was already logged in or a login is not
         required by the token.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>TokenException</code> - If disposing the session fails.</dd>
<dd><code><a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11TokenUnavailableException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11TokenUnavailableException</a></code> - If the token is unavailable</dd>
<dd><code><a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11AuthenticationException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11AuthenticationException</a></code> - If authenticating the user failed.</dd></dl>
</li>
</ul>
<a name="makeAuthorizedSession(Session, boolean, char[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeAuthorizedSession</h4>
<pre>public&nbsp;boolean&nbsp;makeAuthorizedSession(Session&nbsp;session,
                            boolean&nbsp;SORole,
                            char[]&nbsp;PIN)
                              throws TokenException,
                                     <a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11TokenUnavailableException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11TokenUnavailableException</a>,
                                     <a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11AuthenticationException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11AuthenticationException</a></pre>
<div class="block">Make the given session authorized. This means login the user, if a login is required by the
 token and the session is not already logged in.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>session</code> - The session to login, if a login is required.</dd><dd><code>PIN</code> - The user PIN if already known, or <code>null</code> is unavailable.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code>, if this call did actually call the login method of the underlying
         PKCS#11 module, <code>false</code>, if the user was already logged in or a login is not
         required by the token.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>TokenException</code> - If disposing the session fails.</dd>
<dd><code><a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11TokenUnavailableException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11TokenUnavailableException</a></code> - If the token is unavailable</dd>
<dd><code><a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11AuthenticationException.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11AuthenticationException</a></code> - If authenticating the user failed.</dd></dl>
</li>
</ul>
<a name="waitForSlotEvent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForSlotEvent</h4>
<pre>public&nbsp;void&nbsp;waitForSlotEvent()
                      throws TokenException</pre>
<div class="block">This method blocks until an event for the slot of this token manager occurs.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>TokenException</code> - If waiting for an event fails.</dd></dl>
</li>
</ul>
<a name="notifyKeyStores()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notifyKeyStores</h4>
<pre>public&nbsp;void&nbsp;notifyKeyStores()</pre>
<div class="block">Notify all key store which use this token manager that they should refresh their contents. This
 may be due to a login/logout operation which may alter the list of accessible objects or may
 change object handles.</div>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block">Returns a string with the name and the version number of this provider.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the string with the name and the version number for this provider.</dd></dl>
</li>
</ul>
<a name="finalize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finalize</h4>
<pre>public&nbsp;void&nbsp;finalize()
              throws java.lang.Throwable</pre>
<div class="block">Try to finalize the underlying PKCS#11 module if there is no other token manager that uses the
 same module.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>finalize</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Throwable</code> - If anything fails. Caught by VM.</dd></dl>
</li>
</ul>
<a name="closeSessions()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeSessions</h4>
<pre>public&nbsp;void&nbsp;closeSessions()</pre>
<div class="block">Close all sessions managed by this provider instance.</div>
</li>
</ul>
<a name="getDefaultTokenManager()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getDefaultTokenManager</h4>
<pre>public static&nbsp;<a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html" title="class in iaik.pkcs.pkcs11.provider">TokenManager</a>&nbsp;getDefaultTokenManager()</pre>
<div class="block">Gets the token manager of the first registered pkcs11 provider.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the default token manager</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TokenManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>
        
          <b>IAIK PKCS#11 Provider API Documentation</b><br>
          <font size="-1">version 1.5</font>
         
      </em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html" title="class in iaik.pkcs.pkcs11.provider"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?iaik/pkcs/pkcs11/provider/TokenManager.html" target="_top">Frames</a></li>
<li><a href="TokenManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
        
          <font size="-1">IAIK JavaSecurity Website <a href="http://jce.iaik.tugraz.at/">http://jce.iaik.tugraz.at/</a><br>
            <br> IAIK at Graz University of Technology, Austria, Europe 
            <br> Copyright 2001-2004, IAIK, Graz University of Technology, Inffeldgasse 16a, 8010 Graz, Austria. All Rights Reserved.
          </font>
          <font size="-1">version 1.5</font>
        
      </small></p>
</body>
</html>
