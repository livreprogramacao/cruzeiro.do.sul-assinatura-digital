<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_55) on Fri Mar 06 13:34:50 CET 2015 -->
<title>TokenKeyStoreSpi (IAIK PKCS#11 Provider API Documentation)</title>
<meta name="date" content="2015-03-06">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TokenKeyStoreSpi (IAIK PKCS#11 Provider API Documentation)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TokenKeyStoreSpi.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>
        
          <b>IAIK PKCS#11 Provider API Documentation</b><br>
          <font size="-1">version 1.5</font>
         
      </em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreFastSpi.html" title="class in iaik.pkcs.pkcs11.provider"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html" title="class in iaik.pkcs.pkcs11.provider"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html" target="_top">Frames</a></li>
<li><a href="TokenKeyStoreSpi.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">iaik.pkcs.pkcs11.provider</div>
<h2 title="Class TokenKeyStoreSpi" class="title">Class TokenKeyStoreSpi</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>java.security.KeyStoreSpi</li>
<li>
<ul class="inheritance">
<li>iaik.pkcs.pkcs11.provider.TokenKeyStoreSpi</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../iaik/pkcs/pkcs11/provider/PKCS11EngineClass.html" title="interface in iaik.pkcs.pkcs11.provider">PKCS11EngineClass</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreFastSpi.html" title="class in iaik.pkcs.pkcs11.provider">TokenKeyStoreFastSpi</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">TokenKeyStoreSpi</span>
extends java.security.KeyStoreSpi
implements <a href="../../../../iaik/pkcs/pkcs11/provider/PKCS11EngineClass.html" title="interface in iaik.pkcs.pkcs11.provider">PKCS11EngineClass</a></pre>
<div class="block">A key store implementation that uses the IAIK PKCS#11 wrapper. This key store is bound to a slot
 which is managed by a token manager. This key store updates its contents automatically if a token
 is removed, inserted or changed. If there is currently no token in the slot, the keystore is
 empty. It is also possible to insert keys and certificates into the key store if the underlying
 token is writable. All newly set keys and certificates become token objects; this means, they are
 stored permanently rather than only for the current session. Newly inserted private and secret
 keys also get their sensitive and private flag set per default. <br>
 Certificate chains are ordered with user-certificate first where used by methods of this class.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Karl Scheibelhofer</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html#KEY_STORE_TYPE">KEY_STORE_TYPE</a></strong></code>
<div class="block">The type name of this key store.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html#TokenKeyStoreSpi()">TokenKeyStoreSpi</a></strong>()</code>
<div class="block">Construct a new uninitialized keystore.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html#TokenKeyStoreSpi(iaik.pkcs.pkcs11.provider.TokenManager)">TokenKeyStoreSpi</a></strong>(<a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html" title="class in iaik.pkcs.pkcs11.provider">TokenManager</a>&nbsp;tokenManager)</code>
<div class="block">Construct a new keystore from the given PKCS#11 token.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Enumeration</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html#engineAliases()">engineAliases</a></strong>()</code>
<div class="block">Get all known aliases.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html#engineContainsAlias(java.lang.String)">engineContainsAlias</a></strong>(java.lang.String&nbsp;alias)</code>
<div class="block">Checks, if this key store contains an entry with the given alias.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html#engineDeleteEntry(java.lang.String)">engineDeleteEntry</a></strong>(java.lang.String&nbsp;alias)</code>
<div class="block">Delete the entry with the given alias.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.security.cert.Certificate</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html#engineGetCertificate(java.lang.String)">engineGetCertificate</a></strong>(java.lang.String&nbsp;alias)</code>
<div class="block">Get the certificate for the given alias.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html#engineGetCertificateAlias(java.security.cert.Certificate)">engineGetCertificateAlias</a></strong>(java.security.cert.Certificate&nbsp;certificate)</code>
<div class="block">Get the alias of the given certificate.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.security.cert.Certificate[]</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html#engineGetCertificateChain(java.lang.String)">engineGetCertificateChain</a></strong>(java.lang.String&nbsp;alias)</code>
<div class="block">Get the certificate chain for the entry with the given alias.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Date</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html#engineGetCreationDate(java.lang.String)">engineGetCreationDate</a></strong>(java.lang.String&nbsp;alias)</code>
<div class="block">Get the creation date of the entry with the given alias name.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.security.Key</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html#engineGetKey(java.lang.String, char[])">engineGetKey</a></strong>(java.lang.String&nbsp;alias,
            char[]&nbsp;password)</code>
<div class="block">Get the key that has the alias given as argument.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html#engineIsCertificateEntry(java.lang.String)">engineIsCertificateEntry</a></strong>(java.lang.String&nbsp;alias)</code>
<div class="block">Checks, if the alias refers to a trusted certificate entry.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html#engineIsKeyEntry(java.lang.String)">engineIsKeyEntry</a></strong>(java.lang.String&nbsp;alias)</code>
<div class="block">Checks, if the alias refers to a key entry.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html#engineLoad(java.io.InputStream, char[])">engineLoad</a></strong>(java.io.InputStream&nbsp;in,
          char[]&nbsp;password)</code>
<div class="block">Loads and initializes this key store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html#engineSetCertificateEntry(java.lang.String, java.security.cert.Certificate)">engineSetCertificateEntry</a></strong>(java.lang.String&nbsp;alias,
                         java.security.cert.Certificate&nbsp;certificate)</code>
<div class="block">Implements the corresponding method of the KeyStoreSpi class according to its specification.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html#engineSetKeyEntry(java.lang.String, byte[], java.security.cert.Certificate[])">engineSetKeyEntry</a></strong>(java.lang.String&nbsp;alias,
                 byte[]&nbsp;key,
                 java.security.cert.Certificate[]&nbsp;certificateChain)</code>
<div class="block">UNSUPPORTED.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html#engineSetKeyEntry(java.lang.String, java.security.Key, char[], java.security.cert.Certificate[])">engineSetKeyEntry</a></strong>(java.lang.String&nbsp;alias,
                 java.security.Key&nbsp;key,
                 char[]&nbsp;password,
                 java.security.cert.Certificate[]&nbsp;certificateChain)</code>
<div class="block">Implements the corresponding method of the KeyStoreSpi class according to its specification.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html#engineSize()">engineSize</a></strong>()</code>
<div class="block">Returns the number of entries in this key store, keys and certificate entries.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html#engineStore(java.io.OutputStream, char[])">engineStore</a></strong>(java.io.OutputStream&nbsp;out,
           char[]&nbsp;password)</code>
<div class="block">A call to this method, just sets the user PIN to a new value.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html" title="class in iaik.pkcs.pkcs11.provider">TokenManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html#getTokenManager()">getTokenManager</a></strong>()</code>
<div class="block">Get the token manager of the token that holds the contents of this key store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html#isSupportedBy(iaik.pkcs.pkcs11.provider.TokenManager)">isSupportedBy</a></strong>(<a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html" title="class in iaik.pkcs.pkcs11.provider">TokenManager</a>&nbsp;tokenManager)</code>
<div class="block">Check, if the current token of the given token manager supports the required features for this
 engine class.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.security.KeyStoreSpi">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.security.KeyStoreSpi</h3>
<code>engineEntryInstanceOf, engineGetEntry, engineLoad, engineSetEntry, engineStore</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="KEY_STORE_TYPE">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>KEY_STORE_TYPE</h4>
<pre>public static final&nbsp;java.lang.String KEY_STORE_TYPE</pre>
<div class="block">The type name of this key store.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#iaik.pkcs.pkcs11.provider.TokenKeyStoreSpi.KEY_STORE_TYPE">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TokenKeyStoreSpi()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TokenKeyStoreSpi</h4>
<pre>public&nbsp;TokenKeyStoreSpi()</pre>
<div class="block">Construct a new uninitialized keystore. The application must call load(InputStream, char[]).</div>
</li>
</ul>
<a name="TokenKeyStoreSpi(iaik.pkcs.pkcs11.provider.TokenManager)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TokenKeyStoreSpi</h4>
<pre>public&nbsp;TokenKeyStoreSpi(<a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html" title="class in iaik.pkcs.pkcs11.provider">TokenManager</a>&nbsp;tokenManager)</pre>
<div class="block">Construct a new keystore from the given PKCS#11 token.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tokenManager</code> - The token manager for logging in the user and getting configuration data.</dd><dt><span class="strong">Preconditions</span></dt>
  <dd>(tokenManager <> null)</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="engineAliases()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineAliases</h4>
<pre>public&nbsp;java.util.Enumeration&nbsp;engineAliases()</pre>
<div class="block">Get all known aliases.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineAliases</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>An enumeration of all aliases.</dd><dt><span class="strong">Postconditions</span></dt>
  <dd>(result <> null)</dd></dl>
</li>
</ul>
<a name="engineContainsAlias(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineContainsAlias</h4>
<pre>public&nbsp;boolean&nbsp;engineContainsAlias(java.lang.String&nbsp;alias)</pre>
<div class="block">Checks, if this key store contains an entry with the given alias.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineContainsAlias</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - The alias to look for.</dd>
<dt><span class="strong">Returns:</span></dt><dd>True, if there is an entry with the given alias.</dd><dt><span class="strong">See Also:</span></dt><dd><code>KeyStoreSpi.engineContainsAlias(String)</code></dd></dl>
</li>
</ul>
<a name="engineDeleteEntry(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineDeleteEntry</h4>
<pre>public&nbsp;void&nbsp;engineDeleteEntry(java.lang.String&nbsp;alias)
                       throws java.security.KeyStoreException</pre>
<div class="block">Delete the entry with the given alias. If the given entry is a key entry with a certificate
 chain, this method only deletes those certificate objects from the token which's PKCS#11 label
 is equal to the alias of the entry. This behavior should avoid unintentional deletion of
 certificate entries that were only used to create a chain when reading the key store but have
 not been set using this provider.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineDeleteEntry</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - The alias of the element to delete.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.security.KeyStoreException</code> - If the entry cannot be deleted.</dd><dt><span class="strong">See Also:</span></dt><dd><code>KeyStoreSpi.engineDeleteEntry(String)</code></dd></dl>
</li>
</ul>
<a name="engineGetCertificate(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineGetCertificate</h4>
<pre>public&nbsp;java.security.cert.Certificate&nbsp;engineGetCertificate(java.lang.String&nbsp;alias)</pre>
<div class="block">Get the certificate for the given alias.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineGetCertificate</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - The alias of the entry.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The certificate of the entry. The end-user certificate, if the alias is the alias of a
         private key entry. null, if there is no certificate or no such entry.</dd><dt><span class="strong">See Also:</span></dt><dd><code>KeyStoreSpi.engineGetCertificate(String)</code></dd></dl>
</li>
</ul>
<a name="engineGetCertificateAlias(java.security.cert.Certificate)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineGetCertificateAlias</h4>
<pre>public&nbsp;java.lang.String&nbsp;engineGetCertificateAlias(java.security.cert.Certificate&nbsp;certificate)</pre>
<div class="block">Get the alias of the given certificate.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineGetCertificateAlias</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>certificate</code> - The certificate to look up the alias for.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The alias of the certificate or null, if there is no such certificate.</dd><dt><span class="strong">See Also:</span></dt><dd><code>KeyStoreSpi.engineGetCertificateAlias(java.security.cert.Certificate)</code></dd><dt><span class="strong">Preconditions</span></dt>
  <dd>certificate <> null</dd></dl>
</li>
</ul>
<a name="engineGetCertificateChain(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineGetCertificateChain</h4>
<pre>public&nbsp;java.security.cert.Certificate[]&nbsp;engineGetCertificateChain(java.lang.String&nbsp;alias)</pre>
<div class="block">Get the certificate chain for the entry with the given alias. Currently, this method returns
 only chains that contain the end-user certificate only.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineGetCertificateChain</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - The alias of the key entry to get the chain from.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The certificate chain of the given entry or null if there is no such entry or the entry
         has no certificate chain.</dd><dt><span class="strong">See Also:</span></dt><dd><code>KeyStoreSpi.engineGetCertificateChain(String)</code></dd><dt><span class="strong">Preconditions</span></dt>
  <dd>(alias <> null)</dd>
<dt><span class="strong">Postconditions</span></dt>
  <dd>(result <> null)</dd></dl>
</li>
</ul>
<a name="engineGetCreationDate(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineGetCreationDate</h4>
<pre>public&nbsp;java.util.Date&nbsp;engineGetCreationDate(java.lang.String&nbsp;alias)</pre>
<div class="block">Get the creation date of the entry with the given alias name. This method is currently not
 supported. Just returns null.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineGetCreationDate</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - The alias of the entry to get the creation date.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The creation date.</dd><dt><span class="strong">See Also:</span></dt><dd><code>KeyStoreSpi.engineGetCreationDate(String)</code></dd><dt><span class="strong">Postconditions</span></dt>
  <dd>result == null</dd></dl>
</li>
</ul>
<a name="engineGetKey(java.lang.String, char[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineGetKey</h4>
<pre>public&nbsp;java.security.Key&nbsp;engineGetKey(java.lang.String&nbsp;alias,
                             char[]&nbsp;password)
                               throws java.security.NoSuchAlgorithmException,
                                      java.security.UnrecoverableKeyException</pre>
<div class="block">Get the key that has the alias given as argument. By now, this implementation does not use the
 given password.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineGetKey</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - The alias of the wanted key.</dd><dd><code>password</code> - The password used to protect the key.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The key with the given alias or null, if there is no such key.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.security.NoSuchAlgorithmException</code> - If the key cannot be constructed, because its algorithm is not known.</dd>
<dd><code>java.security.UnrecoverableKeyException</code> - If the key cannot be recovered.</dd><dt><span class="strong">See Also:</span></dt><dd><code>KeyStoreSpi.engineGetKey(String,char[])</code></dd></dl>
</li>
</ul>
<a name="engineIsCertificateEntry(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineIsCertificateEntry</h4>
<pre>public&nbsp;boolean&nbsp;engineIsCertificateEntry(java.lang.String&nbsp;alias)</pre>
<div class="block">Checks, if the alias refers to a trusted certificate entry.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineIsCertificateEntry</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - The alias name to check.</dd>
<dt><span class="strong">Returns:</span></dt><dd>True, if the alias is a trusted certificate entry.</dd><dt><span class="strong">See Also:</span></dt><dd><code>KeyStoreSpi.engineIsCertificateEntry(String)</code></dd></dl>
</li>
</ul>
<a name="engineIsKeyEntry(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineIsKeyEntry</h4>
<pre>public&nbsp;boolean&nbsp;engineIsKeyEntry(java.lang.String&nbsp;alias)</pre>
<div class="block">Checks, if the alias refers to a key entry.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineIsKeyEntry</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - The alias name to check.</dd>
<dt><span class="strong">Returns:</span></dt><dd>True, if the alias is a key entry.</dd><dt><span class="strong">See Also:</span></dt><dd><code>KeyStoreSpi.engineIsKeyEntry(String)</code></dd></dl>
</li>
</ul>
<a name="engineLoad(java.io.InputStream, char[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineLoad</h4>
<pre>public&nbsp;void&nbsp;engineLoad(java.io.InputStream&nbsp;in,
              char[]&nbsp;password)
                throws java.io.IOException,
                       java.lang.UnsupportedOperationException</pre>
<div class="block">Loads and initializes this key store. The user PIN may be provided as the password. If the
 application provides the PIN like this, the keystore will not prompt the password by other
 means. Please note that the keystore will keep a reference to the <code>password</code> object
 if it is provided.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineLoad</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>in</code> - The stream to load from.</dd><dd><code>password</code> - The user PIN (or password) for the token.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If the keystore cannot be loaded.</dd>
<dd><code>java.lang.UnsupportedOperationException</code> - If getting the provider instance fails.</dd><dt><span class="strong">See Also:</span></dt><dd><code>KeyStoreSpi.engineLoad(InputStream,char[])</code></dd></dl>
</li>
</ul>
<a name="engineSetCertificateEntry(java.lang.String, java.security.cert.Certificate)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineSetCertificateEntry</h4>
<pre>public&nbsp;void&nbsp;engineSetCertificateEntry(java.lang.String&nbsp;alias,
                             java.security.cert.Certificate&nbsp;certificate)
                               throws java.security.KeyStoreException</pre>
<div class="block">Implements the corresponding method of the KeyStoreSpi class according to its specification.
 Stores the certificate on the underlying PKCS#11 token as token object not as session object;
 this means it remains on the token after token removal. It tries to set as many attributes in
 the PKCS#11 certificate object as possible. However, it does not use any attributes of version
 2.10 or 2.11 of the PKCS#11 standard to ensure compatibility. This implementation supports
 X.509 public key certificates and X.509 attribute certificates of the class
 iaik.x509.attr.AttributeCertificate.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineSetCertificateEntry</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - The alias to use for the certificate.</dd><dd><code>certificate</code> - The certificate to load onto the token.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.security.KeyStoreException</code> - If storing the certificate fails for some reason.</dd><dt><span class="strong">See Also:</span></dt><dd><code>KeyStoreSpi.engineSetCertificateEntry(String,java.security.cert.Certificate)</code></dd><dt><span class="strong">Preconditions</span></dt>
  <dd>(alias <> null) and (certificate <> null)</dd></dl>
</li>
</ul>
<a name="engineSetKeyEntry(java.lang.String, java.security.Key, char[], java.security.cert.Certificate[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineSetKeyEntry</h4>
<pre>public&nbsp;void&nbsp;engineSetKeyEntry(java.lang.String&nbsp;alias,
                     java.security.Key&nbsp;key,
                     char[]&nbsp;password,
                     java.security.cert.Certificate[]&nbsp;certificateChain)
                       throws java.security.KeyStoreException</pre>
<div class="block">Implements the corresponding method of the KeyStoreSpi class according to its specification.
 Stores the key and the certificates on the underlying PKCS#11 token as token objects not as
 session objects; this means, they remains on the token after token removal. The user
 certificate gets the same ID as the provided key. The remaining certificates get a new ID and
 are added as trusted certificates. It tries to set as many attributes in the PKCS#11 key and
 certificate objects as possible. However, it does not use any attributes of version 2.10 or
 2.11 of the PKCS#11 standard to ensure compatibility. This implementation supports RSA, DSA and
 DH keys and X.509 public key certificates.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineSetKeyEntry</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - The alias for the new entry.</dd><dd><code>key</code> - The key of this new key entry.</dd><dd><code>password</code> - This parameter is ignored.</dd><dd><code>certificateChain</code> - The certificate chain associated .</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.security.KeyStoreException</code> - If creating the new key and certificate entry failed.</dd><dt><span class="strong">See Also:</span></dt><dd><code>KeyStoreSpi.engineSetKeyEntry(String,java.security.Key,char[],java.security.cert.Certificate[])</code></dd><dt><span class="strong">Preconditions</span></dt>
  <dd>(alias <> null) and (key <> null)</dd></dl>
</li>
</ul>
<a name="engineSetKeyEntry(java.lang.String, byte[], java.security.cert.Certificate[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineSetKeyEntry</h4>
<pre>public&nbsp;void&nbsp;engineSetKeyEntry(java.lang.String&nbsp;alias,
                     byte[]&nbsp;key,
                     java.security.cert.Certificate[]&nbsp;certificateChain)
                       throws java.security.KeyStoreException</pre>
<div class="block">UNSUPPORTED. Just throws KeyStoreException.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineSetKeyEntry</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - .</dd><dd><code>key</code> - .</dd><dd><code>certificateChain</code> - .</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.security.KeyStoreException</code> - Always throws this exception.</dd><dt><span class="strong">See Also:</span></dt><dd><code>KeyStoreSpi.engineSetKeyEntry(String,byte[],java.security.cert.Certificate[])</code></dd></dl>
</li>
</ul>
<a name="engineSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineSize</h4>
<pre>public&nbsp;int&nbsp;engineSize()</pre>
<div class="block">Returns the number of entries in this key store, keys and certificate entries. This equals the
 number of aliases in this key store.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineSize</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The number of entries in this key store.</dd><dt><span class="strong">See Also:</span></dt><dd><code>KeyStoreSpi.engineSize()</code></dd></dl>
</li>
</ul>
<a name="engineStore(java.io.OutputStream, char[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineStore</h4>
<pre>public&nbsp;void&nbsp;engineStore(java.io.OutputStream&nbsp;out,
               char[]&nbsp;password)
                 throws java.io.IOException,
                        java.security.NoSuchAlgorithmException,
                        java.security.cert.CertificateException</pre>
<div class="block">A call to this method, just sets the user PIN to a new value. If an output stream is provided,
 the provider name is written to it; i.e. this output can be used for loading a key store of
 this type. If a password is given, the method tries to set this password as the new user PIN.
 If no password is provided, the method will try to use other means to set the new password.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineStore</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>out</code> - If provided, the provider name is written to it.</dd><dd><code>password</code> - The new user PIN, or null to leave the user.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If writing the key store fails.</dd>
<dd><code>java.security.NoSuchAlgorithmException</code> - If a required algorithm is unavailable.</dd>
<dd><code>java.security.cert.CertificateException</code> - If handling a certificate fails.</dd><dt><span class="strong">See Also:</span></dt><dd><code>KeyStoreSpi.engineStore(OutputStream,char[])</code></dd></dl>
</li>
</ul>
<a name="getTokenManager()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTokenManager</h4>
<pre>public&nbsp;<a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html" title="class in iaik.pkcs.pkcs11.provider">TokenManager</a>&nbsp;getTokenManager()</pre>
<div class="block">Get the token manager of the token that holds the contents of this key store.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The token manager of this key store.</dd></dl>
</li>
</ul>
<a name="isSupportedBy(iaik.pkcs.pkcs11.provider.TokenManager)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isSupportedBy</h4>
<pre>public&nbsp;boolean&nbsp;isSupportedBy(<a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html" title="class in iaik.pkcs.pkcs11.provider">TokenManager</a>&nbsp;tokenManager)</pre>
<div class="block">Check, if the current token of the given token manager supports the required features for this
 engine class.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../iaik/pkcs/pkcs11/provider/PKCS11EngineClass.html#isSupportedBy(iaik.pkcs.pkcs11.provider.TokenManager)">isSupportedBy</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../iaik/pkcs/pkcs11/provider/PKCS11EngineClass.html" title="interface in iaik.pkcs.pkcs11.provider">PKCS11EngineClass</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>tokenManager</code> - The token manager. Used to get information about the current token.</dd>
<dt><span class="strong">Returns:</span></dt><dd>True, if this engine class can be used with the currently present token of the given
         token manager.</dd><dt><span class="strong">Preconditions</span></dt>
  <dd>(tokenManager <> null)</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TokenKeyStoreSpi.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>
        
          <b>IAIK PKCS#11 Provider API Documentation</b><br>
          <font size="-1">version 1.5</font>
         
      </em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreFastSpi.html" title="class in iaik.pkcs.pkcs11.provider"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html" title="class in iaik.pkcs.pkcs11.provider"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html" target="_top">Frames</a></li>
<li><a href="TokenKeyStoreSpi.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
        
          <font size="-1">IAIK JavaSecurity Website <a href="http://jce.iaik.tugraz.at/">http://jce.iaik.tugraz.at/</a><br>
            <br> IAIK at Graz University of Technology, Austria, Europe 
            <br> Copyright 2001-2004, IAIK, Graz University of Technology, Inffeldgasse 16a, 8010 Graz, Austria. All Rights Reserved.
          </font>
          <font size="-1">version 1.5</font>
        
      </small></p>
</body>
</html>
