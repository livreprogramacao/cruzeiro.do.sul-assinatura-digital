<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_55) on Fri Mar 06 13:34:50 CET 2015 -->
<title>TokenKeyStore (IAIK PKCS#11 Provider API Documentation)</title>
<meta name="date" content="2015-03-06">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TokenKeyStore (IAIK PKCS#11 Provider API Documentation)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TokenKeyStore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>
        
          <b>IAIK PKCS#11 Provider API Documentation</b><br>
          <font size="-1">version 1.5</font>
         
      </em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../iaik/pkcs/pkcs11/provider/SessionContainer.html" title="class in iaik.pkcs.pkcs11.provider"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreFastSpi.html" title="class in iaik.pkcs.pkcs11.provider"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?iaik/pkcs/pkcs11/provider/TokenKeyStore.html" target="_top">Frames</a></li>
<li><a href="TokenKeyStore.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_java.security.KeyStore">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">iaik.pkcs.pkcs11.provider</div>
<h2 title="Class TokenKeyStore" class="title">Class TokenKeyStore</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>java.security.KeyStore</li>
<li>
<ul class="inheritance">
<li>iaik.pkcs.pkcs11.provider.TokenKeyStore</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">TokenKeyStore</span>
extends java.security.KeyStore</pre>
<div class="block">An adapter class to gain the possibility to instantiate an object that is an instance of
 KeyStore. In the original KeyStore from SUN, all instance methods are final, which prohibits any
 extension.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Karl Scheibelhofer</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_java.security.KeyStore">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;java.security.KeyStore</h3>
<code>java.security.KeyStore.Builder, java.security.KeyStore.CallbackHandlerProtection, java.security.KeyStore.Entry, java.security.KeyStore.LoadStoreParameter, java.security.KeyStore.PasswordProtection, java.security.KeyStore.PrivateKeyEntry, java.security.KeyStore.ProtectionParameter, java.security.KeyStore.SecretKeyEntry, java.security.KeyStore.TrustedCertificateEntry</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStore.html#KEYSTORE_TYPE">KEYSTORE_TYPE</a></strong></code>
<div class="block">The JCA standard type name of this key store.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStore.html#TokenKeyStore(iaik.pkcs.pkcs11.provider.TokenKeyStoreSpi, iaik.pkcs.pkcs11.provider.IAIKPkcs11, java.lang.String)">TokenKeyStore</a></strong>(<a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html" title="class in iaik.pkcs.pkcs11.provider">TokenKeyStoreSpi</a>&nbsp;cardKeyStore,
             <a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11</a>&nbsp;keystoreProvider,
             java.lang.String&nbsp;keystoreType)</code>
<div class="block">Construct a new KeyStore that forwards all calls to the cardKeyStore object.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStore.html#getReadProtectedKeyOnDemand()">getReadProtectedKeyOnDemand</a></strong>()</code>
<div class="block">This property causes this object to search for objects using only a not explicitely logged-in
 session.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html" title="class in iaik.pkcs.pkcs11.provider">TokenManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStore.html#getTokenManager()">getTokenManager</a></strong>()</code>
<div class="block">Return the token that is associated wtih this keystore.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStore.html#logout()">logout</a></strong>()</code>
<div class="block">This method logs out the session of this key sotre.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStore.html#setReadProtectedKeyOnDemand(boolean)">setReadProtectedKeyOnDemand</a></strong>(boolean&nbsp;onDemand)</code>
<div class="block">Setting this property causes this object to search for objects using only a not explicitely
 logged-in session.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStore.html#updateKeystore()">updateKeystore</a></strong>()</code>
<div class="block">This method updates the key and certificate tables even if token did not change.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.security.KeyStore">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.security.KeyStore</h3>
<code>aliases, containsAlias, deleteEntry, entryInstanceOf, getCertificate, getCertificateAlias, getCertificateChain, getCreationDate, getDefaultType, getEntry, getInstance, getInstance, getInstance, getKey, getProvider, getType, isCertificateEntry, isKeyEntry, load, load, setCertificateEntry, setEntry, setKeyEntry, setKeyEntry, size, store, store</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="KEYSTORE_TYPE">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>KEYSTORE_TYPE</h4>
<pre>public static final&nbsp;java.lang.String KEYSTORE_TYPE</pre>
<div class="block">The JCA standard type name of this key store.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#iaik.pkcs.pkcs11.provider.TokenKeyStore.KEYSTORE_TYPE">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TokenKeyStore(iaik.pkcs.pkcs11.provider.TokenKeyStoreSpi, iaik.pkcs.pkcs11.provider.IAIKPkcs11, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TokenKeyStore</h4>
<pre>public&nbsp;TokenKeyStore(<a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreSpi.html" title="class in iaik.pkcs.pkcs11.provider">TokenKeyStoreSpi</a>&nbsp;cardKeyStore,
             <a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11</a>&nbsp;keystoreProvider,
             java.lang.String&nbsp;keystoreType)</pre>
<div class="block">Construct a new KeyStore that forwards all calls to the cardKeyStore object. This constructor
 calls initialize() to ensure that JCA recognizes this key store as initialized.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cardKeyStore</code> - The object that holds the actual implementation for this key store.</dd><dd><code>keystoreProvider</code> - The (JCE) provider of this key store.</dd><dd><code>keystoreType</code> - The type name this key store will be known by JCA.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getTokenManager()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTokenManager</h4>
<pre>public&nbsp;<a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html" title="class in iaik.pkcs.pkcs11.provider">TokenManager</a>&nbsp;getTokenManager()</pre>
<div class="block">Return the token that is associated wtih this keystore.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The token that is associated with this key store.</dd></dl>
</li>
</ul>
<a name="getReadProtectedKeyOnDemand()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReadProtectedKeyOnDemand</h4>
<pre>public&nbsp;boolean&nbsp;getReadProtectedKeyOnDemand()</pre>
<div class="block">This property causes this object to search for objects using only a not explicitely logged-in
 session. This may result in using a public session, in which the find operation will only find
 public objects. The key store will assume an existing private key for each end-user certificate
 on the token. It will log-in the session, when the applicaiton tries to get this corresponding
 key. However, this may result in the situation that private keys without certificate are not
 listed in the keystore, before the session is logged in.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>True, if the key store shall not explicitely log-in the session for search keys and
         certificates. It will log-in only, if the aplication tries to access such a key.</dd></dl>
</li>
</ul>
<a name="setReadProtectedKeyOnDemand(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setReadProtectedKeyOnDemand</h4>
<pre>public&nbsp;void&nbsp;setReadProtectedKeyOnDemand(boolean&nbsp;onDemand)</pre>
<div class="block">Setting this property causes this object to search for objects using only a not explicitely
 logged-in session. This may result in using a public session, in which the find operation will
 only find public objects. The key store will assume an existing private key for each end-user
 certificate on the token. It will log-in the session, when the applicaiton tries to get this
 corresponding key. However, this may result in the situation that private keys without
 certificate are not listed in the keystore, before the session is logged in.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>onDemand</code> - True, if the key store shall not explicitely log-in the session for search keys and
          certificates. It will log-in only, if the aplication tries to access such a key.</dd></dl>
</li>
</ul>
<a name="updateKeystore()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateKeystore</h4>
<pre>public&nbsp;void&nbsp;updateKeystore()
                    throws <a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11Exception.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11Exception</a></pre>
<div class="block">This method updates the key and certificate tables even if token did not change.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../iaik/pkcs/pkcs11/provider/IAIKPkcs11Exception.html" title="class in iaik.pkcs.pkcs11.provider">IAIKPkcs11Exception</a></code> - If the update fails.</dd></dl>
</li>
</ul>
<a name="logout()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>logout</h4>
<pre>public&nbsp;void&nbsp;logout()</pre>
<div class="block">This method logs out the session of this key sotre. If the key store has no cached session, it
 will request the <a href="../../../../iaik/pkcs/pkcs11/provider/TokenManager.html" title="class in iaik.pkcs.pkcs11.provider"><code>TokenManager</code></a> to logout using any session. Attention! This causes all
 sessions of this token to be logged out. Any currently active operations on this token like
 signing may be interupted. This method is provided to provide means to force a logout after
 certain operations; e.g. after a qualified signature creation.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TokenKeyStore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>
        
          <b>IAIK PKCS#11 Provider API Documentation</b><br>
          <font size="-1">version 1.5</font>
         
      </em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../iaik/pkcs/pkcs11/provider/SessionContainer.html" title="class in iaik.pkcs.pkcs11.provider"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../iaik/pkcs/pkcs11/provider/TokenKeyStoreFastSpi.html" title="class in iaik.pkcs.pkcs11.provider"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?iaik/pkcs/pkcs11/provider/TokenKeyStore.html" target="_top">Frames</a></li>
<li><a href="TokenKeyStore.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_java.security.KeyStore">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
        
          <font size="-1">IAIK JavaSecurity Website <a href="http://jce.iaik.tugraz.at/">http://jce.iaik.tugraz.at/</a><br>
            <br> IAIK at Graz University of Technology, Austria, Europe 
            <br> Copyright 2001-2004, IAIK, Graz University of Technology, Inffeldgasse 16a, 8010 Graz, Austria. All Rights Reserved.
          </font>
          <font size="-1">version 1.5</font>
        
      </small></p>
</body>
</html>
