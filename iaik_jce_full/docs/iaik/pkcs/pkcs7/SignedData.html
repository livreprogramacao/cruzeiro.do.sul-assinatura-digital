<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0) on Mon Dec 21 16:59:22 CET 2015 -->
<title>SignedData (5.3 API Documentation)</title>
<meta name="date" content="2015-12-21">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SignedData (5.3 API Documentation)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>
					
			
			<b>IAIK-JCE Provider API Documentation</b>
		<br>
			<font size=-1>Version 5.3</font>
			
		
				</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../iaik/pkcs/pkcs7/SignedAndEnvelopedDataStream.html" title="class in iaik.pkcs.pkcs7"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html" title="class in iaik.pkcs.pkcs7"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?iaik/pkcs/pkcs7/SignedData.html" target="_top">Frames</a></li>
<li><a href="SignedData.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_iaik.pkcs.pkcs7.SignedDataStream">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">iaik.pkcs.pkcs7</div>
<h2 title="Class SignedData" class="title">Class SignedData</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html" title="class in iaik.pkcs.pkcs7">iaik.pkcs.pkcs7.SignedDataStream</a></li>
<li>
<ul class="inheritance">
<li>iaik.pkcs.pkcs7.SignedData</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../iaik/pkcs/pkcs7/Content.html" title="interface in iaik.pkcs.pkcs7">Content</a>, <a href="../../../iaik/pkcs/pkcs7/ContentStream.html" title="interface in iaik.pkcs.pkcs7">ContentStream</a>, <a href="../../../iaik/utils/EOFListener.html" title="interface in iaik.utils">EOFListener</a>, java.util.EventListener</dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../iaik/pkcs/pkcs7/SignedAndEnvelopedData.html" title="class in iaik.pkcs.pkcs7">SignedAndEnvelopedData</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">SignedData</span>
extends <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html" title="class in iaik.pkcs.pkcs7">SignedDataStream</a>
implements <a href="../../../iaik/pkcs/pkcs7/Content.html" title="interface in iaik.pkcs.pkcs7">Content</a></pre>
<div class="block">This class represents the non-stream implementation of the PKCS#7 content type
 <code>SignedData</code>.
 <p>
 Each PKCS#7 content type is associated with a specific object identifier,
 derived from:
 <p><PRE>
 pkcs-7 OBJECT IDENTIFIER ::=
   { iso(1) member-body(2) US(840) rsadsi(113549)
       pkcs(1) 7 }
 </PRE><p>
 The object identifier for the <code>SignedData</code> content type is
 defined as:
 <p><code>
 signedData OBJECT IDENTIFIER ::= { pkcs-7 2 }
 </code><p>
 which corresponds to the OID string "1.2.840.1.113549.1.7.2".
 <p>
 The <a href = http://www.rsasecurity.com/rsalabs/pkcs/pkcs-7/>PKCS#7
 Cryptographic Message Standard</a> specifies the <code>SignedData</code>
 content type for providing a syntax for building digital signatures. Content
 of any type may be signed by any number of signers in parallel. For each
 signer, a message digest is computed on the content (and any additional
 authenticating information) with a signer-specific message-digest algorithm.
 Subsequently, again for each signer, the corresponding message digest from the
 previous step is encrypted with the particular signer's private key and
 - together with some signer-specific information - collected into a<code>
 SignerInfo</code> value. Finally all created <code>SignerInfo</code> values
 are collected together with the content for forming a <code>SignedData</code>
 structure.
 <p>
 This class implements the <code>SignedData</code> structure resulting from
 the last step described above. The <code>SignedData</code> type is defined
 as ASN.1 SEQUENCE type containing the following components (see <a href =
 http://www.rsasecurity.com/rsalabs/pkcs/pkcs-7/>PKCS#7 specification</a>,
 Version&nbsp;1.5; notice that the ASN.1 module printed below not fully agrees
 with the SignedData definition of Version 1.5, since the <i>certificates</i> field
 is interpreted as SET OF pure X.509 certificates, whereas Version&nbsp;1.5 also
 allows PKCS#6 extended certificates!):
 <p><PRE>
 SignedData ::= SEQUENCE {
   version           Version,
   digestAlgorithms  DigestAlgorithmIdentifiers,
   contentInfo       ContentInfo,
   certificates      [0] IMPLICIT Certificates OPTIONAL,
   crls              [1] IMPLICIT CertificateRevocationLists OPTIONAL,
   signerInfos       SignerInfos }
 <br>
 DigestAlgorithmIdentifiers ::= SET OF DigestAlgorithmIdentifier
 <br>
 Certificates ::= SET OF Certificate -- X.509
 <br>
 CertificateRevocationLists ::= SET OF CertificateRevocationList
 <br>
 SignerInfos ::= SET OF SignerInfo
 </PRE><p>
 The <code>digestAlgorithms</code> field contains the object identifiers of
 the message digest algorithms used by the several signers for digesting the
 content that is supplied in the <code>contentInfo</code> field. The
 optional <code>certificates</code> field shall contain certificate chains
 for all the signers of the <code>signerInfos</code> field. The optional
 <code>crls</code> field may supply information about the revocation
 status of the certificates specified in the <code>certificates</code> field.
 And finally, the <code>signerInfos</code> field collects per-signer
 information for all participated signers including the encrypted digests
 of the content (i.e. the signer-specific digital signatures of the content).
 <p>
 If there are no signers on the content, the signed-data content type may be
 used for disseminating certificates and certificate-revocation lists.
 <p>
 Verifying some received signature(s) is done by decrypting the encrypted message
 digests for each signer with the signer's public key and comparing the results
 with independently computed message digests on the original content.
 <p>
 For more information consult the RSA <a href =
 http://www.rsasecurity.com/rsalabs/pkcs/pkcs-7/>PKCS#7</a> specification.
 <p>
 The <code>SignedData</code> version implemented by this class complies with the
 SignedData structure as used by the S/MIME protocol. In this way, the digest
 is calculated on only the content octets of the DER encoding of the content field
 of the inherent ContentInfo structure. <b>At this point it is important to note
 that currently IAIK-JCE only supports SignedData structures to be used for
 signing content values of the PKCS#7 Data content type!</b>
 <p>
 <hr>
 <p>
 When creating a <code>SignedData</code> object for the content to be signed by using
 the <a href="../../../iaik/pkcs/pkcs7/SignedData.html#SignedData(byte[], int)"><code>SignedData(byte[] content, int mode)</code></a>
 constructor, additionally the transmission mode has to be specified. If the mode is
 set to <i>SignedData.IMPLICIT</i> the raw data will be included in the <code>SignedData</code>
 message to be transmitted, but it will be not included if the mode is set to <i>SignedData.EXPLICIT</i>.
 However, in both cases the raw data has to be supplied when creating the <code>SignedData</code>
 object, because it is needed for the digest computation:
 <pre>
 byte[] data = ...;
 SignedData signed_data = new SignedData(data, SignedData.IMPLICIT);
 </pre>
 respectively
 <pre>
 SignedData signed_data = new SignedData(data, SignedData.EXPLICIT);
 </pre>
 In contrast to the stream-variant of the PKCS#7 SignedData type (implemented by the
 <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html" title="class in iaik.pkcs.pkcs7"><code>SignedDataStream</code></a> class),
 where explicit and implicit mode require a different proceeding, both cases may be
 handled in the same way, when using the non-stream variant. In this way, the
 steps of creating a <code>SignedData</code> object and preparing it for transmission
 can be summarized in the following way (to simplify matters, we will assume not to include
 certificate revocation lists):
 <ol>
 <li>Create a new <code>SignedData</code> object thereby supplying the raw data
     to be signed and specifying the transmission mode to be used (either
     <i>SignedData.IMPLICIT</i> or <i>SignedData.EXPLICIT</i>):
     <pre>
     byte[] data = ...;
     int mode = ...;
     SignedData signed_data = new SignedData(data, mode);
     </pre>
 <li>Set the certificates of all the signers by calling the
     <code>setCertificates</code> method. The certificates are supplied
     as array of <a href="../../../iaik/x509/X509Certificate.html" title="class in iaik.x509"><code>X509Certificates</code></a>
     an shall contain chains from a known top-level CA to all the signers in the
     <code>SignerInfo</code> field:
     <pre>
     signed_data.setCertificates(certificates);
     </pre>
 <li>For each participated signer, create a <a href="../../../iaik/pkcs/pkcs7/SignerInfo.html" title="class in iaik.pkcs.pkcs7"><code>SignerInfo</code></a>
     object, optionally supply it with attributes, and add it to the SignedData structure
     by calling the <a href="../../../iaik/pkcs/pkcs7/SignedData.html#addSignerInfo(iaik.pkcs.pkcs7.SignerInfo)"><code>addSignerInfo</code></a> method:
     <pre>
     SignerInfo signer1 = ...;
     signed_data.addSignerInfo(signer1);
     SignerInfo signer2 = ...;
     signed_data.addSignerInfo(signer2);
      ...
     </pre>
     You alternatively may collectively add all signers by utilizing the
     <code>setSignerInfos</code> method.
     <br>
     When actually adding a SignerInfo the digest computation is performed on the content
     for the signer's particular digest algorithm.
     <p>
 <li>Prepare the SignedData object for transmission by transforming it into an ASN1Object
     or immediately DER encoding it. The former is done by calling the <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#toASN1Object()"><code>toASN1Object</code></a> method, the latter by using the <a href="../../../iaik/pkcs/pkcs7/SignedData.html#getEncoded()"><code>getEncoded</code></a> method:
     <pre>
     ASN1Object obj = signed_data.toASN1Object();
     </pre>
     respectively
     <pre>
     byte[] encoding = signed_data.getEncoded();
     </pre>
     You alternatively may use a proper <code>writeTo</code> method of the parent
     <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html" title="class in iaik.pkcs.pkcs7"><code>SignedDataStream</code></a> class for immediately
     encoding this SignedData object to an output stream. When using <code>writeTo</code> in
     implicit mode, you additionally have the possibility of specifying a particular blockSize
     for forcing an indefinite constructed encoding of the inherent raw data bytes, instead of
     of the default definite primitive encoding, e.g:
     <pre>
     0x24 0x80
               0x04 0x02 0x01 0xAB
               0x04 0x02 0x23 0x7F
               0x04 0x01 0xCA
     0x00 0x00
     </pre>
     instead of:
     <pre>
     0x04 0x05 0x01 0xAB 0x23 0x7F 0xCA
     </pre>
     for encoding the five data bytes <code>0x01 0xAB 0x23 0x7F 0xCA</code>. The indefinite
     constructed encoding scheme may be preferable when intending to be compatible to the
     encoding practice of some particular application (for instance some versions of
     Netscape Navigator).
 </ol>
 <p>
 Unlike the procedure of newly creating a SignedData object to be transmitted, even when
 using this non-stream implementation of the SignedData content type, it
 has to be distinguished between IMPLICIT and EXPLICIT mode when parsing a received
 SignedData message. When operating in IMPLICIT mode, the raw data is included in
 the received SignedData object, and so the parsing immediately may be
 performed when creating a <code>SignedData</code> object from the - already decoded -
 SignedData ASN1Object by calling the <a href="../../../iaik/pkcs/pkcs7/SignedData.html#SignedData(iaik.asn1.ASN1Object)"><code>SignedData(ASN1Object obj)</code></a>
 constructor. On the other side, when
 the raw data has been transmitted outside the SignedData message (EXPLICIT mode), the
 <a href="../../../iaik/pkcs/pkcs7/SignedData.html#SignedData(byte[], iaik.asn1.structures.AlgorithmID[])"><code>SignedData(byte[] content, AlgorithmID[] hashAlgorithms)</code></a> constructor
 has be to used for initializing the new SignedData object with raw data and
 hash algorithms to be used for digest computation; and the decoding has to be performed
 explicitly by calling the <a href="../../../iaik/pkcs/pkcs7/SignedData.html#decode(iaik.asn1.ASN1Object)"><code>decode</code></a> method.
 The initialization is necessary for computing the digests on the raw data for the
 digest algorithms of all participated signers. Later, during signature verification these
 digest values have to be compared against the hash values
 resulting from decrypting the encrypted digests with the signer's public keys.
 <br>
 All further steps are the same for implicit and explicit mode, and so the proceeding
 necessary for parsing a received SignedData message and verifying the signatures
 may be summarized as follows:
 <ol>
 <li>If necessary, first decode the received DER encoded message to obtain an
     ASN1Object:
     <pre>
     ASN1Object obj = DerCoder.decode(received_message);
     </pre>
 <li>If the ASN1Object resulting from step 1 above represents an implicit SignedData
     object, use the <a href="../../../iaik/pkcs/pkcs7/SignedData.html#SignedData(iaik.asn1.ASN1Object)"><code>SignedData(ASN1Object obj)</code></a>
     constructor for creating a SignedData object and implicitly parsing the
     the supplied ASN.1 structure:
     <pre>
     SignedData signedData = new SignedData(obj);
     </pre>
     On the other hand, if the ASN1Object resulting from step 1 above represents an
     explicit SignedData object, use the
     <a href="../../../iaik/pkcs/pkcs7/SignedData.html#SignedData(byte[], iaik.asn1.structures.AlgorithmID[])"><code>SignedData(byte[] content, AlgorithmID[] hashAlgorithms)</code></a>
     constructor for initializing a new SignedData object with raw data and
     digest algorithms for hash computation, and subsequently explicitly perform
     the decoding by means of the <a href="../../../iaik/pkcs/pkcs7/SignedData.html#decode(iaik.asn1.ASN1Object)"><code>decode</code></a>
     method (assuming that two hash algorithms are used: SHA-1 and RIPEMD160):
     <pre>
     AlgorithmID[] algIDs = { AlgorithmID.sha1, AlgorithmID.ripeMd160 };
     SignedData signedData = new SignedData(raw_data, algIDs);
     signedData.decode(obj);
     </pre>
 <li>Get the SignerInfos from the SignedData object and perform the signature
     verification:
     <pre>
     // get the signer infos
     SignerInfo[] signer_infos = signed_data.getSignerInfos();
     // verify the signatures
     for (int i=0; i < signer_infos.length; i++) {
       try {
          // verify the signature for SignerInfo at index i
          X509Certificate signer_cert = signed_data.verify(i);
          // if the signature is OK the certificate of the signer is returned
          System.out.println("Signature OK from signer: "+signer_cert.getSubjectDN());
       } catch (SignatureException ex) {
          // if the signature is not OK a SignatureException is thrown
          System.out.println("Signature ERROR from signer: "+signed_data.getCertificate(signer_infos[i].getIssuerAndSerialNumber()).getSubjectDN());
       }
     }
     </pre>
     <li>In implicit mode, get the raw data from the SignedData object:
     <pre>
     byte[] data = signedData.getContent();
     </pre>
 </ol>
 For handling large amounts of data, the parent <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html" title="class in iaik.pkcs.pkcs7"><code>SignedDataStream</code></a> class should be used.

 <p>
 <b>PKCS#7v1.6 Support:<br>
    ===================</b><br>
 This class also may be used for creating/parsing SignedData objects of version 1.6 as 
 used by the SET protocol. Main differences between v1.5 and v1.6 are the hash calculation
 (v1.6 calculates the hash over the whole content encoding and therefore may be unsuitable
 for handling large amounts of data) and the encoding of SET OF structures which is
 replaced by SEQUENCE OF in PKCS#7v1.6.
 For creating a v1.6 SignedData object you only have to call method <a href="../../../iaik/pkcs/pkcs7/SignedData.html#setVersion(int)"><code>setVersion</code></a> immediately after creating a (implicit or explicit) SignedData object:
 <pre>
 int mode = ...;
 byte[] content = ...;
 SignedData signedData = new SignedData(content, mode);
 // version number 2 indicates PKCS#7v1.6
 signedData.setVersion(2);
 ...
 </pre>
 On the receiving end you only have to take care about the version number when <a href="../../../iaik/pkcs/pkcs7/SignedData.html#SignedData(byte[], iaik.asn1.structures.AlgorithmID[], int)"><code>initializing</code></a> this class for an explicit signed
 message (in implicit mode you do not have to take care about the version number at all). 
 If version 1.6 is used you have to specify the version
 number to indicate to calculate the hash over the content encoding: 
 <pre>
 // raw data received by other means:
 byte[] content = ...;
 // hash algorithm(s) used
 AlgorithmID[] hashAlgIDs = ...;
 // version 2 indicates PKCS#7v1.6
 int version = 2;
 SignedData signedData = new SignedData(content, hashAlgIDs, version);
 ... 
 </pre>
 Since PKCS#7v1.6 is unsuitable for stream handling, the stream based class <code>SignedDataStream</code>
 does not support PKCS#7v1.6.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>File Revision <!-- $$Revision: --> 55 <!-- $ --></dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../iaik/pkcs/pkcs7/Content.html" title="interface in iaik.pkcs.pkcs7"><code>Content</code></a>, 
<a href="../../../iaik/pkcs/pkcs7/ContentInfo.html" title="class in iaik.pkcs.pkcs7"><code>ContentInfo</code></a>, 
<a href="../../../iaik/pkcs/pkcs7/SignerInfo.html" title="class in iaik.pkcs.pkcs7"><code>SignerInfo</code></a>, 
<a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html" title="class in iaik.pkcs.pkcs7"><code>SignedDataStream</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_iaik.pkcs.pkcs7.SignedDataStream">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;iaik.pkcs.pkcs7.<a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html" title="class in iaik.pkcs.pkcs7">SignedDataStream</a></h3>
<code><a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#block_size">block_size</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#certificates">certificates</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#content_type">content_type</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#crls">crls</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#EXPLICIT">EXPLICIT</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#IMPLICIT">IMPLICIT</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#input_stream">input_stream</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#mode">mode</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#signer_infos">signer_infos</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#this_object">this_object</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#version">version</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs7/SignedData.html#SignedData()">SignedData</a></strong>()</code>
<div class="block">Default constructor for dynamic object creation in ContentInfo.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs7/SignedData.html#SignedData(iaik.asn1.ASN1Object)">SignedData</a></strong>(<a href="../../../iaik/asn1/ASN1Object.html" title="class in iaik.asn1">ASN1Object</a>&nbsp;obj)</code>
<div class="block">Creates a PKCS#7 <code>SignedData</code> from an ASN1Object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs7/SignedData.html#SignedData(byte[], iaik.asn1.structures.AlgorithmID[])">SignedData</a></strong>(byte[]&nbsp;content,
          <a href="../../../iaik/asn1/structures/AlgorithmID.html" title="class in iaik.asn1.structures">AlgorithmID</a>[]&nbsp;hashAlgorithms)</code>
<div class="block">Creates a new SignedData from a byte array holding the content that
 has been transmitted by other means, and an array specifying the hash
 algorithms to be used for digesting.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs7/SignedData.html#SignedData(byte[], iaik.asn1.structures.AlgorithmID[], int)">SignedData</a></strong>(byte[]&nbsp;content,
          <a href="../../../iaik/asn1/structures/AlgorithmID.html" title="class in iaik.asn1.structures">AlgorithmID</a>[]&nbsp;hashAlgorithms,
          int&nbsp;version)</code>
<div class="block">Creates a new SignedData from a byte array holding the content that
 has been transmitted by other means, and an array specifying the hash
 algorithms to be used for digesting.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs7/SignedData.html#SignedData(byte[], int)">SignedData</a></strong>(byte[]&nbsp;content,
          int&nbsp;mode)</code>
<div class="block">Creates a SignedData object from a byte array containing the raw data to be signed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs7/SignedData.html#SignedData(java.io.InputStream)">SignedData</a></strong>(java.io.InputStream&nbsp;is)</code>
<div class="block">Creates a new SignedData where the DER encoded data
 is read from the given InputStream.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs7/SignedData.html#SignedData(iaik.asn1.ObjectID)">SignedData</a></strong>(<a href="../../../iaik/asn1/ObjectID.html" title="class in iaik.asn1">ObjectID</a>&nbsp;contentType)</code>
<div class="block">Creates a new SignedData object without any content.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs7/SignedData.html#addSignerInfo(iaik.pkcs.pkcs7.SignerInfo)">addSignerInfo</a></strong>(<a href="../../../iaik/pkcs/pkcs7/SignerInfo.html" title="class in iaik.pkcs.pkcs7">SignerInfo</a>&nbsp;signerInfo)</code>
<div class="block">Adds a SignerInfo object to this SignedData.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs7/SignedData.html#decode(iaik.asn1.ASN1Object)">decode</a></strong>(<a href="../../../iaik/asn1/ASN1Object.html" title="class in iaik.asn1">ASN1Object</a>&nbsp;obj)</code>
<div class="block">Decodes the SignedData supplied as ASN1Object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs7/SignedData.html#decode(java.io.InputStream)">decode</a></strong>(java.io.InputStream&nbsp;is)</code>
<div class="block">Reads and decodes the SignedData from a DerInputStream.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs7/SignedData.html#getContent()">getContent</a></strong>()</code>
<div class="block">Returns the content.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs7/SignedData.html#getEncoded()">getEncoded</a></strong>()</code>
<div class="block">Returns the DER encoding of this SignedData object as byte array.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.io.InputStream</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs7/SignedData.html#getInputStream()">getInputStream</a></strong>()</code>
<div class="block">Returns an InputStream from which the contents of this object can be read.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs7/SignedData.html#setInputStream(java.io.InputStream)">setInputStream</a></strong>(java.io.InputStream&nbsp;is)</code>
<div class="block">Sets the InputStream which holds the content to sign.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs7/SignedData.html#setupMessageDigests()">setupMessageDigests</a></strong>()</code>
<div class="block">Sets up the message digests for hash computation.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs7/SignedData.html#setVersion(int)">setVersion</a></strong>(int&nbsp;version)</code>
<div class="block">Sets the version of this SignedData.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../iaik/asn1/ASN1Object.html" title="class in iaik.asn1">ASN1Object</a></code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs7/SignedData.html#toASN1Object(int)">toASN1Object</a></strong>(int&nbsp;blockSize)</code>
<div class="block">Returns this SignedData as ASN1Object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs7/SignedData.html#toString(boolean)">toString</a></strong>(boolean&nbsp;detailed)</code>
<div class="block">Returns a string giving some - if requested - detailed information
 about this <code>SignedData</code> object.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_iaik.pkcs.pkcs7.SignedDataStream">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;iaik.pkcs.pkcs7.<a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html" title="class in iaik.pkcs.pkcs7">SignedDataStream</a></h3>
<code><a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#getBlockSize()">getBlockSize</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#getCertificate(iaik.pkcs.pkcs7.IssuerAndSerialNumber)">getCertificate</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#getCertificates()">getCertificates</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#getContentType()">getContentType</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#getCRLs()">getCRLs</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#getDigestAlgorithms()">getDigestAlgorithms</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#getMessageDigest(iaik.asn1.structures.AlgorithmID)">getMessageDigest</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#getMode()">getMode</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#getSignedDigest(int)">getSignedDigest</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#getSignerInfos()">getSignerInfos</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#getVersion()">getVersion</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#notifyEOF()">notifyEOF</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#setBlockSize(int)">setBlockSize</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#setCertificates(iaik.x509.X509Certificate[])">setCertificates</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#setCRLs(iaik.x509.X509CRL[])">setCRLs</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#setMessageDigest(iaik.asn1.structures.AlgorithmID, byte[])">setMessageDigest</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#setSignerInfos(iaik.pkcs.pkcs7.SignerInfo[])">setSignerInfos</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#toASN1Object()">toASN1Object</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#toString()">toString</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#verify(int)">verify</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#verify(java.security.PublicKey, int)">verify</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#verify(iaik.x509.X509Certificate)">verify</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#writeTo(java.io.OutputStream)">writeTo</a>, <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#writeTo(java.io.OutputStream, int)">writeTo</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_iaik.pkcs.pkcs7.ContentStream">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;iaik.pkcs.pkcs7.<a href="../../../iaik/pkcs/pkcs7/ContentStream.html" title="interface in iaik.pkcs.pkcs7">ContentStream</a></h3>
<code><a href="../../../iaik/pkcs/pkcs7/ContentStream.html#getBlockSize()">getBlockSize</a>, <a href="../../../iaik/pkcs/pkcs7/ContentStream.html#getContentType()">getContentType</a>, <a href="../../../iaik/pkcs/pkcs7/ContentStream.html#setBlockSize(int)">setBlockSize</a>, <a href="../../../iaik/pkcs/pkcs7/ContentStream.html#toASN1Object()">toASN1Object</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SignedData()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SignedData</h4>
<pre>protected&nbsp;SignedData()</pre>
<div class="block">Default constructor for dynamic object creation in ContentInfo.
 The block size is set to -1 meaning that the data will be encoded a one 
 simple octet string by default.</div>
</li>
</ul>
<a name="SignedData(iaik.asn1.ObjectID)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SignedData</h4>
<pre>public&nbsp;SignedData(<a href="../../../iaik/asn1/ObjectID.html" title="class in iaik.asn1">ObjectID</a>&nbsp;contentType)</pre>
<div class="block">Creates a new SignedData object without any content.

 The content value to be signed has to be of the given content type
 and has to be supplied by other means.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>contentType</code> - the contentType of the data</dd></dl>
</li>
</ul>
<a name="SignedData(java.io.InputStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SignedData</h4>
<pre>public&nbsp;SignedData(java.io.InputStream&nbsp;is)
           throws <a href="../../../iaik/pkcs/PKCSParsingException.html" title="class in iaik.pkcs">PKCSParsingException</a>,
                  java.io.IOException</pre>
<div class="block">Creates a new SignedData where the DER encoded data
 is read from the given InputStream.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>is</code> - the InputStream holding a DER encoded PKCS#7 SignedData object</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an I/O error occurs during reading from the InputStream</dd>
<dd><code><a href="../../../iaik/pkcs/PKCSParsingException.html" title="class in iaik.pkcs">PKCSParsingException</a></code> - if an error occurs while parsing the object</dd></dl>
</li>
</ul>
<a name="SignedData(byte[], int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SignedData</h4>
<pre>public&nbsp;SignedData(byte[]&nbsp;content,
          int&nbsp;mode)</pre>
<div class="block">Creates a SignedData object from a byte array containing the raw data to be signed.
 The given mode specifies the way the raw data is transmitted. If the mode is
 <i>SignedData.IMPLICIT</i>, the raw data is included in the SignedData message to
 be transmitted. If the mode is <i>SignedData.EXPLICIT</i>, the raw data is not included
 in the SignedData object.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>content</code> - the raw data to be signed</dd><dd><code>mode</code> - IMPLICIT if the message shall be included in the DER encoding,
        EXPLICIT otherwise</dd></dl>
</li>
</ul>
<a name="SignedData(iaik.asn1.ASN1Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SignedData</h4>
<pre>public&nbsp;SignedData(<a href="../../../iaik/asn1/ASN1Object.html" title="class in iaik.asn1">ASN1Object</a>&nbsp;obj)
           throws <a href="../../../iaik/pkcs/PKCSParsingException.html" title="class in iaik.pkcs">PKCSParsingException</a></pre>
<div class="block">Creates a PKCS#7 <code>SignedData</code> from an ASN1Object.
 <p>
 Do <i><b>not</b></i> use this constructor for supplying the content value
 to be signed. This constructor may be used by the recipient for parsing an
 already existing <code>SignedData</code> object, supplied as ASN1Object
 that may have been created by calling
 <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#toASN1Object()"><code>toASN1Object</code></a>.
 <p>
 Use the <a href="../../../iaik/pkcs/pkcs7/SignedData.html#SignedData(byte[], int)"><code>SignedData(byte[] content, int mode)</code></a>
 constructor for supplying the content value to be signed when creating a
 <code>SignedData</code> object.
 <p>
 <b>This constructor only shall be used for parsing an ASN1Object that represents
 a SignedData object with included raw data bytes (<i>implicit</i> mode).</b>
 <br>
 To initialize a SignedData object for parsing an explicit SignedData message where the
 raw data is not included, use the
 <a href="../../../iaik/pkcs/pkcs7/SignedData.html#SignedData(byte[], iaik.asn1.structures.AlgorithmID[])"><code>SignedData(byte[] content, AlgorithmID[] hashAlgorithms)</code></a>
 constructor, and perform the decoding explicitly by calling the
 <a href="../../../iaik/pkcs/pkcs7/SignedData.html#decode(iaik.asn1.ASN1Object)"><code>decode</code></a> method.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>obj</code> - the PKCS#7 SignedData as ASN1Object representing an implicit SignedData object</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../iaik/pkcs/PKCSParsingException.html" title="class in iaik.pkcs">PKCSParsingException</a></code> - if a parsing error occurs</dd></dl>
</li>
</ul>
<a name="SignedData(byte[], iaik.asn1.structures.AlgorithmID[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SignedData</h4>
<pre>public&nbsp;SignedData(byte[]&nbsp;content,
          <a href="../../../iaik/asn1/structures/AlgorithmID.html" title="class in iaik.asn1.structures">AlgorithmID</a>[]&nbsp;hashAlgorithms)
           throws java.security.NoSuchAlgorithmException</pre>
<div class="block">Creates a new SignedData from a byte array holding the content that
 has been transmitted by other means, and an array specifying the hash
 algorithms to be used for digesting.
 <p>
 Do <i><b>not</b></i> use this constructor for supplying the content value
 to be signed. This constructor may be used by the recipient for initializing
 the digest computation for an already existing explicit SignedData message
 where the raw data is not included. In contrast to
 the equivalent constructor of the parent <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html" title="class in iaik.pkcs.pkcs7"><code>SignedDataStream</code></a> class, this constructor not only initializes
 the digest computation, but also already computes the digests for all supplied
 digest algorithms. Later, during signature verification these digest values have
 to be compared against the hash values resulting from decrypting the encrypted
 digests with the signer's public keys.
 <br>
 For subsequently performing the decoding
 of the received explicit SignedData object, use the <a href="../../../iaik/pkcs/pkcs7/SignedData.html#decode(iaik.asn1.ASN1Object)"><code>decode</code></a>
 method:
 <pre>
 // the received explicit SignedData structure as ASN1Object:
 ASN1Object = DerCoder.decode(received_message);
 //initialize - and perform - digest computation:
 SignedData signedData = new SignedData(raw_data, hashAlgorithms);
 //parse the received SignedData ASN1Object
 signedData.decode(obj);
 </pre>
 <p>
 A sender shall use the <a href="../../../iaik/pkcs/pkcs7/SignedData.html#SignedData(byte[], int)"><code>SignedData(byte[] content, int mode)</code></a>
 constructor for supplying the content value to be signed when creating a
 <code>SignedData</code> object.
 <p>
 For parsing an implicit SignedData message, use the <a href="../../../iaik/pkcs/pkcs7/SignedData.html#SignedData(iaik.asn1.ASN1Object)"><code>SignedData(ASN1Object obj)</code></a> constructor.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>content</code> - the content transmitted by other means</dd><dd><code>hashAlgorithms</code> - the hash algorithms used by the participated signers for digesting the
                       content data</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.security.NoSuchAlgorithmException</code> - if any of the supplied hash algorithms is not supported</dd></dl>
</li>
</ul>
<a name="SignedData(byte[], iaik.asn1.structures.AlgorithmID[], int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SignedData</h4>
<pre>public&nbsp;SignedData(byte[]&nbsp;content,
          <a href="../../../iaik/asn1/structures/AlgorithmID.html" title="class in iaik.asn1.structures">AlgorithmID</a>[]&nbsp;hashAlgorithms,
          int&nbsp;version)
           throws java.security.NoSuchAlgorithmException</pre>
<div class="block">Creates a new SignedData from a byte array holding the content that
 has been transmitted by other means, and an array specifying the hash
 algorithms to be used for digesting.
 <p>
 Do <i><b>not</b></i> use this constructor for supplying the content value
 to be signed. This constructor may be used by the recipient for initializing
 the digest computation for an already existing explicit SignedData message
 where the raw data is not included. In contrast to
 the equivalent constructor of the parent <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html" title="class in iaik.pkcs.pkcs7"><code>SignedDataStream</code></a> class, this constructor not only initializes
 the digest computation, but also already computes the digests for all supplied
 digest algorithms. Later, during signature verification these digest values have
 to be compared against the hash values resulting from decrypting the encrypted
 digests with the signer's public keys.
 <br>
 For subsequently performing the decoding
 of the received explicit SignedData object, use the <a href="../../../iaik/pkcs/pkcs7/SignedData.html#decode(iaik.asn1.ASN1Object)"><code>decode</code></a>
 method:
 <pre>
 // the received explicit SignedData structure as ASN1Object:
 ASN1Object = DerCoder.decode(received_message);
 //initialize - and perform - digest computation:
 SignedData signedData = new SignedData(raw_data, hashAlgorithms);
 //parse the received SignedData ASN1Object
 signedData.decode(obj);
 </pre>
 <p>
 A sender shall use the <a href="../../../iaik/pkcs/pkcs7/SignedData.html#SignedData(byte[], int)"><code>SignedData(byte[] content, int mode)</code></a>
 constructor for supplying the content value to be signed when creating a
 <code>SignedData</code> object.
 <p>
 For parsing an implicit SignedData message, use the <a href="../../../iaik/pkcs/pkcs7/SignedData.html#SignedData(iaik.asn1.ASN1Object)"><code>SignedData(ASN1Object obj)</code></a> constructor.
 <p>
 This constructor may be used for initializing an explicit signed v1.6 SignedData
 message, where the version number (2) has to be supplied for calculating the hash
 value(s) over the whole content encoding.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>content</code> - the content transmitted by other means</dd><dd><code>hashAlgorithms</code> - the hash algorithms used by the participated signers for digesting the
                       content data</dd><dd><code>version</code> - the version; either 1 or 2</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.security.NoSuchAlgorithmException</code> - if any of the supplied hash algorithms is not supported</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="addSignerInfo(iaik.pkcs.pkcs7.SignerInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addSignerInfo</h4>
<pre>public&nbsp;void&nbsp;addSignerInfo(<a href="../../../iaik/pkcs/pkcs7/SignerInfo.html" title="class in iaik.pkcs.pkcs7">SignerInfo</a>&nbsp;signerInfo)
                   throws java.security.NoSuchAlgorithmException</pre>
<div class="block">Adds a SignerInfo object to this SignedData.
 <p>
 Unlike the same-name method in the <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html" title="class in iaik.pkcs.pkcs7"><code>SignedDataStream</code></a> super class this
 method already performs the digest computation for the given SignerInfo.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#addSignerInfo(iaik.pkcs.pkcs7.SignerInfo)">addSignerInfo</a></code>&nbsp;in class&nbsp;<code><a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html" title="class in iaik.pkcs.pkcs7">SignedDataStream</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>signerInfo</code> - the SignerInfo to add</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.security.NoSuchAlgorithmException</code> - if there is no implementation for the message digest algorithm
            specified in the signerInfo</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../iaik/pkcs/pkcs7/SignerInfo.html" title="class in iaik.pkcs.pkcs7"><code>SignerInfo</code></a></dd></dl>
</li>
</ul>
<a name="setupMessageDigests()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setupMessageDigests</h4>
<pre>protected&nbsp;void&nbsp;setupMessageDigests()
                            throws java.security.NoSuchAlgorithmException</pre>
<div class="block">Sets up the message digests for hash computation.
 This method is used for message digest setup when parsing an already existing
 SignedData object.
 Unlike the same-name method in the SignedDataStream super class
 this method also - already - performs the digest computation for all
 participated digest algorithms.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.security.NoSuchAlgorithmException</code> - if any of the participated digest algorithms
                                     is not supported</dd></dl>
</li>
</ul>
<a name="decode(iaik.asn1.ASN1Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decode</h4>
<pre>public&nbsp;void&nbsp;decode(<a href="../../../iaik/asn1/ASN1Object.html" title="class in iaik.asn1">ASN1Object</a>&nbsp;obj)
            throws <a href="../../../iaik/pkcs/PKCSParsingException.html" title="class in iaik.pkcs">PKCSParsingException</a></pre>
<div class="block">Decodes the SignedData supplied as ASN1Object.
 This method implicitly is called from inside the corresponding constructor for
 decoding an received implicit SignedData object where the raw data is included.
 This method has to be explicitly called for decoding a received explicit SignedData
 object where the raw data is not included. Before calling this method for an explicit
 SignedData ASN1Object object, a new SignedData object has to be created by means of the
 <a href="../../../iaik/pkcs/pkcs7/SignedData.html#SignedData(byte[], iaik.asn1.structures.AlgorithmID[])"><code>SignedData(byte[] content, AlgorithmID[] hashAlgorithms)</code></a>
 constructor for initializing it for hash computation:
 <pre>
 // the received explicit SignedData structure as ASN1Object:
 ASN1Object = DerCoder.decode(received_message);
 //initialize - and perform - digest computation:
 SignedData signedData = new SignedData(raw_data, hashAlgorithms);
 //parse the received SignedData ASN1Object
 signedData.decode(obj);
 </pre></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../iaik/pkcs/pkcs7/Content.html#decode(iaik.asn1.ASN1Object)">decode</a></code>&nbsp;in interface&nbsp;<code><a href="../../../iaik/pkcs/pkcs7/Content.html" title="interface in iaik.pkcs.pkcs7">Content</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>obj</code> - the PKCS#7 SignedData as ASN1Object</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../iaik/pkcs/PKCSParsingException.html" title="class in iaik.pkcs">PKCSParsingException</a></code> - if an error occurs while parsing the object</dd></dl>
</li>
</ul>
<a name="decode(java.io.InputStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decode</h4>
<pre>public&nbsp;void&nbsp;decode(java.io.InputStream&nbsp;is)
            throws java.io.IOException,
                   <a href="../../../iaik/pkcs/PKCSParsingException.html" title="class in iaik.pkcs">PKCSParsingException</a></pre>
<div class="block">Reads and decodes the SignedData from a DerInputStream.
 If the supplied InputStream actually is not an instance of
 <a href="../../../iaik/asn1/DerInputStream.html" title="class in iaik.asn1"><code>DerInputStream</code></a>,
 internally a DerInputStream is created before parsing the data.
 <p>
 This method provides an alternative to the <a href="../../../iaik/pkcs/pkcs7/SignedData.html#decode(iaik.asn1.ASN1Object)"><code>decoding</code></a>
 method where the SignedData to be decoded is given as ASN1Object.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../iaik/pkcs/pkcs7/ContentStream.html#decode(java.io.InputStream)">decode</a></code>&nbsp;in interface&nbsp;<code><a href="../../../iaik/pkcs/pkcs7/ContentStream.html" title="interface in iaik.pkcs.pkcs7">ContentStream</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#decode(java.io.InputStream)">decode</a></code>&nbsp;in class&nbsp;<code><a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html" title="class in iaik.pkcs.pkcs7">SignedDataStream</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>is</code> - the InputStream holding a DER encoded PKCS#7 SignedData object</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an I/O error occurs during reading from the InputStream</dd>
<dd><code><a href="../../../iaik/pkcs/PKCSParsingException.html" title="class in iaik.pkcs">PKCSParsingException</a></code> - if an error occurs while parsing the object</dd></dl>
</li>
</ul>
<a name="setInputStream(java.io.InputStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setInputStream</h4>
<pre>public&nbsp;void&nbsp;setInputStream(java.io.InputStream&nbsp;is)</pre>
<div class="block">Sets the InputStream which holds the content to sign.
 This method only overrides the same named method of the
 <code>SignedDataStream</code> parent class.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#setInputStream(java.io.InputStream)">setInputStream</a></code>&nbsp;in class&nbsp;<code><a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html" title="class in iaik.pkcs.pkcs7">SignedDataStream</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>is</code> - InputSteam holding the content to sign</dd></dl>
</li>
</ul>
<a name="setVersion(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setVersion</h4>
<pre>public&nbsp;void&nbsp;setVersion(int&nbsp;version)</pre>
<div class="block">Sets the version of this SignedData.
 
 The version either may be 1 (indicating a PKCS#7v1.5 SignedData) or
 2 (indicating a PKCS#71.6 SignedData); default is 1.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>version</code> - the version; either 1 or 2</dd></dl>
</li>
</ul>
<a name="getInputStream()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInputStream</h4>
<pre>public&nbsp;java.io.InputStream&nbsp;getInputStream()</pre>
<div class="block">Returns an InputStream from which the contents of this object can be read.
 <p>
 This method only overrides the corresponding <code>getInputStream</code> method
 of the parent <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html" title="class in iaik.pkcs.pkcs7"><code>SignedDataStream</code></a>
 class for returning the content of this <code>SignedData</code> object. There should be
 no real necessity for using this method since the raw data bytes immediately
 can be obtained by the <a href="../../../iaik/pkcs/pkcs7/SignedData.html#getContent()"><code>getContent</code></a> method.
 However, in contrast to the equivalent <code>getInputStream</code> method of the
 parent <code>SignedDataStream</code> class, this method may be called arbitrarily often;
 it only returns a ByteArrayInputStream that is initialized with the raw content bytes.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#getInputStream()">getInputStream</a></code>&nbsp;in class&nbsp;<code><a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html" title="class in iaik.pkcs.pkcs7">SignedDataStream</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>an InputStream with the contents of this <code>SignedData</code> object</dd></dl>
</li>
</ul>
<a name="getContent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContent</h4>
<pre>public&nbsp;byte[]&nbsp;getContent()</pre>
<div class="block">Returns the content.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the content as byte array</dd></dl>
</li>
</ul>
<a name="toASN1Object(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toASN1Object</h4>
<pre>protected&nbsp;<a href="../../../iaik/asn1/ASN1Object.html" title="class in iaik.asn1">ASN1Object</a>&nbsp;toASN1Object(int&nbsp;blockSize)
                           throws <a href="../../../iaik/pkcs/PKCSException.html" title="class in iaik.pkcs">PKCSException</a></pre>
<div class="block">Returns this SignedData as ASN1Object.
 <p>
 If <code>blockSize</code> is set to a positive value the ASN1Object returned
 by this method is prepared for forcing an indefinite constructed encoding of the inherent raw
 data bytes, instead of the default definite primitive encoding, e.g:
 <pre>
 0x24 0x80
           0x04 0x02 0x01 0xAB
           0x04 0x02 0x23 0x7F
           0x04 0x01 0xCA
 0x00 0x00
 </pre>
 instead of:
 <pre>
 0x04 0x05 0x01 0xAB 0x23 0x7F 0xCA
 </pre>
 for encoding the five data bytes <code>0x01 0xAB 0x23 0x7F 0xCA</code>. The indefinite
 constructed encoding scheme may be preferable when intending to be compatible to the
 encoding practice of some particular application (for instance some versions of
 Netscape Navigator).
 The inherent data is encoded by means of the primitive definite method when the
 <code>blockSize</code> value is not positive.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#toASN1Object(int)">toASN1Object</a></code>&nbsp;in class&nbsp;<code><a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html" title="class in iaik.pkcs.pkcs7">SignedDataStream</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>blockSize</code> - the block size defining the encoding scheme - and specifying the
                  length of each primitive encoded octet string component, if positive</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../iaik/pkcs/PKCSException.html" title="class in iaik.pkcs">PKCSException</a></code> - if the ASN1Object could not be created</dd></dl>
</li>
</ul>
<a name="getEncoded()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEncoded</h4>
<pre>public&nbsp;byte[]&nbsp;getEncoded()
                  throws <a href="../../../iaik/pkcs/PKCSException.html" title="class in iaik.pkcs">PKCSException</a></pre>
<div class="block">Returns the DER encoding of this SignedData object as byte array.

 If no positive blocksize has been yet set, any inherent raw
 data bytes (implicit mode) will be encoded as primitive definite octet string.
 Otherwise the encoding of the inherent data will be indefinite constructed (may be
 forced by using the <code>writeTo(OutputStream os, int blockSize)</code> method
 of the parent <a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html" title="class in iaik.pkcs.pkcs7"><code>SignedDataStream</code></a> class.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the DER encoding of this SignedData</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../iaik/pkcs/PKCSException.html" title="class in iaik.pkcs">PKCSException</a></code> - if an encoding error occurs</dd></dl>
</li>
</ul>
<a name="toString(boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString(boolean&nbsp;detailed)</pre>
<div class="block">Returns a string giving some - if requested - detailed information
 about this <code>SignedData</code> object.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../iaik/pkcs/pkcs7/ContentStream.html#toString(boolean)">toString</a></code>&nbsp;in interface&nbsp;<code><a href="../../../iaik/pkcs/pkcs7/ContentStream.html" title="interface in iaik.pkcs.pkcs7">ContentStream</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html#toString(boolean)">toString</a></code>&nbsp;in class&nbsp;<code><a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html" title="class in iaik.pkcs.pkcs7">SignedDataStream</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>detailed</code> - - whether or not to give detailed information</dd>
<dt><span class="strong">Returns:</span></dt><dd>the string representation</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>
					
					
			<small>This Javadoc may contain text parts from IETF Internet Standard specifications (see <a href=../../../RefCopyright_javadoc.html#RFC>copyright</a> note) and RSA Data Security Public-Key Cryptography Standards (PKCS, see <a href=../../../RefCopyright_javadoc.html#PKCS>copyright</a> note).</small>
			
		
				</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../iaik/pkcs/pkcs7/SignedAndEnvelopedDataStream.html" title="class in iaik.pkcs.pkcs7"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../iaik/pkcs/pkcs7/SignedDataStream.html" title="class in iaik.pkcs.pkcs7"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?iaik/pkcs/pkcs7/SignedData.html" target="_top">Frames</a></li>
<li><a href="SignedData.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_iaik.pkcs.pkcs7.SignedDataStream">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
					
			
			<table cellpadding=10>
			<tr>
				<td align=left>
					<img src=../../../siclogo.jpg>
					</td>
					<td align=center>
						5.3<br>
						(c) 2002 
						<a href=http://jce.iaik.tugraz.at/ target=_blank>IAIK</a>, (c) 2003 - 2015 
						<a href=http://jce.iaik.tugraz.at/ target=_blank>SIC</a>
						</td>
						<td align=right>
							<img src=../../../iaik_logo.gif>
							</td>
						</tr>
					</table>
			
		
				</small></p>
</body>
</html>
