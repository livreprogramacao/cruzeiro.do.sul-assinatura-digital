<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0) on Mon Dec 21 16:59:20 CET 2015 -->
<title>PKCS12KeyStore (5.3 API Documentation)</title>
<meta name="date" content="2015-12-21">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PKCS12KeyStore (5.3 API Documentation)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>
					
			
			<b>IAIK-JCE Provider API Documentation</b>
		<br>
			<font size=-1>Version 5.3</font>
			
		
				</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../iaik/pkcs/pkcs12/PKCS12.html" title="class in iaik.pkcs.pkcs12"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../iaik/pkcs/pkcs12/PKCS8ShroudedKeyBag.html" title="class in iaik.pkcs.pkcs12"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?iaik/pkcs/pkcs12/PKCS12KeyStore.html" target="_top">Frames</a></li>
<li><a href="PKCS12KeyStore.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">iaik.pkcs.pkcs12</div>
<h2 title="Class PKCS12KeyStore" class="title">Class PKCS12KeyStore</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>java.security.KeyStoreSpi</li>
<li>
<ul class="inheritance">
<li>iaik.pkcs.pkcs12.PKCS12KeyStore</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">PKCS12KeyStore</span>
extends java.security.KeyStoreSpi</pre>
<div class="block">This class implements the <code>KeyStore
 <i>Service Provider Interface</i></code> (<b>SPI</b>) to load and save PKCS#12
 files, which contain private key entries (private keys and certificate chains)
 and certificate entries (X.509 certificates). 
 <p>
 Note that there has been a change in the API from version IAIK-JCE 5.2 to 
 IAIK-JCE 5.3. The PKCS12KeyStore implementation of version 5.2 (or lower)
 only supported private key entries  (private keys and certificate chains) as
 this is the most widely used format for saving private keys with certificates in
 files (supported by Microsoft Windows<sup>TM</sup>, Microsoft Internet Explorer<sup>TM</sup>, Microsoft
 Outlook<sup>TM</sup>, Mozilla Firefox, Mozilla Thunderbird,...).
 <P>
 If you want to instantiate a <code>KeyStore</code>, specify keystore type and
 provider.
 
 <pre>
 KeyStore ks = KeyStore.getInstance(&quot;PKCS12&quot;, &quot;IAIK&quot;);
 </pre>
 
 Before a <code>KeyStore</code> can be used, it must be loaded.
 
 <pre>
 ks.load(inputStream, password);
 </pre>
 
 You must even load the <code>KeyStore</code> in case you instantiate a new
 empty <code>KeyStore</code> object. In this case, the parameters shall be
 <code>null</code>.
 
 <pre>
 ks.load(null, null);
 </pre>
 
 </P>
 <p>
 <b>Implementation Details</b>
 </p>
 This implementation of the <code>KeyStoreSpi</code> loads and stores
 files according to the <i>PKCS#12 v1.0: Personal Information Exchange
 Syntax</i>. You can get this document from the <a href =
 "http://www.rsa.com/rsalabs/node.asp?id=2138" target="_blank">RSA
 Laboratories</a>.
 <p>
 The keystore loads private keys and certificate chains from a
 password-encrypted PKCS#12-file (e.g. .pfx, .p12). Inside the PKCS#12 file,
 the localKeyID is used to match the private key with the corresponding
 certificate. KeyEntries, set with method
 <code>KeyStore.setKeyEntry(String, byte[], Certificate[])</code> or
 <code>KeyStore.setKeyEntry(String, Key, char[], Certificate[])</code>
 use the current time (Milliseconds since 1970) as key ID. When loading a
 file, the creation date is extracted from this ID if possible. With method
 <code>KeyStore.store(OutputStream, char[])</code>, all keys and
 certificate chains are saved in a PKCS#12 file.
 <p>
 This implementation supports multiple keys and certificate chains within one
 PKCS#12 file, and also multiple certificate entries.
 <p>
 PKCS#12 carries certificates in CertBags, and keys in KeyBags. The relationship
 between a certificate contained in a CertBag and the corresponding key contained
 in a KeyBag may be established by giving Cert- and KeyBag the same lokaleKeyId
 and/or friendlyName attribute. This KeyStore implementation follows the following
 strategy for getting/setting the ceritifcates for Key- and Certificate Entries
 from/for a PKCS#12 KeyStore: 
 <ol>
    <li>For any private key contained in the PKCS#12 object all CertBags are searched
        for matching localeKeyId or friendlyName/alias attributes. A certificate is bound
        to the private key of a KeyEntry if its CertBag has the same lokaleKeyId or 
        friendlyName/alias (in that order) as the KeyBag that carries this private key.
        When calling <code>keyStore.getCertificateChain</code> this certificate is located
        at index 0 of the returned certificate chain. The remaining certificates 
        of the certificate chain are got from all other CertBags (regardless
        of their attributes) by trying to build a certificate path for the
        &quot;index-0&quot; certificate based on IssuerDN/SubjecDN
        and AuthorityKeyIdentifier/SubjectKeyIdentifier (if available) relationship.
    </li>    
    <li>Any certificate contained in a CertBag with a friendlyName/alias that
        does not also belong to any KeyBag is considered as certificate (trust) entry.
    </li>
    <li>
        Any certificate carried by a CertBag with no friendlyName/alias is ignored unless 
        it belongs to the certificate chain of a key entry. Any certificate carried by a
        CertBag with a friendlyName/alias that is already used by a KeyBag is ignored unless 
        it belongs to the certificate chain of a key entry. Note that ignored certificates
        are lost when storing the KeyStore anew.
    </li>         
 </ol>
 Note that one and the same certificate may belong to the certificate chain of an
 key entry and also may represent a trust entry (when its CertBag has a friendlyName/alias
 that is not used by any KeyBag.
 <br>
 <b>Note that certificate entries are trust entries! When you open a PKCS#12 file created
 by some other application be sure that all certificate entries got from this KeyStore actually
 represent your trusted certificates!</b></div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>File Revision <!-- $$Revision: --> 12 <!-- $ --></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../iaik/pkcs/pkcs12/PKCS12KeyStore.html#PKCS12KeyStore()">PKCS12KeyStore</a></strong>()</code>
<div class="block">Creates a new PKCS#12 <code>KeyStore</code> object.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Enumeration</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs12/PKCS12KeyStore.html#engineAliases()">engineAliases</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs12/PKCS12KeyStore.html#engineContainsAlias(java.lang.String)">engineContainsAlias</a></strong>(java.lang.String&nbsp;alias)</code>
<div class="block">Checks if the given alias exists in this keystore.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs12/PKCS12KeyStore.html#engineDeleteEntry(java.lang.String)">engineDeleteEntry</a></strong>(java.lang.String&nbsp;alias)</code>
<div class="block">Deletes the entry identified by the given alias from this keystore.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.security.cert.Certificate</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs12/PKCS12KeyStore.html#engineGetCertificate(java.lang.String)">engineGetCertificate</a></strong>(java.lang.String&nbsp;alias)</code>
<div class="block">Returns the certificate associated with the given alias.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs12/PKCS12KeyStore.html#engineGetCertificateAlias(java.security.cert.Certificate)">engineGetCertificateAlias</a></strong>(java.security.cert.Certificate&nbsp;cert)</code>
<div class="block">Returns the (alias) name of the first keystore entry whose certificate
 matches the given certificate.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.security.cert.Certificate[]</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs12/PKCS12KeyStore.html#engineGetCertificateChain(java.lang.String)">engineGetCertificateChain</a></strong>(java.lang.String&nbsp;alias)</code>
<div class="block">Returns the certificate chain associated with the given alias.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Date</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs12/PKCS12KeyStore.html#engineGetCreationDate(java.lang.String)">engineGetCreationDate</a></strong>(java.lang.String&nbsp;alias)</code>
<div class="block">Returns the creation date of the entry identified by the given alias or -
 if not available - the date on which the certificate became valid.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.security.Key</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs12/PKCS12KeyStore.html#engineGetKey(java.lang.String, char[])">engineGetKey</a></strong>(java.lang.String&nbsp;alias,
            char[]&nbsp;password)</code>
<div class="block">Returns the key associated with the given alias, using the given password
 to recover it.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs12/PKCS12KeyStore.html#engineIsCertificateEntry(java.lang.String)">engineIsCertificateEntry</a></strong>(java.lang.String&nbsp;alias)</code>
<div class="block">Checks if the entry with the given alias represents a certificate entry.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs12/PKCS12KeyStore.html#engineIsKeyEntry(java.lang.String)">engineIsKeyEntry</a></strong>(java.lang.String&nbsp;alias)</code>
<div class="block">Returns true if the entry identified by the given alias was created by a
 call to setKeyEntry, or created by a call to setEntry with a
 PrivateKeyEntry or a SecretKeyEntry.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs12/PKCS12KeyStore.html#engineLoad(java.io.InputStream, char[])">engineLoad</a></strong>(java.io.InputStream&nbsp;stream,
          char[]&nbsp;password)</code>
<div class="block">Loads the keystore from the given input stream.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs12/PKCS12KeyStore.html#engineSetCertificateEntry(java.lang.String, java.security.cert.Certificate)">engineSetCertificateEntry</a></strong>(java.lang.String&nbsp;alias,
                         java.security.cert.Certificate&nbsp;cert)</code>
<div class="block">Assigns the given certificate to the given alias.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs12/PKCS12KeyStore.html#engineSetKeyEntry(java.lang.String, byte[], java.security.cert.Certificate[])">engineSetKeyEntry</a></strong>(java.lang.String&nbsp;alias,
                 byte[]&nbsp;key,
                 java.security.cert.Certificate[]&nbsp;chain)</code>
<div class="block">Assigns the given key (that has already been protected) to the given alias.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs12/PKCS12KeyStore.html#engineSetKeyEntry(java.lang.String, java.security.Key, char[], java.security.cert.Certificate[])">engineSetKeyEntry</a></strong>(java.lang.String&nbsp;alias,
                 java.security.Key&nbsp;key,
                 char[]&nbsp;password,
                 java.security.cert.Certificate[]&nbsp;chain)</code>
<div class="block">Assigns the given key to the given alias, protecting it with the given
 password.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs12/PKCS12KeyStore.html#engineSize()">engineSize</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../iaik/pkcs/pkcs12/PKCS12KeyStore.html#engineStore(java.io.OutputStream, char[])">engineStore</a></strong>(java.io.OutputStream&nbsp;stream,
           char[]&nbsp;password)</code>
<div class="block">Stores this keystore to the given output stream, and protects its integrity
 with the given password.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.security.KeyStoreSpi">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.security.KeyStoreSpi</h3>
<code>engineEntryInstanceOf, engineGetEntry, engineLoad, engineSetEntry, engineStore</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PKCS12KeyStore()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PKCS12KeyStore</h4>
<pre>public&nbsp;PKCS12KeyStore()</pre>
<div class="block">Creates a new PKCS#12 <code>KeyStore</code> object.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="engineLoad(java.io.InputStream, char[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineLoad</h4>
<pre>public&nbsp;void&nbsp;engineLoad(java.io.InputStream&nbsp;stream,
              char[]&nbsp;password)
                throws java.io.IOException,
                       java.security.NoSuchAlgorithmException,
                       java.security.cert.CertificateException</pre>
<div class="block">Loads the keystore from the given input stream. A password may be given 
 to unlock the keystore and to check the integrity of the keystore. 
 If a password is not given, no password has been set when saving the
 keystore. 
 <p>
 Set both parameters to <code>null</code> to initialize an new empty
 keystore.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineLoad</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>stream</code> - the input stream from which the keystore is loaded, or null</dd><dd><code>password</code> - the password used to check the integrity of the keystore, the
          password used to unlock the keystore, or null</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if there is an I/O or format problem with the keystore data, if a
           password is required but not given, or if the given password was
           incorrect</dd>
<dd><code>java.security.NoSuchAlgorithmException</code> - if the algorithm used to check the integrity of the keystore
           cannot be found</dd>
<dd><code>java.security.cert.CertificateException</code> - if any of the certificates in the keystore could not be loaded</dd></dl>
</li>
</ul>
<a name="engineAliases()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineAliases</h4>
<pre>public&nbsp;java.util.Enumeration&nbsp;engineAliases()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineAliases</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>An enumeration of the alias names of all entries in this keystore.</dd></dl>
</li>
</ul>
<a name="engineContainsAlias(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineContainsAlias</h4>
<pre>public&nbsp;boolean&nbsp;engineContainsAlias(java.lang.String&nbsp;alias)</pre>
<div class="block">Checks if the given alias exists in this keystore.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineContainsAlias</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - The alias name.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the alias exists, <code>false</code>
         otherwise.</dd></dl>
</li>
</ul>
<a name="engineDeleteEntry(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineDeleteEntry</h4>
<pre>public&nbsp;void&nbsp;engineDeleteEntry(java.lang.String&nbsp;alias)
                       throws java.security.KeyStoreException</pre>
<div class="block">Deletes the entry identified by the given alias from this keystore.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineDeleteEntry</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - The alias name.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.security.KeyStoreException</code> - If the entry cannot be removed.</dd></dl>
</li>
</ul>
<a name="engineGetCertificate(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineGetCertificate</h4>
<pre>public&nbsp;java.security.cert.Certificate&nbsp;engineGetCertificate(java.lang.String&nbsp;alias)</pre>
<div class="block">Returns the certificate associated with the given alias.
 
 If the given alias name identifies an entry created by a call to
 setKeyEntry, or created by a call to setEntry with a PrivateKeyEntry, then
 the first element of the certificate chain in that entry (if a chain
 exists) is returned. If the given alias name identifies an entry created
 by a call to setCertificateEntry, or created by a call to setEntry with a
 certificate, then this certificate is returned.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineGetCertificate</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - the alias name</dd>
<dt><span class="strong">Returns:</span></dt><dd>the certificate, or null if the given alias does not exist or does
         not reference a certificate.</dd></dl>
</li>
</ul>
<a name="engineGetCertificateAlias(java.security.cert.Certificate)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineGetCertificateAlias</h4>
<pre>public&nbsp;java.lang.String&nbsp;engineGetCertificateAlias(java.security.cert.Certificate&nbsp;cert)</pre>
<div class="block">Returns the (alias) name of the first keystore entry whose certificate
 matches the given certificate. This method attempts to match the given
 certificate with each keystore entry.
 
 If the entry being considered was created by a call to setKeyEntry, or
 created by a call to setEntry with a PrivateKeyEntry, then the given
 certificate is compared to the first element of that entry's certificate
 chain. If the entry being considered was created by a call to setCertificateEntry, or
 created by a call to setEntry with a certificate, then the given
 certificate is compared to the certificate of this entry.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineGetCertificateAlias</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>cert</code> - the certificate to match with.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the alias name of the first entry with matching certificate, or
         null if no such entry exists in this keystore.</dd></dl>
</li>
</ul>
<a name="engineGetCertificateChain(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineGetCertificateChain</h4>
<pre>public&nbsp;java.security.cert.Certificate[]&nbsp;engineGetCertificateChain(java.lang.String&nbsp;alias)</pre>
<div class="block">Returns the certificate chain associated with the given alias. The
 certificate chain must have been associated with the alias by a call to
 setKeyEntry, or by a call to setEntry with a PrivateKeyEntry.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineGetCertificateChain</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - the alias name</dd>
<dt><span class="strong">Returns:</span></dt><dd>the certificate chain (ordered with the user's certificate first
         and the root certificate authority last), or null if the given
         alias does not exist or does not contain a certificate chain</dd></dl>
</li>
</ul>
<a name="engineGetCreationDate(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineGetCreationDate</h4>
<pre>public&nbsp;java.util.Date&nbsp;engineGetCreationDate(java.lang.String&nbsp;alias)</pre>
<div class="block">Returns the creation date of the entry identified by the given alias or -
 if not available - the date on which the certificate became valid.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineGetCreationDate</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - the alias name</dd>
<dt><span class="strong">Returns:</span></dt><dd>the creation date of this entry, or null if the given alias does
         not exist</dd></dl>
</li>
</ul>
<a name="engineGetKey(java.lang.String, char[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineGetKey</h4>
<pre>public&nbsp;java.security.Key&nbsp;engineGetKey(java.lang.String&nbsp;alias,
                             char[]&nbsp;password)
                               throws java.security.NoSuchAlgorithmException,
                                      java.security.UnrecoverableKeyException</pre>
<div class="block">Returns the key associated with the given alias, using the given password
 to recover it. The key must have been associated with the alias by a call
 to setKeyEntry, or by a call to setEntry with a PrivateKeyEntry or
 SecretKeyEntry.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineGetKey</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - the alias name</dd><dd><code>password</code> - the password for recovering the key</dd>
<dt><span class="strong">Returns:</span></dt><dd>the requested key, or null if the given alias does not exist or
         does not identify a key-related entry.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.security.NoSuchAlgorithmException</code> - if the algorithm for recovering the key cannot be found</dd>
<dd><code>java.security.UnrecoverableKeyException</code> - if the key cannot be recovered (e.g. the given password is
           wrong).</dd></dl>
</li>
</ul>
<a name="engineIsCertificateEntry(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineIsCertificateEntry</h4>
<pre>public&nbsp;boolean&nbsp;engineIsCertificateEntry(java.lang.String&nbsp;alias)</pre>
<div class="block">Checks if the entry with the given alias represents a certificate entry.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineIsCertificateEntry</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - the alias for the keystore entry to be checked</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the keystore contains an entry with the given 
         alias is present and the entry represents a certificate entry,
         false otherwise</dd></dl>
</li>
</ul>
<a name="engineIsKeyEntry(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineIsKeyEntry</h4>
<pre>public&nbsp;boolean&nbsp;engineIsKeyEntry(java.lang.String&nbsp;alias)</pre>
<div class="block">Returns true if the entry identified by the given alias was created by a
 call to setKeyEntry, or created by a call to setEntry with a
 PrivateKeyEntry or a SecretKeyEntry.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineIsKeyEntry</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - the alias for the keystore entry to be checked</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the entry identified by the given alias is a key-related,
         false otherwise.</dd></dl>
</li>
</ul>
<a name="engineSetCertificateEntry(java.lang.String, java.security.cert.Certificate)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineSetCertificateEntry</h4>
<pre>public&nbsp;void&nbsp;engineSetCertificateEntry(java.lang.String&nbsp;alias,
                             java.security.cert.Certificate&nbsp;cert)
                               throws java.security.KeyStoreException</pre>
<div class="block">Assigns the given certificate to the given alias.
 <br>
 If the given alias already exists and identifies another cert entry, the
 keystore information associated with it is overridden by the given 
 certificate. However, if an already exiting alias identifies
 a key entry, a KeyStore exception is thrown to not allow using the
 same alias for key- and cert-entries.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineSetCertificateEntry</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - the alias name</dd><dd><code>cert</code> - the certificate to be associated with the alias</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.security.KeyStoreException</code> - if this operation fails, e.g. the given alias was already
           used for a KeyEntry of this keystore</dd></dl>
</li>
</ul>
<a name="engineSetKeyEntry(java.lang.String, byte[], java.security.cert.Certificate[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineSetKeyEntry</h4>
<pre>public&nbsp;void&nbsp;engineSetKeyEntry(java.lang.String&nbsp;alias,
                     byte[]&nbsp;key,
                     java.security.cert.Certificate[]&nbsp;chain)
                       throws java.security.KeyStoreException</pre>
<div class="block">Assigns the given key (that has already been protected) to the given alias.
 If the protected key is of type java.security.PrivateKey, it must be
 accompanied by a certificate chain certifying the corresponding public key.
 This certificate chain must be arranged having the end-user certificate at
 index 0 and the top-CA-certificate at the end of the chain.  If the given 
 alias already exists and identifies another key entry, the keystore 
 information associated with it is overridden by the given key
 and certificate chain. However, if an already exiting alias identifies
 a cert entry, a KeyStore exception is thrown to not allow using the
 same alias for key- and cert-entries.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineSetKeyEntry</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - the alias name</dd><dd><code>key</code> - the key (in protected format) to be associated with the alias</dd><dd><code>chain</code> - the certificate chain for the corresponding public key (only
          useful if the protected key is of type java.security.PrivateKey).</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.security.KeyStoreException</code> - if this operation fails, e.g. the given alias was already
           used for a CertEntry of this keystore</dd></dl>
</li>
</ul>
<a name="engineSetKeyEntry(java.lang.String, java.security.Key, char[], java.security.cert.Certificate[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineSetKeyEntry</h4>
<pre>public&nbsp;void&nbsp;engineSetKeyEntry(java.lang.String&nbsp;alias,
                     java.security.Key&nbsp;key,
                     char[]&nbsp;password,
                     java.security.cert.Certificate[]&nbsp;chain)
                       throws java.security.KeyStoreException</pre>
<div class="block">Assigns the given key to the given alias, protecting it with the given
 password. If the given key is of type <code>PrivateKey</code>, it
 must be accompanied by a certificate chain certifying the corresponding
 public key. This certificate chain must be arranged having the end-user
 certificate at index 0 and the top-CA-certificate at the end of the chain.
 If the given alias already exists and identifies another key entry, the
 keystore information associated with it is overridden by the given key
 and certificate chain. However, if an already exiting alias identifies
 a cert entry, a KeyStore exception is thrown to not allow using the
 same alias for key- and cert-entries.
 <p>
 The provided password is ignored. Only the password provided to the
 <a href="../../../iaik/pkcs/pkcs12/PKCS12KeyStore.html#engineStore(java.io.OutputStream, char[])"><code>engineStore(OutputStream, char[])</code></a> is used.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineSetKeyEntry</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - the alias name</dd><dd><code>key</code> - the key to be associated with the alias</dd><dd><code>password</code> - the password to encrypt the key with</dd><dd><code>chain</code> - the certificate chain for the corresponding public key (only
          required if the given key is of type java.security.PrivateKey).</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.security.KeyStoreException</code> - if the given key cannot be protected, or this operation fails for
           some other reason, e.g. the given alias was already
           used for a CertEntry of this keystore</dd></dl>
</li>
</ul>
<a name="engineSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engineSize</h4>
<pre>public&nbsp;int&nbsp;engineSize()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineSize</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The number of entries in this keystore.</dd></dl>
</li>
</ul>
<a name="engineStore(java.io.OutputStream, char[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>engineStore</h4>
<pre>public&nbsp;void&nbsp;engineStore(java.io.OutputStream&nbsp;stream,
               char[]&nbsp;password)
                 throws java.io.IOException,
                        java.security.NoSuchAlgorithmException,
                        java.security.cert.CertificateException</pre>
<div class="block">Stores this keystore to the given output stream, and protects its integrity
 with the given password.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>engineStore</code>&nbsp;in class&nbsp;<code>java.security.KeyStoreSpi</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>stream</code> - the output stream to which this keystore is written.</dd><dd><code>password</code> - the password to generate the keystore integrity check</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if there was an I/O problem with data</dd>
<dd><code>java.security.NoSuchAlgorithmException</code> - if the appropriate data integrity algorithm could not be found</dd>
<dd><code>java.security.cert.CertificateException</code> - if any of the certificates included in the keystore data could
           not be stored</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>
					
					
			<small>This Javadoc may contain text parts from IETF Internet Standard specifications (see <a href=../../../RefCopyright_javadoc.html#RFC>copyright</a> note) and RSA Data Security Public-Key Cryptography Standards (PKCS, see <a href=../../../RefCopyright_javadoc.html#PKCS>copyright</a> note).</small>
			
		
				</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../iaik/pkcs/pkcs12/PKCS12.html" title="class in iaik.pkcs.pkcs12"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../iaik/pkcs/pkcs12/PKCS8ShroudedKeyBag.html" title="class in iaik.pkcs.pkcs12"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?iaik/pkcs/pkcs12/PKCS12KeyStore.html" target="_top">Frames</a></li>
<li><a href="PKCS12KeyStore.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
					
			
			<table cellpadding=10>
			<tr>
				<td align=left>
					<img src=../../../siclogo.jpg>
					</td>
					<td align=center>
						5.3<br>
						(c) 2002 
						<a href=http://jce.iaik.tugraz.at/ target=_blank>IAIK</a>, (c) 2003 - 2015 
						<a href=http://jce.iaik.tugraz.at/ target=_blank>SIC</a>
						</td>
						<td align=right>
							<img src=../../../iaik_logo.gif>
							</td>
						</tr>
					</table>
			
		
				</small></p>
</body>
</html>
