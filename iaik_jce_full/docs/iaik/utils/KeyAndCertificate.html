<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0) on Mon Dec 21 16:59:27 CET 2015 -->
<title>KeyAndCertificate (5.3 API Documentation)</title>
<meta name="date" content="2015-12-21">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="KeyAndCertificate (5.3 API Documentation)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>
					
			
			<b>IAIK-JCE Provider API Documentation</b>
		<br>
			<font size=-1>Version 5.3</font>
			
		
				</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../iaik/utils/InternalErrorException.html" title="class in iaik.utils"><span class="strong">Prev Class</span></a></li>
<li><a href="../../iaik/utils/LineInputStream.html" title="class in iaik.utils"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?iaik/utils/KeyAndCertificate.html" target="_top">Frames</a></li>
<li><a href="KeyAndCertificate.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">iaik.utils</div>
<h2 title="Class KeyAndCertificate" class="title">Class KeyAndCertificate</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>iaik.utils.KeyAndCertificate</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">KeyAndCertificate</span>
extends java.lang.Object</pre>
<div class="block">A simple class for storing a private key and a certificate chain in one file.
 <p>
 The private key typically will be the private key belonging to the end
 entity's public key being certified by the certificate located at the first
 position of the chain (e.g.. chain[0]).
 <p>
 This class may be used to build a <code>KeyAndCertificate</code> structure
 from given private key and certificate chain, to store this structure in a
 file using DER or PEM encoding, and to read in private key and certificate
 chain from the file again.
 <p>
 Assuming to already have created a X509Certificate chain and a private key,
 the following proceeding may be chosen for create a
 <code>KeyAndCertificate</code> structure, save it to a file and read in the
 contents again:
 <p>
 
 <PRE>
 // create a &lt;code&gt;KeyAndCertificate&lt;/code&gt; structure from given private key and
 // certificate chain and save it to a file using DER encoding:
 KeyAndCertificate keyAndCert = new KeyAndCertificate(private_key, cert_chain);
 keyAndCert.saveTo(&quot;key_and_cert.der&quot;, ASN1.DER);
 // read in from file again:
 KeyAndCertificate key_and_cert = new KeyAndCertificate(&quot;key_and_cert.der&quot;);
 // obtain the private key:
 PrivateKey priv_key = key_and_cert.getPrivateKey();
 // obtain the certificate chain:
 X509Certificate[] chain = key_and_cert.getCertificateChain();
 </PRE>
 <p></div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>File Revision <!-- $$Revision: --> 20 <!-- $ --></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../iaik/utils/KeyAndCertificate.html#KeyAndCertificate(byte[])">KeyAndCertificate</a></strong>(byte[]&nbsp;bytes)</code>
<div class="block">Creates a KeyAndCertificate object from the given byte array.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../iaik/utils/KeyAndCertificate.html#KeyAndCertificate(java.io.InputStream)">KeyAndCertificate</a></strong>(java.io.InputStream&nbsp;in)</code>
<div class="block">Creates a KeyAndCertificate object from the given InputStream.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../iaik/utils/KeyAndCertificate.html#KeyAndCertificate(java.security.PrivateKey, iaik.x509.X509Certificate[])">KeyAndCertificate</a></strong>(java.security.PrivateKey&nbsp;privateKey,
                 <a href="../../iaik/x509/X509Certificate.html" title="class in iaik.x509">X509Certificate</a>[]&nbsp;certificateChain)</code>
<div class="block">Creates a <code>KeyAndCertificate</code> object from given private key and
 X509 certificate chain.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../iaik/utils/KeyAndCertificate.html#KeyAndCertificate(java.lang.String)">KeyAndCertificate</a></strong>(java.lang.String&nbsp;fileName)</code>
<div class="block">Creates a <code>KeyAndCertificate</code> object from a given file.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.security.PrivateKey</code></td>
<td class="colLast"><code><strong><a href="../../iaik/utils/KeyAndCertificate.html#decrypt(char[])">decrypt</a></strong>(char[]&nbsp;password)</code>
<div class="block">Decrypts the private key in this KeyAndCertificate with the given password.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../iaik/utils/KeyAndCertificate.html#encrypt(char[], iaik.asn1.structures.AlgorithmID, java.security.SecureRandom)">encrypt</a></strong>(char[]&nbsp;password,
       <a href="../../iaik/asn1/structures/AlgorithmID.html" title="class in iaik.asn1.structures">AlgorithmID</a>&nbsp;encryptionAlgorithm,
       java.security.SecureRandom&nbsp;random)</code>
<div class="block">Encrypt the private key with the specified password, the encryption
 algorithm and the specified random number generated.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../iaik/x509/X509Certificate.html" title="class in iaik.x509">X509Certificate</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../iaik/utils/KeyAndCertificate.html#getCertificateChain()">getCertificateChain</a></strong>()</code>
<div class="block">Gets the certificate chain from this <code>KeyAndCertificate</code> object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.security.PrivateKey</code></td>
<td class="colLast"><code><strong><a href="../../iaik/utils/KeyAndCertificate.html#getPrivateKey()">getPrivateKey</a></strong>()</code>
<div class="block">Gets the private key from this <code>KeyAndCertificate</code> object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../iaik/utils/KeyAndCertificate.html#isEncrypted()">isEncrypted</a></strong>()</code>
<div class="block">Test whether this KeyAndCertificate object contains an encrypted private
 key.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../iaik/utils/KeyAndCertificate.html#saveTo(java.lang.String, int)">saveTo</a></strong>(java.lang.String&nbsp;fileName,
      int&nbsp;format)</code>
<div class="block">Saves the private key and the certificate chain to a file using DER or PEM
 encoding.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../iaik/utils/KeyAndCertificate.html#writeTo(java.io.OutputStream, int)">writeTo</a></strong>(java.io.OutputStream&nbsp;os,
       int&nbsp;format)</code>
<div class="block">Write the private key and the certificate chain to an OutputStream.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="KeyAndCertificate(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KeyAndCertificate</h4>
<pre>public&nbsp;KeyAndCertificate(java.lang.String&nbsp;fileName)
                  throws java.io.IOException</pre>
<div class="block">Creates a <code>KeyAndCertificate</code> object from a given file.
 <p>
 The given file supplies the <code>KeyAndCertificate</code> structure in DER
 or PEM encoding format., e.g.:
 <p>
 <code>
 KeyAndCertificate key_and_cert = new KeyAndCertificate("key_and_cert.der");
 </code>
 <p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileName</code> - the name of the DER or PEM file from where to read in private key
          and certificate chain</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an error occurs when reading from the file</dd></dl>
</li>
</ul>
<a name="KeyAndCertificate(java.io.InputStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KeyAndCertificate</h4>
<pre>public&nbsp;KeyAndCertificate(java.io.InputStream&nbsp;in)
                  throws java.io.IOException</pre>
<div class="block">Creates a KeyAndCertificate object from the given InputStream.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="KeyAndCertificate(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KeyAndCertificate</h4>
<pre>public&nbsp;KeyAndCertificate(byte[]&nbsp;bytes)
                  throws java.io.IOException</pre>
<div class="block">Creates a KeyAndCertificate object from the given byte array.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="KeyAndCertificate(java.security.PrivateKey, iaik.x509.X509Certificate[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>KeyAndCertificate</h4>
<pre>public&nbsp;KeyAndCertificate(java.security.PrivateKey&nbsp;privateKey,
                 <a href="../../iaik/x509/X509Certificate.html" title="class in iaik.x509">X509Certificate</a>[]&nbsp;certificateChain)</pre>
<div class="block">Creates a <code>KeyAndCertificate</code> object from given private key and
 X509 certificate chain.
 <p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>privateKey</code> - the private key</dd><dd><code>certificateChain</code> - the X509 certificate chain</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getCertificateChain()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCertificateChain</h4>
<pre>public&nbsp;<a href="../../iaik/x509/X509Certificate.html" title="class in iaik.x509">X509Certificate</a>[]&nbsp;getCertificateChain()</pre>
<div class="block">Gets the certificate chain from this <code>KeyAndCertificate</code> object.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the X509 certifcate chain</dd></dl>
</li>
</ul>
<a name="getPrivateKey()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPrivateKey</h4>
<pre>public&nbsp;java.security.PrivateKey&nbsp;getPrivateKey()</pre>
<div class="block">Gets the private key from this <code>KeyAndCertificate</code> object.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the private key</dd></dl>
</li>
</ul>
<a name="writeTo(java.io.OutputStream, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeTo</h4>
<pre>public&nbsp;void&nbsp;writeTo(java.io.OutputStream&nbsp;os,
           int&nbsp;format)
             throws java.io.IOException</pre>
<div class="block">Write the private key and the certificate chain to an OutputStream. For
 more info <CODE>saveTo()</CODE>.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="saveTo(java.lang.String, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveTo</h4>
<pre>public&nbsp;void&nbsp;saveTo(java.lang.String&nbsp;fileName,
          int&nbsp;format)
            throws java.io.IOException</pre>
<div class="block">Saves the private key and the certificate chain to a file using DER or PEM
 encoding.
 <p>
 For instance:
 <p>
 
 <PRE>
 KeyAndCertificate keyAndCert = new KeyAndCertificate(private_key, cert_chain);
 keyAndCert.saveTo(&quot;key_and_cert.der&quot;, ASN1.DER);
 </PRE>
 <p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileName</code> - the name of the file where the data shall be written to</dd><dd><code>format</code> - the saving format (ASN1.DER or ASN1.PEM)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="isEncrypted()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEncrypted</h4>
<pre>public&nbsp;boolean&nbsp;isEncrypted()</pre>
<div class="block">Test whether this KeyAndCertificate object contains an encrypted private
 key.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if the private key is encrypted (EncryptedPrivateKeyInfo)</dd></dl>
</li>
</ul>
<a name="encrypt(char[], iaik.asn1.structures.AlgorithmID, java.security.SecureRandom)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encrypt</h4>
<pre>public&nbsp;void&nbsp;encrypt(char[]&nbsp;password,
           <a href="../../iaik/asn1/structures/AlgorithmID.html" title="class in iaik.asn1.structures">AlgorithmID</a>&nbsp;encryptionAlgorithm,
           java.security.SecureRandom&nbsp;random)
             throws java.security.NoSuchAlgorithmException</pre>
<div class="block">Encrypt the private key with the specified password, the encryption
 algorithm and the specified random number generated. If encryptionAlgorithm
 is null TripleDES will be used, if random is null a new instance will be
 generated via SecRandom. This method does nothing if the private key is
 already encrypted.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.security.NoSuchAlgorithmException</code></dd></dl>
</li>
</ul>
<a name="decrypt(char[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>decrypt</h4>
<pre>public&nbsp;java.security.PrivateKey&nbsp;decrypt(char[]&nbsp;password)
                                 throws java.security.NoSuchAlgorithmException</pre>
<div class="block">Decrypts the private key in this KeyAndCertificate with the given password.
 If the private key already was decrypted, it is returned immediately. Note
 that it is changed in this object, later calls to getPrivatKey() will
 return the decrypted key.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the decrypted key or <code>null</code> if the decryption process
         fails</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.security.NoSuchAlgorithmException</code> - if the key or key- encryption algorithm is not supported</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>
					
					
			<small>This Javadoc may contain text parts from IETF Internet Standard specifications (see <a href=../../RefCopyright_javadoc.html#RFC>copyright</a> note) and RSA Data Security Public-Key Cryptography Standards (PKCS, see <a href=../../RefCopyright_javadoc.html#PKCS>copyright</a> note).</small>
			
		
				</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../iaik/utils/InternalErrorException.html" title="class in iaik.utils"><span class="strong">Prev Class</span></a></li>
<li><a href="../../iaik/utils/LineInputStream.html" title="class in iaik.utils"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?iaik/utils/KeyAndCertificate.html" target="_top">Frames</a></li>
<li><a href="KeyAndCertificate.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
					
			
			<table cellpadding=10>
			<tr>
				<td align=left>
					<img src=../../siclogo.jpg>
					</td>
					<td align=center>
						5.3<br>
						(c) 2002 
						<a href=http://jce.iaik.tugraz.at/ target=_blank>IAIK</a>, (c) 2003 - 2015 
						<a href=http://jce.iaik.tugraz.at/ target=_blank>SIC</a>
						</td>
						<td align=right>
							<img src=../../iaik_logo.gif>
							</td>
						</tr>
					</table>
			
		
				</small></p>
</body>
</html>
