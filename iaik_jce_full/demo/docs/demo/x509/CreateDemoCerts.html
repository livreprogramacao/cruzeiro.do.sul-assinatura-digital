<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0) on Mon Dec 21 16:59:19 CET 2015 -->
<title>CreateDemoCerts (5.3 API Documentation)</title>
<meta name="date" content="2015-12-21">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CreateDemoCerts (5.3 API Documentation)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>
					
			
			<b>IAIK-JCE Provider API Documentation</b>
		<br>
			<font size=-1>Version 5.3</font>
			
		
				</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../demo/x509/CertificateExtensions.html" title="class in demo.x509"><span class="strong">Prev Class</span></a></li>
<li><a href="../../demo/x509/CRLExtensions.html" title="class in demo.x509"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?demo/x509/CreateDemoCerts.html" target="_top">Frames</a></li>
<li><a href="CreateDemoCerts.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">demo.x509</div>
<h2 title="Class CreateDemoCerts" class="title">Class CreateDemoCerts</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>demo.x509.CreateDemoCerts</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../demo/IAIKDemo.html" title="interface in demo">IAIKDemo</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">CreateDemoCerts</span>
extends java.lang.Object
implements <a href="../../demo/IAIKDemo.html" title="interface in demo">IAIKDemo</a></pre>
<div class="block">Creates certificate chains for some demo applications and writes them -
 together with the actual subject's private key - into several <i>.PEM</i>
 (Base64 encoded DER format) files. Creates some test certificate chains and
 writes them into <i>.PEM</i> files.
 <p>
 This class creates a - if not already existing - "test" sub-directory of the
 current working directory for writing the PEM encoded test certificate chains
 to it. Each chain is stored together with the private key belonging to the
 subject's certificate, which is located at index 0 of the chain.
 <p>
 This class creates two CA certificates and four user certificates. The CA
 certificate chains only hold the corresponding CA certificates, whereas the
 user certificate chains contain the user (subject) certificate at index 0 and
 the CA certificate at index 1. The private key giving a <code>
 KeyAndCertificate</code> structure together with the actual certificate
 chain, in any case belongs to the certificate at index 0. All generated keys
 have a modulus length of 1024 bits. Since the keys actually are generated
 during program execution, running this class will take a certain amount of
 time.
 <p>
 The following certificates (and keys) are created and saved to files:
 <ul>
 <li>A Self-signed RSA certificate; saved to "test/caRSA.PEM"
 <li>A Self-signed RSA certificate; saved to "test/caDSA.PEM"
 <li>Two RSA/RSA user certificates; saved to "userRSAcert1.PEM" and
 "userRSAcert2.PEM"
 <li>A DSA/DSA user certificate; saved to "userDSAcert.PEM"
 <li>A DH/DSA user certificate; saved to "userDHcert.PEM"
 </ul></div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>File Revision <!-- $$Revision: --> 24 <!-- $ --></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../demo/x509/CreateDemoCerts.html#CreateDemoCerts()">CreateDemoCerts</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>iaik.x509.X509Certificate</code></td>
<td class="colLast"><code><strong><a href="../../demo/x509/CreateDemoCerts.html#createCertificate(iaik.asn1.structures.Name, java.security.PublicKey, iaik.asn1.structures.Name, java.security.PrivateKey, iaik.asn1.structures.AlgorithmID, int, iaik.x509.V3Extension[])">createCertificate</a></strong>(iaik.asn1.structures.Name&nbsp;subject,
                 java.security.PublicKey&nbsp;pk,
                 iaik.asn1.structures.Name&nbsp;issuer,
                 java.security.PrivateKey&nbsp;sk,
                 iaik.asn1.structures.AlgorithmID&nbsp;algorithm,
                 int&nbsp;serialNumber,
                 iaik.x509.V3Extension[]&nbsp;extensions)</code>
<div class="block">Creates a test certificate according to the X.509 Notation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.security.KeyPair</code></td>
<td class="colLast"><code><strong><a href="../../demo/x509/CreateDemoCerts.html#generateKeyPair(java.lang.String, int)">generateKeyPair</a></strong>(java.lang.String&nbsp;algorithm,
               int&nbsp;bits)</code>
<div class="block">Generates a Key pair for the requested public key algorithm.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../demo/x509/CreateDemoCerts.html#main(java.lang.String[])">main</a></strong>(java.lang.String[]&nbsp;arg)</code>
<div class="block">Starts the certificate creation process.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../demo/x509/CreateDemoCerts.html#saveKeyAndCert(java.security.KeyPair, iaik.x509.X509Certificate[], java.lang.String)">saveKeyAndCert</a></strong>(java.security.KeyPair&nbsp;keyPair,
              iaik.x509.X509Certificate[]&nbsp;chain,
              java.lang.String&nbsp;fileName)</code>
<div class="block">Saves the private key and the certificate chain into one file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../demo/x509/CreateDemoCerts.html#start()">start</a></strong>()</code>
<div class="block">Creates some test certificate chains and writes them into <i>.PEM</i>
 files.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../demo/x509/CreateDemoCerts.html#verifyCertificate(iaik.x509.X509Certificate, iaik.x509.X509Certificate)">verifyCertificate</a></strong>(iaik.x509.X509Certificate&nbsp;userCert,
                 iaik.x509.X509Certificate&nbsp;caCert)</code>
<div class="block">Verifies the digital signature of a certificate.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../demo/x509/CreateDemoCerts.html#verifyCertificateChain(iaik.x509.X509Certificate[])">verifyCertificateChain</a></strong>(iaik.x509.X509Certificate[]&nbsp;certs)</code>
<div class="block">Verifies a chain of certificates where the user certificate is stored at
 index 0.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CreateDemoCerts()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CreateDemoCerts</h4>
<pre>public&nbsp;CreateDemoCerts()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="saveKeyAndCert(java.security.KeyPair, iaik.x509.X509Certificate[], java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveKeyAndCert</h4>
<pre>public&nbsp;void&nbsp;saveKeyAndCert(java.security.KeyPair&nbsp;keyPair,
                  iaik.x509.X509Certificate[]&nbsp;chain,
                  java.lang.String&nbsp;fileName)
                    throws java.io.IOException</pre>
<div class="block">Saves the private key and the certificate chain into one file.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>keyPair</code> - the keyPair from which to get the private key to be written to the
          specified file</dd><dd><code>chain</code> - the chain of X509 certificates to be written to the specified file</dd><dd><code>fileName</code> - the name of the file to which private key and certificates shall
          be written</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an error occurs when writing to the file</dd></dl>
</li>
</ul>
<a name="generateKeyPair(java.lang.String, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateKeyPair</h4>
<pre>public&nbsp;java.security.KeyPair&nbsp;generateKeyPair(java.lang.String&nbsp;algorithm,
                                    int&nbsp;bits)
                                      throws java.lang.Exception</pre>
<div class="block">Generates a Key pair for the requested public key algorithm.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>algorithm</code> - the public key algorithm</dd><dd><code>bits</code> - the length of the key (modulus) in bits</dd>
<dt><span class="strong">Returns:</span></dt><dd>the KeyPair</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.security.NoSuchAlgorithmException</code> - if the requested algorithm is not implemented</dd>
<dd><code>java.lang.Exception</code></dd></dl>
</li>
</ul>
<a name="verifyCertificateChain(iaik.x509.X509Certificate[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verifyCertificateChain</h4>
<pre>public&nbsp;void&nbsp;verifyCertificateChain(iaik.x509.X509Certificate[]&nbsp;certs)
                            throws java.lang.Exception</pre>
<div class="block">Verifies a chain of certificates where the user certificate is stored at
 index 0. The self-signed top level certificate is verified using its
 inherent public key. Any other certificate of the chain is verified by
 means of the public key derived from the issuing certificate which is
 located one index higher in the chain.
 <p>
 certs[0] = user certificate. certs[x] = self signed CA certificate</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>certs</code> - the certificate chain to verify</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd></dl>
</li>
</ul>
<a name="verifyCertificate(iaik.x509.X509Certificate, iaik.x509.X509Certificate)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verifyCertificate</h4>
<pre>public&nbsp;void&nbsp;verifyCertificate(iaik.x509.X509Certificate&nbsp;userCert,
                     iaik.x509.X509Certificate&nbsp;caCert)
                       throws java.lang.Exception</pre>
<div class="block">Verifies the digital signature of a certificate.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>userCert</code> - the certificate to verify</dd><dd><code>caCert</code> - the certificate of the CA which has issued the userCert or
          <code>null</code> if the userCert is a self signed certificate</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd></dl>
</li>
</ul>
<a name="createCertificate(iaik.asn1.structures.Name, java.security.PublicKey, iaik.asn1.structures.Name, java.security.PrivateKey, iaik.asn1.structures.AlgorithmID, int, iaik.x509.V3Extension[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createCertificate</h4>
<pre>public&nbsp;iaik.x509.X509Certificate&nbsp;createCertificate(iaik.asn1.structures.Name&nbsp;subject,
                                          java.security.PublicKey&nbsp;pk,
                                          iaik.asn1.structures.Name&nbsp;issuer,
                                          java.security.PrivateKey&nbsp;sk,
                                          iaik.asn1.structures.AlgorithmID&nbsp;algorithm,
                                          int&nbsp;serialNumber,
                                          iaik.x509.V3Extension[]&nbsp;extensions)
                                            throws java.lang.Exception</pre>
<div class="block">Creates a test certificate according to the X.509 Notation.
 <p>
 Depending on the subject ID either a self-signed CA certificate will be
 created or a user certificate.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>subject</code> - the user demanding the certificate (may be the certification
          authority itself)</dd><dd><code>pk</code> - the subject's public key to be certified</dd><dd><code>issuer</code> - the certification authority that issues the certificate</dd><dd><code>sk</code> - the issuer's private key for signing the certificate</dd><dd><code>algorithm</code> - the ID of the signature algorithm</dd><dd><code>serialNumber</code> - the issuer-specific serial number of the certificate</dd>
<dt><span class="strong">Returns:</span></dt><dd>the certificate just created</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>CertificateException</code> - if the certificate cannot be created</dd>
<dd><code>java.lang.Exception</code></dd></dl>
</li>
</ul>
<a name="start()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;void&nbsp;start()</pre>
<div class="block">Creates some test certificate chains and writes them into <i>.PEM</i>
 files.
 <p>
 This method creates a - if not already existing - "test" sub-directory of
 the current working directory for writing the PEM encoded test certificate
 chains to it. Each chain is stored together with the private key belonging
 to the subject's certificate, which is located at index 0 of the chain.
 <p>
 This method creates two CA certificates and four user certificates. The CA
 certificate chains only hold the corresponding CA certificates, whereas the
 user certificate chains contain the user (subject) certificate at index 0
 and the CA certificate at index 1. The private key giving a <code>
 KeyAndCertificate</code> structure together with the actual certificate
 chain, in any case belongs to the certificate at index 0. All generated
 keys have a modulus length of 1024 bits.
 <p>
 The following certificates (and keys) are created and saved to files:
 <ul>
 <li>A Self-signed RSA certificate; saved to "test/caRSA.PEM"
 <li>A Self-signed RSA certificate; saved to "test/caDSA.PEM"
 <li>Two RSA/RSA user certificates; saved to "userRSAcert1.PEM" and
 "userRSAcert2.PEM"
 <li>A DSA/DSA user certificate; saved to "userDSAcert.PEM"
 <li>A DH/DSA user certificate; saved to "userDHcert.PEM"
 </ul></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../demo/IAIKDemo.html#start()">start</a></code>&nbsp;in interface&nbsp;<code><a href="../../demo/IAIKDemo.html" title="interface in demo">IAIKDemo</a></code></dd>
</dl>
</li>
</ul>
<a name="main(java.lang.String[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;arg)
                 throws java.io.IOException</pre>
<div class="block">Starts the certificate creation process.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>I</code> - /O Exception an I/O error may occurs when writing to files</dd>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>
					
					
			<small>This Javadoc may contain text parts from IETF Internet Standard specifications (see <a href=../../RefCopyright_javadoc.html#RFC>copyright</a> note) and RSA Data Security Public-Key Cryptography Standards (PKCS, see <a href=../../RefCopyright_javadoc.html#PKCS>copyright</a> note).</small>
			
		
				</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../demo/x509/CertificateExtensions.html" title="class in demo.x509"><span class="strong">Prev Class</span></a></li>
<li><a href="../../demo/x509/CRLExtensions.html" title="class in demo.x509"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?demo/x509/CreateDemoCerts.html" target="_top">Frames</a></li>
<li><a href="CreateDemoCerts.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
					
			
			<table cellpadding=10>
			<tr>
				<td align=left>
					<img src=../../siclogo.jpg>
					</td>
					<td align=center>
						5.3<br>
						(c) 2002 
						<a href=http://jce.iaik.tugraz.at/ target=_blank>IAIK</a>, (c) 2003 - 2015 
						<a href=http://jce.iaik.tugraz.at/ target=_blank>SIC</a>
						</td>
						<td align=right>
							<img src=../../iaik_logo.gif>
							</td>
						</tr>
					</table>
			
		
				</small></p>
</body>
</html>
