<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_45) on Fri Dec 02 13:53:32 CET 2016 -->
<title>PdfSignatureInstance</title>
<meta name="date" content="2016-12-02">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PdfSignatureInstance";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":9,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":9,"i15":6,"i16":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">
				
					<b>IAIK [CP]AdES Toolkit API Documentation</b>
					<br>
					<font size="-1">Version 2.2</font>
				
			</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?iaik/pdf/signature/PdfSignatureInstance.html" target="_top">Frames</a></li>
<li><a href="PdfSignatureInstance.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">iaik.pdf.signature</div>
<h2 title="Class PdfSignatureInstance" class="title">Class PdfSignatureInstance</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>iaik.pdf.signature.PdfSignatureInstance</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../iaik/pdf/itext/PdfSignatureInstanceItext.html" title="class in iaik.pdf.itext">PdfSignatureInstanceItext</a>, <a href="../../../iaik/pdf/pdfbox/PdfSignatureInstancePdfbox.html" title="class in iaik.pdf.pdfbox">PdfSignatureInstancePdfbox</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">PdfSignatureInstance</span>
extends java.lang.Object</pre>
<div class="block">This class provides methods to create, extract and verify PDF signatures.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../iaik/pdf/signature/PdfSignatureInstance.html#PdfSignatureInstance--">PdfSignatureInstance</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../iaik/pdf/signature/PdfSignatureInstance.html#addArchivalTimestamp-java.lang.String-java.lang.String-java.lang.String-iaik.pdf.parameters.PadesLTVParameters-java.lang.String-">addArchivalTimestamp</a></span>(java.lang.String&nbsp;tsaUrl,
                    java.lang.String&nbsp;username,
                    java.lang.String&nbsp;password,
                    <a href="../../../iaik/pdf/parameters/PadesLTVParameters.html" title="class in iaik.pdf.parameters">PadesLTVParameters</a>&nbsp;params,
                    java.lang.String&nbsp;newTimestampedFilePath)</code>
<div class="block">Add the validation data contained in params to this document's DSS (document security store) as
 defined by PAdES-LTV (PAdES - long term validation).</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../iaik/pdf/signature/PdfSignatureInstance.html#addArchivalTimestamp-java.lang.String-java.lang.String-java.lang.String-iaik.pdf.parameters.PadesLTVParameters-java.lang.String-java.lang.String-">addArchivalTimestamp</a></span>(java.lang.String&nbsp;tsaUrl,
                    java.lang.String&nbsp;username,
                    java.lang.String&nbsp;password,
                    <a href="../../../iaik/pdf/parameters/PadesLTVParameters.html" title="class in iaik.pdf.parameters">PadesLTVParameters</a>&nbsp;params,
                    java.lang.String&nbsp;newTimestampedFilePath,
                    java.lang.String&nbsp;digestAlgorithm)</code>
<div class="block">Add the validation data contained in params to this document's DSS (document security store) as
 defined by PAdES-LTV (PAdES - long term validation).</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../iaik/pdf/signature/PdfSignatureInstance.html#certificateInfosToText-iaik.x509.X509Certificate-java.util.Calendar-java.lang.String-java.lang.String-">certificateInfosToText</a></span>(iaik.x509.X509Certificate&nbsp;cert,
                      java.util.Calendar&nbsp;signDate,
                      java.lang.String&nbsp;reason,
                      java.lang.String&nbsp;location)</code>
<div class="block">Create a String of certificate and signature details.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../iaik/pdf/signature/PdfSignatureInstance.html#certify--">certify</a></span>()</code>
<div class="block">Add a certification signature as defined in initSign.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../iaik/pdf/signature/PdfSignatureInstance.html#certify-iaik.pdf.signature.CertificationSignature.ModificationPermission-">certify</a></span>(<a href="../../../iaik/pdf/signature/CertificationSignature.ModificationPermission.html" title="enum in iaik.pdf.signature">CertificationSignature.ModificationPermission</a>&nbsp;allowedModification)</code>
<div class="block">Add a certification signature as defined in initSign.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../iaik/pdf/signature/PdfSignatureInstance.html#certify-iaik.pdf.signature.CertificationSignature.ModificationPermission-iaik.pdf.parameters.LegalContentAttestation-">certify</a></span>(<a href="../../../iaik/pdf/signature/CertificationSignature.ModificationPermission.html" title="enum in iaik.pdf.signature">CertificationSignature.ModificationPermission</a>&nbsp;allowedModification,
       <a href="../../../iaik/pdf/parameters/LegalContentAttestation.html" title="class in iaik.pdf.parameters">LegalContentAttestation</a>&nbsp;attestation)</code>
<div class="block">Add a certification signature as defined in initSign.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../iaik/pdf/signature/PdfSignatureInstance.html#closeDocument--">closeDocument</a></span>()</code>
<div class="block">Close document instances that may still be open.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../iaik/pdf/signature/CertificationSignature.html" title="interface in iaik.pdf.signature">CertificationSignature</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../iaik/pdf/signature/PdfSignatureInstance.html#getCertificationSignature--">getCertificationSignature</a></span>()</code>
<div class="block">Extract the certification signature if included.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>abstract <a href="../../../iaik/pdf/parameters/PadesLTVParameters.html" title="class in iaik.pdf.parameters">PadesLTVParameters</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../iaik/pdf/signature/PdfSignatureInstance.html#getDocumentSecurityStore--">getDocumentSecurityStore</a></span>()</code>
<div class="block">Get all validation data included in the document security store (dss).</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../iaik/pdf/signature/PdfSignatureDetails.html" title="interface in iaik.pdf.signature">PdfSignatureDetails</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../iaik/pdf/signature/PdfSignatureInstance.html#getSignatures--">getSignatures</a></span>()</code>
<div class="block">Extract all PDF signatures (approval and certification signatures) contained in the document.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../iaik/pdf/signature/PdfSignatureInstance.html#initSign-java.io.InputStream-byte:A-java.io.OutputStream-java.security.PrivateKey-java.security.cert.Certificate:A-iaik.pdf.parameters.PdfSignatureParameters-">initSign</a></span>(java.io.InputStream&nbsp;originalPdf,
        byte[]&nbsp;pwd,
        java.io.OutputStream&nbsp;signedPdf,
        java.security.PrivateKey&nbsp;privateKey,
        java.security.cert.Certificate[]&nbsp;certChain,
        <a href="../../../iaik/pdf/parameters/PdfSignatureParameters.html" title="class in iaik.pdf.parameters">PdfSignatureParameters</a>&nbsp;params)</code>
<div class="block">Set all details needed to create a PDF signature.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../iaik/pdf/signature/PdfSignatureInstance.html#initSign-java.lang.String-byte:A-java.lang.String-java.security.PrivateKey-java.security.cert.Certificate:A-iaik.pdf.parameters.PdfSignatureParameters-">initSign</a></span>(java.lang.String&nbsp;originalFilePath,
        byte[]&nbsp;pwd,
        java.lang.String&nbsp;signedFilePath,
        java.security.PrivateKey&nbsp;privateKey,
        java.security.cert.Certificate[]&nbsp;certChain,
        <a href="../../../iaik/pdf/parameters/PdfSignatureParameters.html" title="class in iaik.pdf.parameters">PdfSignatureParameters</a>&nbsp;params)</code>
<div class="block">Set all details needed to create a PDF signature.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../iaik/pdf/signature/PdfSignatureInstance.html#initVerify-java.io.InputStream-byte:A-">initVerify</a></span>(java.io.InputStream&nbsp;pdfStream,
          byte[]&nbsp;pwd)</code>
<div class="block">Specify the signed PDF document to be further analyzed.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../iaik/pdf/signature/PdfSignatureInstance.html#initVerify-java.lang.String-byte:A-">initVerify</a></span>(java.lang.String&nbsp;path,
          byte[]&nbsp;pwd)</code>
<div class="block">Specify the signed PDF document to be further analyzed.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../iaik/pdf/signature/PdfSignatureInstance.html#setCmsSecurityProvider-iaik.cms.SecurityProvider-">setCmsSecurityProvider</a></span>(iaik.cms.SecurityProvider&nbsp;cmsSecProvider)</code>
<div class="block">Only calls SecurityProvider.setSecurityProvider(cmsSecProvider); to tell IAIK CMS which
 provider to use for signing.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../iaik/pdf/signature/PdfSignatureInstance.html#sign--">sign</a></span>()</code>
<div class="block">Sign the PDF document given as defined in initSign.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../iaik/pdf/signature/PdfSignatureInstance.html#verify--">verify</a></span>()</code>
<div class="block">Verifies the signature value of each contained signature.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PdfSignatureInstance--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PdfSignatureInstance</h4>
<pre>public&nbsp;PdfSignatureInstance()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="initSign-java.lang.String-byte:A-java.lang.String-java.security.PrivateKey-java.security.cert.Certificate:A-iaik.pdf.parameters.PdfSignatureParameters-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initSign</h4>
<pre>public abstract&nbsp;void&nbsp;initSign(java.lang.String&nbsp;originalFilePath,
                              byte[]&nbsp;pwd,
                              java.lang.String&nbsp;signedFilePath,
                              java.security.PrivateKey&nbsp;privateKey,
                              java.security.cert.Certificate[]&nbsp;certChain,
                              <a href="../../../iaik/pdf/parameters/PdfSignatureParameters.html" title="class in iaik.pdf.parameters">PdfSignatureParameters</a>&nbsp;params)
                       throws java.io.IOException,
                              <a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature">PdfSignatureException</a></pre>
<div class="block">Set all details needed to create a PDF signature. Depending on the key type specified, you may
 need to set a CMSSecurityProvider. E.g. if you use the IAIK PKCS#11-provider to create the
 signature on a smart card or token you have to set the PKCS#11 security provider:
 <code>SecurityProvider.setSecurityProvider(new IaikPkcs11SecurityProvider((IAIKPkcs11)pkcs11Provider));</code>
 If using EC-keys and the IAIK ECCelerate toolkit, also use the corresponding CMS security
 provider: <code>SecurityProvider.setSecurityProvider(new ECCelerateProvider());</code></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>originalFilePath</code> - path to the PDF document, that shall be signed</dd>
<dd><code>pwd</code> - password to open the document if encrypted (may be null)</dd>
<dd><code>signedFilePath</code> - path where to save the signed PDF document</dd>
<dd><code>privateKey</code> - private key to use for creating the signature</dd>
<dd><code>certChain</code> - certificate chain corresponding to the given private key</dd>
<dd><code>params</code> - parameters defining the required characteristics of the signature</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the original file can't be read or the signed file can't be written</dd>
<dd><code><a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature">PdfSignatureException</a></code> - if specified parameters are invalid or certificates can't be parsed</dd>
</dl>
</li>
</ul>
<a name="initSign-java.io.InputStream-byte:A-java.io.OutputStream-java.security.PrivateKey-java.security.cert.Certificate:A-iaik.pdf.parameters.PdfSignatureParameters-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initSign</h4>
<pre>public abstract&nbsp;void&nbsp;initSign(java.io.InputStream&nbsp;originalPdf,
                              byte[]&nbsp;pwd,
                              java.io.OutputStream&nbsp;signedPdf,
                              java.security.PrivateKey&nbsp;privateKey,
                              java.security.cert.Certificate[]&nbsp;certChain,
                              <a href="../../../iaik/pdf/parameters/PdfSignatureParameters.html" title="class in iaik.pdf.parameters">PdfSignatureParameters</a>&nbsp;params)
                       throws java.io.IOException,
                              <a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature">PdfSignatureException</a></pre>
<div class="block">Set all details needed to create a PDF signature. Depending on the key type specified, you may
 need to set a CMSSecurityProvider. E.g. if you use the IAIK PKCS#11-provider to create the
 signature on a smart card or token you have to set the PKCS#11 security provider:
 <code>SecurityProvider.setSecurityProvider(new IaikPkcs11SecurityProvider((IAIKPkcs11)pkcs11Provider));</code>
 If using EC-keys and the IAIK ECCelerate toolkit, also use the corresponding CMS security
 provider: <code>SecurityProvider.setSecurityProvider(new ECCelerateProvider());</code>
 
 If using PdfBox the given originalPdf stream will be wrapped in a
 <code>NonClosingIteratingInputStream</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>originalPdf</code> - the stream to read the PDF document from, that shall be signed</dd>
<dd><code>pwd</code> - password to open the document if encrypted (may be null)</dd>
<dd><code>signedPdf</code> - stream to write the signed PDF document to</dd>
<dd><code>privateKey</code> - private key to use for creating the signature</dd>
<dd><code>certChain</code> - certificate chain corresponding to the given private key</dd>
<dd><code>params</code> - parameters defining the required characteristics of the signature</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the original file can't be read or the signed file can't be written</dd>
<dd><code><a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature">PdfSignatureException</a></code> - if specified parameters are invalid or certificates can't be parsed</dd>
</dl>
</li>
</ul>
<a name="sign--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sign</h4>
<pre>public abstract&nbsp;void&nbsp;sign()
                   throws <a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature">PdfSignatureException</a>,
                          java.io.IOException</pre>
<div class="block">Sign the PDF document given as defined in initSign. (Add an approval signature.)</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature">PdfSignatureException</a></code> - if errors during signing occur</dd>
<dd><code>java.io.IOException</code> - if the signed document can't be written</dd>
</dl>
</li>
</ul>
<a name="certify--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>certify</h4>
<pre>public abstract&nbsp;void&nbsp;certify()
                      throws <a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature">PdfSignatureException</a>,
                             java.io.IOException</pre>
<div class="block">Add a certification signature as defined in initSign. Such a signature shall be the first
 signature in the document and additionally to the signature as used in the approval signature
 defines what kind of modifications are allowed. Uses
 ModificationPermission.SignaturesFormsTemplates as default.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature">PdfSignatureException</a></code> - if errors during signing occur</dd>
<dd><code>java.io.IOException</code> - if the signed document can't be written</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../iaik/pdf/signature/CertificationSignature.ModificationPermission.html" title="enum in iaik.pdf.signature"><code>CertificationSignature.ModificationPermission</code></a></dd>
</dl>
</li>
</ul>
<a name="certify-iaik.pdf.signature.CertificationSignature.ModificationPermission-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>certify</h4>
<pre>public abstract&nbsp;void&nbsp;certify(<a href="../../../iaik/pdf/signature/CertificationSignature.ModificationPermission.html" title="enum in iaik.pdf.signature">CertificationSignature.ModificationPermission</a>&nbsp;allowedModification)
                      throws <a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature">PdfSignatureException</a>,
                             java.io.IOException</pre>
<div class="block">Add a certification signature as defined in initSign. Such a signature shall be the first
 signature in the document and additionally to the signature as used in the approval signature
 defines what kind of modifications are allowed. Uses
 ModificationPermission.SignaturesFormsTemplates as default.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>allowedModification</code> - the modifications allowed in order not to invalidate the signature</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature">PdfSignatureException</a></code> - if errors during signing occur</dd>
<dd><code>java.io.IOException</code> - if the signed document can't be written</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../iaik/pdf/signature/CertificationSignature.ModificationPermission.html" title="enum in iaik.pdf.signature"><code>CertificationSignature.ModificationPermission</code></a></dd>
</dl>
</li>
</ul>
<a name="certify-iaik.pdf.signature.CertificationSignature.ModificationPermission-iaik.pdf.parameters.LegalContentAttestation-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>certify</h4>
<pre>public abstract&nbsp;void&nbsp;certify(<a href="../../../iaik/pdf/signature/CertificationSignature.ModificationPermission.html" title="enum in iaik.pdf.signature">CertificationSignature.ModificationPermission</a>&nbsp;allowedModification,
                             <a href="../../../iaik/pdf/parameters/LegalContentAttestation.html" title="class in iaik.pdf.parameters">LegalContentAttestation</a>&nbsp;attestation)
                      throws <a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature">PdfSignatureException</a>,
                             java.io.IOException</pre>
<div class="block">Add a certification signature as defined in initSign. Such a signature shall be the first and
 only signature in the document and additionally to the signature as used in the approval
 signature defines what kind of modifications are allowed. Uses
 ModificationPermission.SignaturesFormsTemplates as default.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>allowedModification</code> - the modifications allowed in order not to invalidate the signature</dd>
<dd><code>attestation</code> - legal content attestation certifying the document's content</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature">PdfSignatureException</a></code> - if errors during signing occur</dd>
<dd><code>java.io.IOException</code> - if the signed document can't be written</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../iaik/pdf/signature/CertificationSignature.ModificationPermission.html" title="enum in iaik.pdf.signature"><code>CertificationSignature.ModificationPermission</code></a></dd>
</dl>
</li>
</ul>
<a name="initVerify-java.lang.String-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initVerify</h4>
<pre>public abstract&nbsp;void&nbsp;initVerify(java.lang.String&nbsp;path,
                                byte[]&nbsp;pwd)
                         throws java.io.IOException</pre>
<div class="block">Specify the signed PDF document to be further analyzed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - path to the signed PDF document that shall be analyzed</dd>
<dd><code>pwd</code> - password to open the document if encrypted (may be null)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the document can't be read</dd>
</dl>
</li>
</ul>
<a name="initVerify-java.io.InputStream-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initVerify</h4>
<pre>public abstract&nbsp;void&nbsp;initVerify(java.io.InputStream&nbsp;pdfStream,
                                byte[]&nbsp;pwd)
                         throws java.io.IOException</pre>
<div class="block">Specify the signed PDF document to be further analyzed.
 
 If using PdfBox the given pdfStream will be wrapped in a
 <code>NonClosingIteratingInputStream</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pdfStream</code> - the stream to read the PDF document that shall be analyzed</dd>
<dd><code>pwd</code> - password to open the document if encrypted (may be null)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the stream can't be read</dd>
</dl>
</li>
</ul>
<a name="getSignatures--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSignatures</h4>
<pre>public abstract&nbsp;<a href="../../../iaik/pdf/signature/PdfSignatureDetails.html" title="interface in iaik.pdf.signature">PdfSignatureDetails</a>[]&nbsp;getSignatures()
                                             throws <a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature">PdfSignatureException</a>,
                                                    java.io.IOException</pre>
<div class="block">Extract all PDF signatures (approval and certification signatures) contained in the document.
 The position of the signatures in the array is in ascending order beginning with the first
 (oldest, innermost) and ending with the last (most current, outermost) signature. For further
 operations on the received signatures, detect the signature's type and call the respective
 methods, e.g. like this:
 
 <pre>
 PdfSignatureDetails[] signatures = signatureInstance.getSignatures();
 for (int i = 0; i &lt; signatures.length; i++) {
   PdfSignatureDetails signature = signatures[i];
   if (signature instanceof ApprovalSignature) {
     ((ApprovalSignature) signature).verifySignatureValue();
     if (signature instanceof CertificationSignature) {
       ModificationPermission permissions = ((CertificationSignature) signature)
           .getModificationPermission();
     }
   } else if (signature instanceof DocumentTimestamp) {
     PadesLTVParameters ltvParams = ((DocumentTimestamp) signature).getLTVParams();
   }
 }
 </pre></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>all signatures as array</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature">PdfSignatureException</a></code> - if no signed document has been specified with initVerify</dd>
<dd><code>java.io.IOException</code> - if the document can't be read</dd>
</dl>
</li>
</ul>
<a name="getCertificationSignature--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCertificationSignature</h4>
<pre>public abstract&nbsp;<a href="../../../iaik/pdf/signature/CertificationSignature.html" title="interface in iaik.pdf.signature">CertificationSignature</a>&nbsp;getCertificationSignature()
                                                          throws <a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature">PdfSignatureException</a>,
                                                                 java.io.IOException</pre>
<div class="block">Extract the certification signature if included.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The PDF signature implying the certification signature.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature">PdfSignatureException</a></code> - if more than one certification signature was found</dd>
<dd><code>java.io.IOException</code> - if the document can't be read</dd>
</dl>
</li>
</ul>
<a name="verify--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verify</h4>
<pre>public&nbsp;void&nbsp;verify()
            throws <a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature">PdfSignatureException</a>,
                   java.io.IOException</pre>
<div class="block">Verifies the signature value of each contained signature. This is only a very rudimentary
 verification and should be extended or replaced using methods provided by each signature. An
 PdfSignatureException containing the revisions for the invalid signatures is thrown, if some
 signature values could not be verified.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature">PdfSignatureException</a></code> - if some signatures can't be parsed or are invalid</dd>
<dd><code>java.io.IOException</code> - if the document or the signatures can't be read</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../iaik/pdf/signature/PdfSignatureInstance.html#getSignatures--"><code>getSignatures()</code></a></dd>
</dl>
</li>
</ul>
<a name="getDocumentSecurityStore--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDocumentSecurityStore</h4>
<pre>public abstract&nbsp;<a href="../../../iaik/pdf/parameters/PadesLTVParameters.html" title="class in iaik.pdf.parameters">PadesLTVParameters</a>&nbsp;getDocumentSecurityStore()
                                                     throws <a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature">PdfSignatureException</a>,
                                                            java.io.IOException</pre>
<div class="block">Get all validation data included in the document security store (dss).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the dss as ltv parameters</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature">PdfSignatureException</a></code> - if some dss data can't be parsed</dd>
<dd><code>java.io.IOException</code> - if some dss data can't be read</dd>
</dl>
</li>
</ul>
<a name="addArchivalTimestamp-java.lang.String-java.lang.String-java.lang.String-iaik.pdf.parameters.PadesLTVParameters-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addArchivalTimestamp</h4>
<pre>public abstract&nbsp;void&nbsp;addArchivalTimestamp(java.lang.String&nbsp;tsaUrl,
                                          java.lang.String&nbsp;username,
                                          java.lang.String&nbsp;password,
                                          <a href="../../../iaik/pdf/parameters/PadesLTVParameters.html" title="class in iaik.pdf.parameters">PadesLTVParameters</a>&nbsp;params,
                                          java.lang.String&nbsp;newTimestampedFilePath)
                                   throws <a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature">PdfSignatureException</a>,
                                          iaik.tsp.TspVerificationException,
                                          java.io.IOException</pre>
<div class="block">Add the validation data contained in params to this document's DSS (document security store) as
 defined by PAdES-LTV (PAdES - long term validation). This validation data (certificates, CRLs,
 OCSP responses) shall be used at a later date to verify the included signatures, when external
 sources may no longer be available. After adding this data a document timestamp (requested from
 the given timestamp authority) is added, in order to protect the validation data.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tsaUrl</code> - URL of the timestamp authority</dd>
<dd><code>username</code> - username for authorization</dd>
<dd><code>password</code> - password for authorization</dd>
<dd><code>params</code> - parameters including the validation data to be added</dd>
<dd><code>newTimestampedFilePath</code> - the file path where the new document containing the data and timestamp shall be saved</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature">PdfSignatureException</a></code> - if the validation data can't be encoded or the timestamp can't be created</dd>
<dd><code>iaik.tsp.TspVerificationException</code> - if errors occur when requesting and verifying the timestamp</dd>
<dd><code>java.io.IOException</code> - if the validation data or the document timestamp can't be written</dd>
</dl>
</li>
</ul>
<a name="addArchivalTimestamp-java.lang.String-java.lang.String-java.lang.String-iaik.pdf.parameters.PadesLTVParameters-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addArchivalTimestamp</h4>
<pre>public abstract&nbsp;void&nbsp;addArchivalTimestamp(java.lang.String&nbsp;tsaUrl,
                                          java.lang.String&nbsp;username,
                                          java.lang.String&nbsp;password,
                                          <a href="../../../iaik/pdf/parameters/PadesLTVParameters.html" title="class in iaik.pdf.parameters">PadesLTVParameters</a>&nbsp;params,
                                          java.lang.String&nbsp;newTimestampedFilePath,
                                          java.lang.String&nbsp;digestAlgorithm)
                                   throws <a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature">PdfSignatureException</a>,
                                          iaik.tsp.TspVerificationException,
                                          java.io.IOException</pre>
<div class="block">Add the validation data contained in params to this document's DSS (document security store) as
 defined by PAdES-LTV (PAdES - long term validation). This validation data (certificates, CRLs,
 OCSP responses) shall be used at a later date to verify the included signatures, when external
 sources may no longer be available. After adding this data a document timestamp (requested from
 the given timestamp authority) is added, in order to protect the validation data.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tsaUrl</code> - URL of the timestamp authority</dd>
<dd><code>username</code> - username for authorization</dd>
<dd><code>password</code> - password for authorization</dd>
<dd><code>params</code> - parameters including the validation data to be added</dd>
<dd><code>newTimestampedFilePath</code> - the file path where the new document containing the data and timestamp shall be saved</dd>
<dd><code>digestAlgorithm</code> - digest algorithm used to digest the timestamped data (timestamp imprint)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature">PdfSignatureException</a></code> - if the validation data can't be encoded or the timestamp can't be created</dd>
<dd><code>iaik.tsp.TspVerificationException</code> - if errors occur when requesting and verifying the timestamp</dd>
<dd><code>java.io.IOException</code> - if the validation data or the document timestamp can't be written</dd>
</dl>
</li>
</ul>
<a name="closeDocument--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeDocument</h4>
<pre>public abstract&nbsp;void&nbsp;closeDocument()</pre>
<div class="block">Close document instances that may still be open. Call this function, if this signature instance
 will not be used any more.</div>
</li>
</ul>
<a name="setCmsSecurityProvider-iaik.cms.SecurityProvider-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCmsSecurityProvider</h4>
<pre>public static&nbsp;void&nbsp;setCmsSecurityProvider(iaik.cms.SecurityProvider&nbsp;cmsSecProvider)</pre>
<div class="block">Only calls SecurityProvider.setSecurityProvider(cmsSecProvider); to tell IAIK CMS which
 provider to use for signing. To use the PKCS#11 Provider, set the iaikPkcs11SecurityProvider
 delivered with the PKCS#11 Provider in the iaikPkcs11Provider_cms.jar file. To use the
 ECCelerate provider set the ECCelerateProvider contained in the iaik_eccelerate_cms.jar file of
 the ECCelerate package.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cmsSecProvider</code> - the security provider to use</dd>
</dl>
</li>
</ul>
<a name="certificateInfosToText-iaik.x509.X509Certificate-java.util.Calendar-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>certificateInfosToText</h4>
<pre>public static&nbsp;java.lang.String&nbsp;certificateInfosToText(iaik.x509.X509Certificate&nbsp;cert,
                                                      java.util.Calendar&nbsp;signDate,
                                                      java.lang.String&nbsp;reason,
                                                      java.lang.String&nbsp;location)</pre>
<div class="block">Create a String of certificate and signature details.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cert</code> - certificate of the signer</dd>
<dd><code>signDate</code> - date of signature</dd>
<dd><code>reason</code> - reason for signature</dd>
<dd><code>location</code> - location of signature</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String with details about the signature</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">
				
					<b>IAIK [CP]AdES Toolkit API Documentation</b>
					<br>
					<font size="-1">Version 2.2</font>
				
			</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../iaik/pdf/signature/PdfSignatureException.html" title="class in iaik.pdf.signature"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?iaik/pdf/signature/PdfSignatureInstance.html" target="_top">Frames</a></li>
<li><a href="PdfSignatureInstance.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
				
				<table cellpadding="10">
					<tr>
						<td align="left">
							<img src="../../../siclogo.jpg">
						</td>
						<td align="center">
							2.2<br>
							(c) 2002 
							<a href="http://jce.iaik.tugraz.at/" target="_blank">IAIK</a>, (c) 2003 - 2016 
							<a href="http://jce.iaik.tugraz.at/" target="_blank">SIC</a>
						</td>
						<td align="right">
							<img src="../../../iaik_logo.gif">
						</td>
					</tr>
				</table>
				
			</small></p>
</body>
</html>
