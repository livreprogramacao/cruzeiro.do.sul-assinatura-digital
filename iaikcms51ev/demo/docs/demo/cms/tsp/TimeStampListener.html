<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_09) on Wed Nov 02 19:19:24 GMT 2016 -->
<TITLE>
TimeStampListener (IAIK-CMS 5.1 API Documentation)
</TITLE>

<META NAME="keywords" CONTENT="demo.cms.tsp.TimeStampListener class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="TimeStampListener (IAIK-CMS 5.1 API Documentation)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../demo/cms/tsp/TimeStampDemo.html" title="class in demo.cms.tsp"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../demo/cms/tsp/TSPDemoUtils.html" title="class in demo.cms.tsp"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?demo/cms/tsp/TimeStampListener.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="TimeStampListener.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#fields_inherited_from_class_iaik.cms.SDSEncodeListener">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
demo.cms.tsp</FONT>
<BR>
Class TimeStampListener</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by ">iaik.cms.SDSEncodeListener
      <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>demo.cms.tsp.TimeStampListener</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>TimeStampListener</B><DT>extends iaik.cms.SDSEncodeListener</DL>
</PRE>

<P>
A simple SignedDataStream encode listener implementation allowing an
 application to add a SignatureTimeStampToken attribute to the SignerInfo
 of a SignedDataStream (during the encoding is performed).
 <p>
 Using an SignedDataStream encode listener for adding a SignatureTimeStampToken may
 be useful when having to time stamp the signature calculated from a large data
 volume. Since reading all the data into memory may cause an OutOfMemory problem, 
 class <CODE>SignedDataStream</CODE> should to be used for
 creating/encoding the SignedData object and the SignatureTimeStampToken may be 
 added by means of a <CODE>SDSEncodeListener</CODE>.
 <p>
 This SDSEncodeListener implements method <A HREF="../../../demo/cms/tsp/TimeStampListener.html#afterComputeSignature(iaik.cms.SignedDataStream)"><CODE>afterComputeSignature</CODE></A> to add a SignatureTimeStampToken attribute to the SignerInfo of a
 SignedDataStream object (<i>Attention</i>: This demo assumes that the SignedData contains
 only one single SignerInfo). When <A HREF="../../../demo/cms/tsp/TimeStampListener.html#TimeStampListener(java.lang.String)"><CODE>creating</CODE></A> a TimeStampListener
 the HTTP URL of the Time Stamp Authority from which to get the TimeStamp has to be
 supplied (<i>Attention</i>: This demo only works for TSAs that can be accessed via http).
 This SDSEncodeListener implements method <A HREF="../../../demo/cms/tsp/TimeStampListener.html#afterComputeSignature(iaik.cms.SignedDataStream)"><CODE>afterComputeSignature</CODE></A>
 to connect to the specified TSA service to get a timestamp for the signature value
 of the single SignerInfo object. The TimeStampToken received from the TSA then is
 included as unsigned <CODE>SignatureTimeStampToken</CODE>
 attribute into the SignerInfo object. If there occurs an error during the TSP processing
 an exception is thrown, except the application has decided to <A HREF="../../../demo/cms/tsp/TimeStampListener.html#setStopOnTSPProcessingError(boolean)"><CODE>finsih</CODE></A> the SignedData creating/encoding procedure without including the SignatureTimeStampToken
 attribute (which then may be added later).
 <p>
 This SDSEncodeListener implementation is part of the CMS TimeStamp demo.
 Please look at <A HREF="../../../demo/cms/tsp/TimeStampDemo.html" title="class in demo.cms.tsp"><CODE>TimeStampDemo</CODE></A> for an usage example:
 <pre>
 // cretae a SignedDataStream object
 SignedDataStream signedData = ...;
 ...
 // add certificates and SignerInfo...
 ...
 // create and add a TimeStampListener to include a TimeStampToken to be obtained from the specified TSA
 String tsaUrl = "http://...";
 TimeStampListener tsl = new TimeStampListener(tsaUrl);
 // debug info goes to System.out
 tsl.setDebugStream(System.out);
 signedData.setSDSEncodeListener(tsl);   
 ...
 // encode the SignedData to some output stream
 OutputStream os = ...;
 signedData.writeTo(...);
 </pre>
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../demo/cms/tsp/TimeStampDemo.html" title="class in demo.cms.tsp"><CODE>TimeStampDemo</CODE></A>, 
<CODE>SDSEncodeListener</CODE>, 
<CODE>SignedDataStream</CODE>, 
<CODE>SignerInfo</CODE>, 
<CODE>SignatureTimeStampToken</CODE></DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_iaik.cms.SDSEncodeListener"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class iaik.cms.SDSEncodeListener</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>digestAlgorithms_, outputStream_, report_</CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../demo/cms/tsp/TimeStampListener.html#TimeStampListener(java.lang.String)">TimeStampListener</A></B>(java.lang.String&nbsp;tsaUrl)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a TimeStampListener for the given TSA url.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../demo/cms/tsp/TimeStampListener.html#afterComputeSignature(iaik.cms.SignedDataStream)">afterComputeSignature</A></B>(iaik.cms.SignedDataStream&nbsp;signedData)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Abstract method to be implemented for updating the given 
 SignedDataStream after signature computation has been performed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../demo/cms/tsp/TimeStampListener.html#beforeComputeSignature(iaik.cms.SignedDataStream)">beforeComputeSignature</A></B>(iaik.cms.SignedDataStream&nbsp;signedData)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Does nothing.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;iaik.tsp.TimeStampReq</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../demo/cms/tsp/TimeStampListener.html#getTimeStampRequest()">getTimeStampRequest</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the TimeStampRequest.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;iaik.tsp.TimeStampResp</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../demo/cms/tsp/TimeStampListener.html#getTimeStampResponse()">getTimeStampResponse</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the TimeStampResponse.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;iaik.tsp.TspException</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../demo/cms/tsp/TimeStampListener.html#getTspFailure()">getTspFailure</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a TspException, if has been thrown during TSP processing.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../demo/cms/tsp/TimeStampListener.html#setDebugStream(java.io.OutputStream)">setDebugStream</A></B>(java.io.OutputStream&nbsp;out)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the stream to which debug information shall be printed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../demo/cms/tsp/TimeStampListener.html#setStopOnTSPProcessingError(boolean)">setStopOnTSPProcessingError</A></B>(boolean&nbsp;stop)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Decides whether SignedData creation shall be stopped and an exception shall
 be thrown if the TSA response is invalid, or if the SignedData should be 
 finished without including a SignatureTimeStampToken attribute (which then
 may be added later).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../demo/cms/tsp/TimeStampListener.html#setTimeStampResponse(iaik.tsp.TimeStampResp)">setTimeStampResponse</A></B>(iaik.tsp.TimeStampResp&nbsp;response)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the (already validated) TimeStamp response.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../demo/cms/tsp/TimeStampListener.html#setTSAPolicyID(iaik.asn1.ObjectID)">setTSAPolicyID</A></B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ObjectID.html" title="class or interface in iaik.asn1">ObjectID</A>&nbsp;tsaPolicyID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the policyID of the TSA (if only some specific TSA (policy) shall be trusted).</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_iaik.cms.SDSEncodeListener"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class iaik.cms.SDSEncodeListener</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>getDigestAlgorithms, getOutputStream, getReport, setDigestAlgorithms, setOutputStream</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="TimeStampListener(java.lang.String)"><!-- --></A><H3>
TimeStampListener</H3>
<PRE>
public <B>TimeStampListener</B>(java.lang.String&nbsp;tsaUrl)</PRE>
<DL>
<DD>Creates a TimeStampListener for the given TSA url.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>tsaUrl</CODE> - the URL of the TimeStamp responder to which to connect to</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="setStopOnTSPProcessingError(boolean)"><!-- --></A><H3>
setStopOnTSPProcessingError</H3>
<PRE>
public void <B>setStopOnTSPProcessingError</B>(boolean&nbsp;stop)</PRE>
<DL>
<DD>Decides whether SignedData creation shall be stopped and an exception shall
 be thrown if the TSA response is invalid, or if the SignedData should be 
 finished without including a SignatureTimeStampToken attribute (which then
 may be added later).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>stop</CODE> - whether to stop processing if the TSA response is invalid or 
             to continue without including a TimeStampToken attribute</DL>
</DD>
</DL>
<HR>

<A NAME="setTSAPolicyID(iaik.asn1.ObjectID)"><!-- --></A><H3>
setTSAPolicyID</H3>
<PRE>
public void <B>setTSAPolicyID</B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ObjectID.html" title="class or interface in iaik.asn1">ObjectID</A>&nbsp;tsaPolicyID)</PRE>
<DL>
<DD>Sets the policyID of the TSA (if only some specific TSA (policy) shall be trusted).
 If the TSA policy ID is set by this method, it will be included in the TimeStamp request
 to indicate the TSA policy to be trusted. If the TSA sends back a different policy id in
 the response, the response will be rejected.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tsaPolicyID</CODE> - the TSA policy id to be trusted</DL>
</DD>
</DL>
<HR>

<A NAME="setTimeStampResponse(iaik.tsp.TimeStampResp)"><!-- --></A><H3>
setTimeStampResponse</H3>
<PRE>
public void <B>setTimeStampResponse</B>(iaik.tsp.TimeStampResp&nbsp;response)</PRE>
<DL>
<DD>Sets the (already validated) TimeStamp response.
 If the response is set by this method its inherent TimeStampToken will be
 included as SignedData attribute. It no response is set, a TimeStamp
 request is created and sent to the TSA that has been specified when
 creating this TimeStampListener. The TimeStampToken of the response received
 from the TSA then is included as attribute into the SignedData message.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>response</CODE> - the (already validated) TimeStampResponse containing the
                 TimeStampToken to be included as attribute into the SignedData message</DL>
</DD>
</DL>
<HR>

<A NAME="getTimeStampResponse()"><!-- --></A><H3>
getTimeStampResponse</H3>
<PRE>
public iaik.tsp.TimeStampResp <B>getTimeStampResponse</B>()</PRE>
<DL>
<DD>Gets the TimeStampResponse.
 After SignedDataStream.writeTo is finished, this method may be used to get the TimeStamp response received
 from the TSA.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the TimeStampResponse</DL>
</DD>
</DL>
<HR>

<A NAME="getTimeStampRequest()"><!-- --></A><H3>
getTimeStampRequest</H3>
<PRE>
public iaik.tsp.TimeStampReq <B>getTimeStampRequest</B>()</PRE>
<DL>
<DD>Gets the TimeStampRequest.
 After SignedDataStream.writeTo is finished, this method may be used to get the TimeStamp request that
 has been created and sent to the TSA.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the TimeStampRequest</DL>
</DD>
</DL>
<HR>

<A NAME="getTspFailure()"><!-- --></A><H3>
getTspFailure</H3>
<PRE>
public iaik.tsp.TspException <B>getTspFailure</B>()</PRE>
<DL>
<DD>Returns a TspException, if has been thrown during TSP processing.
 If you have decided to <A HREF="../../../demo/cms/tsp/TimeStampListener.html#setStopOnTSPProcessingError(boolean)"><CODE>finish</CODE></A> the SignedData
 encoding (and not include a TimeStamp attribute) if an TSP processing error has
 been occured, you may use this method to query if the TSP processing has been completed
 successfully or not.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>an TspException indicating an error during TSP processing, or <code>null</code>
         if the TSP processing has completed successfully</DL>
</DD>
</DL>
<HR>

<A NAME="beforeComputeSignature(iaik.cms.SignedDataStream)"><!-- --></A><H3>
beforeComputeSignature</H3>
<PRE>
protected void <B>beforeComputeSignature</B>(iaik.cms.SignedDataStream&nbsp;signedData)
                               throws iaik.cms.CMSException</PRE>
<DL>
<DD>Does nothing.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>beforeComputeSignature</CODE> in class <CODE>iaik.cms.SDSEncodeListener</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>signedData</CODE> - the SignedDataStream to be updated before 
        signature calculation (and after content data processing;
        digest calculation)
<DT><B>Throws:</B>
<DD><CODE>iaik.cms.CMSException</CODE> - if an error occurs while executing this method</DL>
</DD>
</DL>
<HR>

<A NAME="afterComputeSignature(iaik.cms.SignedDataStream)"><!-- --></A><H3>
afterComputeSignature</H3>
<PRE>
protected void <B>afterComputeSignature</B>(iaik.cms.SignedDataStream&nbsp;signedData)
                              throws iaik.cms.CMSException</PRE>
<DL>
<DD><B>Description copied from class: <CODE>iaik.cms.SDSEncodeListener</CODE></B></DD>
<DD>Abstract method to be implemented for updating the given 
 SignedDataStream after signature computation has been performed.
 <p>
 An application may wish to update a SignedData object AFTER
 the signature of any included SignerInfo has been computed. 
 This may be useful to, for instance, add some unsigned attribute(s)
 to some SignerInfo where the value of some attribute depends on the
 signature value of the particular SignerInfo (e.g. a time stamp 
 proving that the siganture value has existed at the date of the
 time stamp). Another example for implementing this method maybe to 
 add an unsigned CounterSignature attribute to a SignerInfo of an
 existing implicit SignedData that should be encoded again making
 it desirable to first verify the signature of the SignerInfo to
 be counter signed.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>afterComputeSignature</CODE> in class <CODE>iaik.cms.SDSEncodeListener</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>signedData</CODE> - the SignedDataStream to which to add a SignatureTimeStampToken
<DT><B>Throws:</B>
<DD><CODE>iaik.cms.CMSException</CODE> - if the SignatureTimeStampToken cannot be added (e.g. because
            the SignerInfo to which to add the SignatureTimeStampToken cannot be
            verified, or an error occurs when connecting to the TSA, or parsing/verifying
            the response)</DL>
</DD>
</DL>
<HR>

<A NAME="setDebugStream(java.io.OutputStream)"><!-- --></A><H3>
setDebugStream</H3>
<PRE>
public void <B>setDebugStream</B>(java.io.OutputStream&nbsp;out)</PRE>
<DL>
<DD>Sets the stream to which debug information shall be printed.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>out</CODE> - the stream to which debug information shall be written;
               maybe <code>null</code> for disabling debug output</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<small>This Javadoc may contain text parts from text parts from IETF Internet Standard specifications (see <a href=../../../RefCopyright.html#RFC>copyright</a> note).</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../demo/cms/tsp/TimeStampDemo.html" title="class in demo.cms.tsp"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../demo/cms/tsp/TSPDemoUtils.html" title="class in demo.cms.tsp"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?demo/cms/tsp/TimeStampListener.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="TimeStampListener.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#fields_inherited_from_class_iaik.cms.SDSEncodeListener">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<IMG SRC=../../../siclogo.jpg> <IMG SRC=../../../iaik_logo.gif> IAIK-CMS 5.1, (c) 2002 <A HREF="http://jce.iaik.tugraz.at/">IAIK</A>, (c) 2003 - 2010 <A HREF="http://jce.iaik.tugraz.at/">SIC</A>
</BODY>
</HTML>
