<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_09) on Wed Nov 02 19:19:23 GMT 2016 -->
<TITLE>
ECDHEnvelopedDataDemo (IAIK-CMS 5.1 API Documentation)
</TITLE>

<META NAME="keywords" CONTENT="demo.cms.ecc.ECDHEnvelopedDataDemo class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="ECDHEnvelopedDataDemo (IAIK-CMS 5.1 API Documentation)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../demo/cms/ecc/ECCDemoUtil.html" title="class in demo.cms.ecc"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../demo/cms/ecc/ECDSASignedDataDemo.html" title="class in demo.cms.ecc"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?demo/cms/ecc/ECDHEnvelopedDataDemo.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ECDHEnvelopedDataDemo.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
demo.cms.ecc</FONT>
<BR>
Class ECDHEnvelopedDataDemo</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>demo.cms.ecc.ECDHEnvelopedDataDemo</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>ECDHEnvelopedDataDemo</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Demonstrates the usage of class <CODE>EnvelopedDataStream</CODE> and
 <CODE>EnvelopedData</CODE> for encrypting data using the CMS type
 EnvelopedData by using Ephemeral-Static ECDH according to <a href = 
 "http://www.ietf.org/rfc/rfc3278.txt" target="_blank">3278</a> as 
 key agreement method.
 <p>
 Any keys/certificates required for this demo are read from a keystore
 file "cmsecc.keystore" located in your current working directory. If
 the keystore file does not exist you can create it by running the
 <A HREF="../../../demo/cms/ecc/keystore/SetupCMSEccKeyStore.html" title="class in demo.cms.ecc.keystore"><CODE>SetupCMSEccKeyStore</CODE></A>
 program. 
 <br>
 Additaionally to <code>iaik_cms.jar</code> you also must have 
 <code>iaik_jce_(full).jar</code> (IAIK-JCE, <a href =
 "http://jce.iaik.tugraz.at/sic/products/core_crypto_toolkits/jca_jce">
 http://jce.iaik.tugraz.at/sic/products/core_crypto_toolkits/jca_jce</a>)
 and <code>iaik_ecc.jar</code> (IAIK-ECC, <a href =
 "http://jce.iaik.tugraz.at/sic/products/core_crypto_toolkits/ecc">
 http://jce.iaik.tugraz.at/sic/products/core_crypto_toolkits/ecc</a>)
 in your classpath.
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><CODE>EnvelopedDataStream</CODE>, 
<CODE>EnvelopedData</CODE>, 
<CODE>RecipientInfo</CODE>, 
<CODE>KeyAgreeRecipientInfo</CODE>, 
<A HREF="../../../demo/cms/ecc/keystore/SetupCMSEccKeyStore.html" title="class in demo.cms.ecc.keystore"><CODE>SetupCMSEccKeyStore</CODE></A></DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../demo/cms/ecc/ECDHEnvelopedDataDemo.html#ECDHEnvelopedDataDemo()">ECDHEnvelopedDataDemo</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Setup the demo certificate chains.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../demo/cms/ecc/ECDHEnvelopedDataDemo.html#createEnvelopedData(byte[])">createEnvelopedData</A></B>(byte[]&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a CMS <code>EnvelopedData</code> message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../demo/cms/ecc/ECDHEnvelopedDataDemo.html#createEnvelopedDataStream(byte[])">createEnvelopedDataStream</A></B>(byte[]&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a CMS <code>EnvelopedDataStream</code> message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;iaik.cms.RecipientInfo[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../demo/cms/ecc/ECDHEnvelopedDataDemo.html#createRecipients()">createRecipients</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates the RecipientInfos.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../demo/cms/ecc/ECDHEnvelopedDataDemo.html#getEnvelopedData(byte[], java.security.Key, int)">getEnvelopedData</A></B>(byte[]&nbsp;enc,
                 java.security.Key&nbsp;key,
                 int&nbsp;recipientInfoIndex)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Decrypts the encrypted content of the given <code>EnvelopedData</code> object for
 the recipient identified by its index into the recipientInfos field.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../demo/cms/ecc/ECDHEnvelopedDataDemo.html#getEnvelopedData(byte[], java.security.Key, iaik.cms.KeyIdentifier)">getEnvelopedData</A></B>(byte[]&nbsp;enc,
                 java.security.Key&nbsp;key,
                 iaik.cms.KeyIdentifier&nbsp;recipientID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Decrypts the encrypted content of the given <code>EnvelopedData</code> object for
 the recipient identified by recipient identifier.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../demo/cms/ecc/ECDHEnvelopedDataDemo.html#getEnvelopedData(byte[], java.security.Key, iaik.x509.X509Certificate)">getEnvelopedData</A></B>(byte[]&nbsp;enc,
                 java.security.Key&nbsp;key,
                 <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509Certificate.html" title="class or interface in iaik.x509">X509Certificate</A>&nbsp;recipientCert)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Decrypts the encrypted content of the given <code>EnvelopedData</code> object for
 the recipient identified by its recipient certificate.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../demo/cms/ecc/ECDHEnvelopedDataDemo.html#getEnvelopedDataStream(byte[], java.security.Key, int)">getEnvelopedDataStream</A></B>(byte[]&nbsp;encoding,
                       java.security.Key&nbsp;key,
                       int&nbsp;recipientInfoIndex)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Decrypts the encrypted content of the given <code>EnvelopedData</code> object for
 the recipient identified by its index into the recipientInfos field.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../demo/cms/ecc/ECDHEnvelopedDataDemo.html#getEnvelopedDataStream(byte[], java.security.Key, iaik.cms.KeyIdentifier)">getEnvelopedDataStream</A></B>(byte[]&nbsp;encoding,
                       java.security.Key&nbsp;key,
                       iaik.cms.KeyIdentifier&nbsp;recipientID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Decrypts the encrypted content of the given <code>EnvelopedData</code> object for
 the recipient identified by recipient identifier.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../demo/cms/ecc/ECDHEnvelopedDataDemo.html#main(java.lang.String[])">main</A></B>(java.lang.String[]&nbsp;argv)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Main method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../demo/cms/ecc/ECDHEnvelopedDataDemo.html#parseEnvelopedDataWithRecipientIdentifier(boolean, byte[])">parseEnvelopedDataWithRecipientIdentifier</A></B>(boolean&nbsp;stream,
                                          byte[]&nbsp;encodedEnvelopedData)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Parses an EnvelopedData and decrypts the content for all test recipients
 using their recipient identifiers for identifying the recipient.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../demo/cms/ecc/ECDHEnvelopedDataDemo.html#parseEnvelopedDataWithRecipientInfoIndex(boolean, byte[])">parseEnvelopedDataWithRecipientInfoIndex</A></B>(boolean&nbsp;stream,
                                         byte[]&nbsp;encodedEnvelopedData)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Parses an EnvelopedData and decrypts the content for all test recipients
 using the index into the recipientInfos field for identifying the recipient.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../demo/cms/ecc/ECDHEnvelopedDataDemo.html#start()">start</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Starts the test.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ECDHEnvelopedDataDemo()"><!-- --></A><H3>
ECDHEnvelopedDataDemo</H3>
<PRE>
public <B>ECDHEnvelopedDataDemo</B>()
                      throws java.io.IOException</PRE>
<DL>
<DD>Setup the demo certificate chains.

 Keys and certificates are retrieved from the demo keyStore file
 "cmsecc.keystore" located in your current working directory. If
 the keystore file does not exist you can create it by running the
 <A HREF="../../../demo/cms/ecc/keystore/SetupCMSEccKeyStore.html" title="class in demo.cms.ecc.keystore"><CODE>SetupCMSEccKeyStore</CODE></A>
 program.
<P>
<DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if keys/certificates cannot be read from the keystore</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="createEnvelopedDataStream(byte[])"><!-- --></A><H3>
createEnvelopedDataStream</H3>
<PRE>
public byte[] <B>createEnvelopedDataStream</B>(byte[]&nbsp;message)
                                 throws iaik.cms.CMSException,
                                        java.io.IOException</PRE>
<DL>
<DD>Creates a CMS <code>EnvelopedDataStream</code> message.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>message</CODE> - the message to be enveloped, as byte representation
<DT><B>Returns:</B><DD>the DER encoding of the <code>EnvelopedData</code> object just created
<DT><B>Throws:</B>
<DD><CODE>iaik.cms.CMSException</CODE> - if the <code>EnvelopedData</code> object cannot
                          be created
<DD><CODE>java.io.IOException</CODE> - if an I/O error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="getEnvelopedDataStream(byte[], java.security.Key, int)"><!-- --></A><H3>
getEnvelopedDataStream</H3>
<PRE>
public byte[] <B>getEnvelopedDataStream</B>(byte[]&nbsp;encoding,
                                     java.security.Key&nbsp;key,
                                     int&nbsp;recipientInfoIndex)
                              throws iaik.cms.CMSException,
                                     java.io.IOException</PRE>
<DL>
<DD>Decrypts the encrypted content of the given <code>EnvelopedData</code> object for
 the recipient identified by its index into the recipientInfos field.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>encoding</CODE> - the <code>EnvelopedData</code> object as DER encoded byte array<DD><CODE>key</CODE> - the key to decrypt the message<DD><CODE>recipientInfoIndex</CODE> - the index into the <code>RecipientInfo</code> array
                           to which the specified key belongs
<DT><B>Returns:</B><DD>the recovered message, as byte array
<DT><B>Throws:</B>
<DD><CODE>iaik.cms.CMSException</CODE> - if the message cannot be recovered
<DD><CODE>java.io.IOException</CODE> - if a stream read/write error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="getEnvelopedDataStream(byte[], java.security.Key, iaik.cms.KeyIdentifier)"><!-- --></A><H3>
getEnvelopedDataStream</H3>
<PRE>
public byte[] <B>getEnvelopedDataStream</B>(byte[]&nbsp;encoding,
                                     java.security.Key&nbsp;key,
                                     iaik.cms.KeyIdentifier&nbsp;recipientID)
                              throws iaik.cms.CMSException,
                                     java.io.IOException</PRE>
<DL>
<DD>Decrypts the encrypted content of the given <code>EnvelopedData</code> object for
 the recipient identified by recipient identifier.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>encoding</CODE> - the <code>EnvelopedData</code> object as DER encoded byte array<DD><CODE>key</CODE> - the key to decrypt the message<DD><CODE>recipientID</CODE> - the recipient identifier uniquely identifying the key of the
        recipient
<DT><B>Returns:</B><DD>the recovered message, as byte array
<DT><B>Throws:</B>
<DD><CODE>iaik.cms.CMSException</CODE> - if the message cannot be recovered
<DD><CODE>java.io.IOException</CODE> - if a stream read/write error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="createEnvelopedData(byte[])"><!-- --></A><H3>
createEnvelopedData</H3>
<PRE>
public byte[] <B>createEnvelopedData</B>(byte[]&nbsp;message)
                           throws iaik.cms.CMSException</PRE>
<DL>
<DD>Creates a CMS <code>EnvelopedData</code> message.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>message</CODE> - the message to be enveloped, as byte representation
<DT><B>Returns:</B><DD>the encoded <code>EnvelopedData</code>, as byte array
<DT><B>Throws:</B>
<DD><CODE>iaik.cms.CMSException</CODE> - if the <code>EnvelopedData</code> object cannot
                          be created</DL>
</DD>
</DL>
<HR>

<A NAME="getEnvelopedData(byte[], java.security.Key, int)"><!-- --></A><H3>
getEnvelopedData</H3>
<PRE>
public byte[] <B>getEnvelopedData</B>(byte[]&nbsp;enc,
                               java.security.Key&nbsp;key,
                               int&nbsp;recipientInfoIndex)
                        throws iaik.cms.CMSException,
                               java.io.IOException</PRE>
<DL>
<DD>Decrypts the encrypted content of the given <code>EnvelopedData</code> object for
 the recipient identified by its index into the recipientInfos field.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>enc</CODE> - the encoded <code>EnvelopedData</code><DD><CODE>key</CODE> - the key to decrypt the message<DD><CODE>recipientInfoIndex</CODE> - the index into the <code>RecipientInfo</code> array
                           to which the specified key belongs
<DT><B>Returns:</B><DD>the recovered message, as byte array
<DT><B>Throws:</B>
<DD><CODE>iaik.cms.CMSException</CODE> - if the message cannot be recovered
<DD><CODE>java.io.IOException</CODE> - if an I/O error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="getEnvelopedData(byte[], java.security.Key, iaik.cms.KeyIdentifier)"><!-- --></A><H3>
getEnvelopedData</H3>
<PRE>
public byte[] <B>getEnvelopedData</B>(byte[]&nbsp;enc,
                               java.security.Key&nbsp;key,
                               iaik.cms.KeyIdentifier&nbsp;recipientID)
                        throws iaik.cms.CMSException,
                               java.io.IOException</PRE>
<DL>
<DD>Decrypts the encrypted content of the given <code>EnvelopedData</code> object for
 the recipient identified by recipient identifier.
 <p>
 This way of decrypting the content may be used for any type of RecipientInfo
 (KeyTransRecipientInfo, KeyAgreeRecipientInfo, KEKRecipientInfo). The 
 recipient in mind is identified by its recipient identifier.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>enc</CODE> - the encoded <code>AuthenticatedData</code><DD><CODE>key</CODE> - the key to decrypt the message<DD><CODE>recipientID</CODE> - the recipient identifier uniquely identifying the key of the
        recipient
<DT><B>Returns:</B><DD>the recovered message, as byte array
<DT><B>Throws:</B>
<DD><CODE>iaik.cms.CMSException</CODE> - if the message cannot be recovered
<DD><CODE>java.io.IOException</CODE> - if an I/O error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="getEnvelopedData(byte[], java.security.Key, iaik.x509.X509Certificate)"><!-- --></A><H3>
getEnvelopedData</H3>
<PRE>
public byte[] <B>getEnvelopedData</B>(byte[]&nbsp;enc,
                               java.security.Key&nbsp;key,
                               <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509Certificate.html" title="class or interface in iaik.x509">X509Certificate</A>&nbsp;recipientCert)
                        throws iaik.cms.CMSException,
                               java.io.IOException</PRE>
<DL>
<DD>Decrypts the encrypted content of the given <code>EnvelopedData</code> object for
 the recipient identified by its recipient certificate.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>enc</CODE> - the encoded <code>EnvelopedData</code><DD><CODE>key</CODE> - the key to decrypt the message<DD><CODE>recipientCert</CODE> - the certificate of the recipient
<DT><B>Returns:</B><DD>the recovered message, as byte array
<DT><B>Throws:</B>
<DD><CODE>iaik.cms.CMSException</CODE> - if the message cannot be recovered
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="createRecipients()"><!-- --></A><H3>
createRecipients</H3>
<PRE>
public iaik.cms.RecipientInfo[] <B>createRecipients</B>()
                                          throws iaik.cms.CMSException</PRE>
<DL>
<DD>Creates the RecipientInfos.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the RecipientInfos created, two KeyAgreeRecipientInfos
<DT><B>Throws:</B>
<DD><CODE>iaik.cms.CMSException</CODE> - if an error occurs when creating the recipient infos</DL>
</DD>
</DL>
<HR>

<A NAME="parseEnvelopedDataWithRecipientInfoIndex(boolean, byte[])"><!-- --></A><H3>
parseEnvelopedDataWithRecipientInfoIndex</H3>
<PRE>
public void <B>parseEnvelopedDataWithRecipientInfoIndex</B>(boolean&nbsp;stream,
                                                     byte[]&nbsp;encodedEnvelopedData)
                                              throws java.lang.Exception</PRE>
<DL>
<DD>Parses an EnvelopedData and decrypts the content for all test recipients
 using the index into the recipientInfos field for identifying the recipient.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>stream</CODE> - whether to use EnvelopedDataStream or EnvelopedData<DD><CODE>encodedEnvelopedData</CODE> - the encoded EnvelopedData object
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE> - if some error occurs during decoding/decryption</DL>
</DD>
</DL>
<HR>

<A NAME="parseEnvelopedDataWithRecipientIdentifier(boolean, byte[])"><!-- --></A><H3>
parseEnvelopedDataWithRecipientIdentifier</H3>
<PRE>
public void <B>parseEnvelopedDataWithRecipientIdentifier</B>(boolean&nbsp;stream,
                                                      byte[]&nbsp;encodedEnvelopedData)
                                               throws java.lang.Exception</PRE>
<DL>
<DD>Parses an EnvelopedData and decrypts the content for all test recipients
 using their recipient identifiers for identifying the recipient.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>stream</CODE> - whether to use EnvelopedDataStream or EnvelopedData<DD><CODE>encodedEnvelopedData</CODE> - the encoded EnvelopedData object
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE> - if some error occurs during decoding/decryption</DL>
</DD>
</DL>
<HR>

<A NAME="start()"><!-- --></A><H3>
start</H3>
<PRE>
public void <B>start</B>()</PRE>
<DL>
<DD>Starts the test.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="main(java.lang.String[])"><!-- --></A><H3>
main</H3>
<PRE>
public static void <B>main</B>(java.lang.String[]&nbsp;argv)
                 throws java.lang.Exception</PRE>
<DL>
<DD>Main method.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if an I/O error occurs when reading required keys
            and certificates from the keystore file
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<small>This Javadoc may contain text parts from text parts from IETF Internet Standard specifications (see <a href=../../../RefCopyright.html#RFC>copyright</a> note).</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../demo/cms/ecc/ECCDemoUtil.html" title="class in demo.cms.ecc"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../demo/cms/ecc/ECDSASignedDataDemo.html" title="class in demo.cms.ecc"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?demo/cms/ecc/ECDHEnvelopedDataDemo.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ECDHEnvelopedDataDemo.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<IMG SRC=../../../siclogo.jpg> <IMG SRC=../../../iaik_logo.gif> IAIK-CMS 5.1, (c) 2002 <A HREF="http://jce.iaik.tugraz.at/">IAIK</A>, (c) 2003 - 2010 <A HREF="http://jce.iaik.tugraz.at/">SIC</A>
</BODY>
</HTML>
