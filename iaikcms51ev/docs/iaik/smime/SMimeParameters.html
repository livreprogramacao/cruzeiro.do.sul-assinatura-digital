<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_09) on Wed Nov 02 19:19:15 GMT 2016 -->
<TITLE>
SMimeParameters (IAIK-CMS 5.1 API Documentation)
</TITLE>

<META NAME="keywords" CONTENT="iaik.smime.SMimeParameters class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="SMimeParameters (IAIK-CMS 5.1 API Documentation)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../iaik/smime/SMimeMultipart.html" title="class in iaik.smime"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../iaik/smime/SMimeRuntimeException.html" title="class in iaik.smime"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?iaik/smime/SMimeParameters.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SMimeParameters.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
iaik.smime</FONT>
<BR>
Class SMimeParameters</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>iaik.smime.SMimeParameters</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>SMimeParameters</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Class for deciding whether to use old or new S/MIME content types and defining
 a specific canonicalization scheme.
 For switching between old/new content types use
 method <A HREF="../../iaik/smime/SMimeParameters.html#useNewContentTypes(boolean)"><CODE>useNewContentTypes(boolean newType)</CODE></A>.
 Calling this method only is meaningful when creating
 a new message.
 If <code>newType</code> is set to <code>false</code> the old types
 are used (application/x-pkcs7-signature respectively application/x-pkcs7-mime).
 If <code>newType</code> is set to <code>false</code> the new types
 are used (application/pkcs7-signature respectively application/pkcs7-mime).
 <p>
 Per default the new types are used.
 For changing the types, <code>useNewContentTypes</code> has to be called
 <i>before</i> creating a <A HREF="../../iaik/smime/SignedContent.html" title="class in iaik.smime"><CODE>SignedContent</CODE></A>
 or <A HREF="../../iaik/smime/EncryptedContent.html" title="class in iaik.smime"><CODE>EncryptedContent</CODE></A> object, e.g.:
 <pre>
 //switch to new content types
 SMimeParameters.useNewContentTypes(true);
 //create a SignedContent
 boolean implicit = ...;
 SignedContent sc = new SignedContent(implicit, SignedContent.SIGNED_DATA);
 </pre>
 The JAF assignment between MIME-types and content handlers is done by means of a RFC 1524 
 mailcap file which is included in the IAIK-CMS distribution. It defines the following classes
 as content handlers for the corresponding MIME types:
 <pre>
 #
 # IAIK 'mailcap' file entries
 #
 multipart/signed;;               x-java-content-handler=iaik.smime.signed_content
 application/x-pkcs7-signature;;  x-java-content-handler=iaik.smime.signed_content
 application/x-pkcs7-mime;;       x-java-content-handler=iaik.smime.encrypted_content
 application/x-pkcs10;;           x-java-content-handler=iaik.smime.pkcs10_content
 application/pkcs7-signature;;    x-java-content-handler=iaik.smime.signed_content
 application/pkcs7-mime;;         x-java-content-handler=iaik.smime.encrypted_content
 application/pkcs10;;             x-java-content-handler=iaik.smime.pkcs10_content
 </pre>
 The content handlers are registered by copying the mailcap file into the lib directory of your
 JDK (<JDK-HOME>/lib). Alternatively you may register the IAIK-S/MIME 
 mailcap file dynamically by using the default command map:
 <pre>
 String mailcapFileName = ...;
 MailcapCommandMap mc = new MailcapCommandMap(mailcapFileName);
 CommandMap.setDefaultCommandMap(mc);
 </pre>
 Or you may add the IAIK mailcap entries to the default mailcap command map, e.g.: 
 <pre>
 MailcapCommandMap mc = (MailcapCommandMap)CommandMap.getDefaultCommandMap();
 mc.addMailcap("multipart/signed;; x-java-content-handler=iaik.smime.signed_content");
 mc.addMailcap("application/x-pkcs7-signature;; x-java-content-handler=iaik.smime.signed_content");
 mc.addMailcap("application/x-pkcs7-mime;; x-java-content-handler=iaik.smime.encrypted_content");
 mc.addMailcap("application/pkcs7-signature;; x-java-content-handler=iaik.smime.signed_content");
 mc.addMailcap("application/pkcs7-mime;; x-java-content-handler=iaik.smime.encrypted_content");
 mc.addMailcap("application/x-pkcs10;; x-java-content-handler=iaik.smime.pkcs10_content");
 mc.addMailcap("application/pkcs10;; x-java-content-handler=iaik.smime.pkcs10_content");
 CommandMap.setDefaultCommandMap(mc);
 </pre>
 For a more detailed description of mailcap handling consult the Javadoc of the Activation 
 Framework.
 <p>
 For setting a new Canonicalizer to be used for all canonicalization, use method
 <A HREF="../../iaik/smime/SMimeParameters.html#setCanonicalizer(iaik.smime.Canonicalizer)"><CODE>setCanonicalizer</CODE></A>.
<P>

<P>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/smime/SMimeParameters.html#deleteTempDirectory()">deleteTempDirectory</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tries to delete the &quot;iaiksmime&quot; sub-directory (and
 all its contents) of the directory that has been set as <A HREF="../../iaik/smime/SMimeParameters.html#setTempDirectory(java.lang.String, int)"><CODE>temp directory</CODE></A> for temporarily
 writing message contents to it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../iaik/smime/Canonicalizer.html" title="interface in iaik.smime">Canonicalizer</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/smime/SMimeParameters.html#getCanonicalizer()">getCanonicalizer</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the canonicalizer used the message canonicalization.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/smime/SMimeParameters.html#getCheckForSMimeParts()">getCheckForSMimeParts</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Looks if SMimeMultipart/SMimeBodyPart control is turned on or off when building the
 content of a signed message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;javax.activation.CommandMap</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/smime/SMimeParameters.html#getCommandMap()">getCommandMap</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the Mailcap CommandMap to be used.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/smime/SMimeParameters.html#getMaxBufSize()">getMaxBufSize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the maximum buf size to be used for buffering message contents.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/smime/SMimeParameters.html#getNewContentTypes()">getNewContentTypes</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns whether new or old content types are used when creating a new
 S/Mime message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/smime/SMimeParameters.html#getTempDirectory()">getTempDirectory</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the name of the directory to be used for temporary message
 contents storage.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/smime/SMimeParameters.html#setCanonicalizer(iaik.smime.Canonicalizer)">setCanonicalizer</A></B>(<A HREF="../../iaik/smime/Canonicalizer.html" title="interface in iaik.smime">Canonicalizer</A>&nbsp;canonicalizer)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the canonicalizer to be used message canonicalization.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/smime/SMimeParameters.html#setCheckForSMimeParts(boolean)">setCheckForSMimeParts</A></B>(boolean&nbsp;checkForSMimeParts)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Turns on/off control to use SMimeMultiparts and SMimeBodyParts insteadof MimeMultipatrs and
 MimeBodyParts when building the content for a signed message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/smime/SMimeParameters.html#setCommandMap(javax.activation.MailcapCommandMap)">setCommandMap</A></B>(javax.activation.MailcapCommandMap&nbsp;commandMap)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the Mailcap CommandMap to be used.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/smime/SMimeParameters.html#setDataHandlerCommandMap(javax.activation.DataHandler)">setDataHandlerCommandMap</A></B>(javax.activation.DataHandler&nbsp;dataHandler)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the <A HREF="../../iaik/smime/SMimeParameters.html#setCommandMap(javax.activation.MailcapCommandMap)"><CODE>registered</CODE></A> Mailcap CommandMap
 for the given DataHandler.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/smime/SMimeParameters.html#setTempDirectory(java.lang.String, int)">setTempDirectory</A></B>(java.lang.String&nbsp;tmpDir,
                 int&nbsp;maxBufSize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specifies a temporary directory in the File System to 
 which message contents shall be temporarily written.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/smime/SMimeParameters.html#useNewContentTypes(boolean)">useNewContentTypes</A></B>(boolean&nbsp;newType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Decides whether to use old or new S/MIME content types.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="useNewContentTypes(boolean)"><!-- --></A><H3>
useNewContentTypes</H3>
<PRE>
public static void <B>useNewContentTypes</B>(boolean&nbsp;newType)</PRE>
<DL>
<DD>Decides whether to use old or new S/MIME content types.
 This method only is meaningful when creating a new message.
 If <code>newType</code> is set to <code>false</code> the old types
 are used (application/x-pkcs7-signature respectively application/x-pkcs7-mime).
 If <code>newType</code> is set to <code>false</code> the new types
 are used (application/pkcs7-signature respectively application/pkcs7-mime).
 Per default the new types are used.
 <p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>newType</CODE> - <code>true</code> for using new types, <code>false</code> if not</DL>
</DD>
</DL>
<HR>

<A NAME="getNewContentTypes()"><!-- --></A><H3>
getNewContentTypes</H3>
<PRE>
public static boolean <B>getNewContentTypes</B>()</PRE>
<DL>
<DD>Returns whether new or old content types are used when creating a new
 S/Mime message.
<P>
<DD><DL>

<DT><B>Returns:</B><DD><code>true</code> if new types (application/pkcs7-signature respectively
         application/pkcs7-mime), and <code>false</code> if the old types
         (application/x-pkcs7-signature respectively application/x-pkcs7-mime) are
         used</DL>
</DD>
</DL>
<HR>

<A NAME="setCanonicalizer(iaik.smime.Canonicalizer)"><!-- --></A><H3>
setCanonicalizer</H3>
<PRE>
public static void <B>setCanonicalizer</B>(<A HREF="../../iaik/smime/Canonicalizer.html" title="interface in iaik.smime">Canonicalizer</A>&nbsp;canonicalizer)</PRE>
<DL>
<DD>Sets the canonicalizer to be used message canonicalization.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>canonicalizer</CODE> - the canonicalizer to be used</DL>
</DD>
</DL>
<HR>

<A NAME="getCanonicalizer()"><!-- --></A><H3>
getCanonicalizer</H3>
<PRE>
public static <A HREF="../../iaik/smime/Canonicalizer.html" title="interface in iaik.smime">Canonicalizer</A> <B>getCanonicalizer</B>()</PRE>
<DL>
<DD>Gets the canonicalizer used the message canonicalization.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the canonicalizer used for canonicalization</DL>
</DD>
</DL>
<HR>

<A NAME="setCheckForSMimeParts(boolean)"><!-- --></A><H3>
setCheckForSMimeParts</H3>
<PRE>
public static void <B>setCheckForSMimeParts</B>(boolean&nbsp;checkForSMimeParts)</PRE>
<DL>
<DD>Turns on/off control to use SMimeMultiparts and SMimeBodyParts insteadof MimeMultipatrs and
 MimeBodyParts when building the content for a signed message.
 
 Especially when creating a signed message of type <i>multipart/signed</i> ("clear-signed")
 care has to be taken to properly canonicalize -- in particular text -- messages to give
 the same unique representation on the sender side where the signature is created and on the
 recipient side where the signature is verified.
 <br>
 The content of a <A HREF="../../iaik/smime/SignedContent.html" title="class in iaik.smime"><CODE>signed</CODE></A> message may be composed of
 MimeMultiparts consiting theirselves of several MimeBodyParts. To ensure that these
 body parts are canonicalized, they have to be modelled as <A HREF="../../iaik/smime/SMimeBodyPart.html" title="class in iaik.smime"><CODE>SMimeBodyPart</CODE></A> objects rather than using plain MimeBodyParts. When building a multipart
 entity from several body parts, the SMimeBodyParts have to be inserted into a <A HREF="../../iaik/smime/SMimeMultipart.html" title="class in iaik.smime"><CODE>SMimeMultipart</CODE></A> object instead of using a plain MimeMultipart.
 <br>
 To avoid verification problems due to usage of not canonicalized parts, IAIK-CMS by default
 checks if SMimeMultiparts and SMimeBodyParts are used when creating a <A HREF="../../iaik/smime/SignedContent.html" title="class in iaik.smime"><CODE>signed</CODE></A> message. An exception is thrown if only plain MimeBodyParts
 and MimeMultiparts are used. However, when signing an already canonicalized entity (e.g.
 the content of a message just parsed) this check for SMimeMultiparts/SMimeBodyParts may not
 be required. In this case it might give some processing overhead to convert any
 MimeMultipart and MimeBodyPart to the required SMimeMultipart respectively SMimeBodyPart.
 For that reason it is possible to turn off the SMimePart check for a particular <A HREF="../../iaik/smime/SignedContent.html#checkForSMimeParts(boolean)"><CODE>SignedContent</CODE></A>, <A HREF="../../iaik/smime/SMimeMultipart.html#checkForSMimeParts(boolean)"><CODE>SMimeMultipart</CODE></A> and/or <A HREF="../../iaik/smime/SMimeBodyPart.html#checkForSMimeParts(boolean)"><CODE>SMimeBodyPart</CODE></A> object or generally
 disable the SMimeBodyPart check throughout the whole application environment.
 When choosing the latter option by calling
 <pre>
 SMimeParameters.setCheckForSMimeParts(false);
 </pre>
 take care to continue to use SMimeBodyParts and SMimeMultiparts when signing a 
 newly created yet not canoinicalized content.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>checkForSMimeParts</CODE> - whether to turn on/off SMimePart checking</DL>
</DD>
</DL>
<HR>

<A NAME="getCheckForSMimeParts()"><!-- --></A><H3>
getCheckForSMimeParts</H3>
<PRE>
public static boolean <B>getCheckForSMimeParts</B>()</PRE>
<DL>
<DD>Looks if SMimeMultipart/SMimeBodyPart control is turned on or off when building the
 content of a signed message.
 
 Especially when creating a signed message of type <i>multipart/signed</i> ("clear-signed")
 care has to be taken to properly canonicalize -- in particular text -- messages to give
 the same unique representation on the sender side where the signature is created and on the
 recipient side where the signature is verified.
 <br>
 The content of a <A HREF="../../iaik/smime/SignedContent.html" title="class in iaik.smime"><CODE>signed</CODE></A> message may be composed of
 MimeMultiparts consiting theirselves of several MimeBodyParts. To ensure that these
 body parts are canonicalized, they have to be modelled as <A HREF="../../iaik/smime/SMimeBodyPart.html" title="class in iaik.smime"><CODE>SMimeBodyPart</CODE></A> objects rather than using plain MimeBodyParts. When building a multipart
 entity from several body parts, the SMimeBodyParts have to be inserted into a <A HREF="../../iaik/smime/SMimeMultipart.html" title="class in iaik.smime"><CODE>SMimeMultipart</CODE></A> object instead of using a plain MimeMultipart.
 <br>
 To avoid verification problems due to usage of not canonicalized parts, IAIK-CMS by default
 checks if SMimeMultiparts and SMimeBodyParts are used when creating a <A HREF="../../iaik/smime/SignedContent.html" title="class in iaik.smime"><CODE>signed</CODE></A> message. An exception is thrown if only plain MimeBodyParts
 and MimeMultiparts are used. However, when signing an already canonicalized entity (e.g.
 the content of a message just parsed) this check for SMimeMultiparts/SMimeBodyParts may not
 be required. In this case it might give some processing overhead to convert any
 MimeMultipart and MimeBodyPart to the required SMimeMultipart respectively SMimeBodyPart.
 For that reason it is possible to turn off the SMimePart check for a particular <A HREF="../../iaik/smime/SignedContent.html#checkForSMimeParts(boolean)"><CODE>SignedContent</CODE></A>, <A HREF="../../iaik/smime/SMimeMultipart.html#checkForSMimeParts(boolean)"><CODE>SMimeMultipart</CODE></A> and/or <A HREF="../../iaik/smime/SMimeBodyPart.html#checkForSMimeParts(boolean)"><CODE>SMimeBodyPart</CODE></A> object or generally
 <A HREF="../../iaik/smime/SMimeParameters.html#setCheckForSMimeParts(boolean)"><CODE>disable</CODE></A> the SMimeBodyPart check throughout the whole
 application environment.
 When choosing the latter option by calling
 <pre>
 SMimeParameters.setCheckForSMimeParts(false);
 </pre>
 take care to continue to use SMimeBodyParts and SMimeMultiparts when signing a 
 newly created yet not canoinicalized content.
<P>
<DD><DL>

<DT><B>Returns:</B><DD><code>true</code> if SMimePart control is enabled, 
         <code>false</code> if it is disabled</DL>
</DD>
</DL>
<HR>

<A NAME="setTempDirectory(java.lang.String, int)"><!-- --></A><H3>
setTempDirectory</H3>
<PRE>
public static void <B>setTempDirectory</B>(java.lang.String&nbsp;tmpDir,
                                    int&nbsp;maxBufSize)</PRE>
<DL>
<DD>Specifies a temporary directory in the File System to 
 which message contents shall be temporarily written.
 If a temporary directory is specified, a sub directory
 &qout;iaiksmime&quot; will be created and used
 to temporarily store message contents while parsing
 the message. This maybe useful when parsing big messages and
 accessing the content of a <A HREF="../../iaik/smime/SignedContent.html" title="class in iaik.smime"><CODE>signed</CODE></A>
 or <A HREF="../../iaik/smime/EncryptedContent.html" title="class in iaik.smime"><CODE>encrypted</CODE></A> message by calling
 method <code>getContent</code>. Note that alternatively
 you may use method <code>getContentInputStream</code>.
 Note also that temporary files may hold decrypted content
 of an encrypted message. Generally each temporary content 
 file is deleted after it is no more required. However, if 
 some temporary file(s) cannot be deleted for some reason
 you may call method <A HREF="../../iaik/smime/SMimeParameters.html#deleteTempDirectory()"><CODE>deleteTempDirectory</CODE></A>
 when you exit your application which tries to delete all temporary files
 (and the &quot;iaiksmime&quot; sub-directory itself) that have
 not been deleted so far. Anyway you may check the temporary
 directory after program execution if all temporary files (and 
 the temporary directory) have been successfully deleted.
 <br>
 Using temporary files for handling large message contents
 may only be useful if the message has not already been read into
 memory, for instance, if you use a <code>SharedFileInputStream</code>
 and read the message from a file. If you, e.g., download a message
 from a POP server, the JavaMail POP3 provider already buffers
 the message in memory. Thus in this case it it might bring no
 benefit to use temporary file storage.
 <p>
 The <code>maxBufSize</code> parameter can be used to specify
 the maximum internal buffer size to be used. Only message contents
 of size &gt; <code>maxBufSize</code> will be temporarily written to
 a file. Message contents &lt;= <code>maxBufSize</code>
 will be internally buffered.
 <br>
 The default size is (64 * 1024) meaning that contents up to
 64 kb will be internally buffered, but contents
 of more than 64 kb bytes will be written to a temporary
 file.
 <p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tmpDir</CODE> - the name of a directory to be used for temporarily
               message contents storage; if <code>null</code>
               message contents will not be temporarily stored into
               files<DD><CODE>maxBufSize</CODE> - the max buf size (in bytes) to be used (default 64 * 1024);
                   if &lt;=0 the default size of 64 * 1024 will be used</DL>
</DD>
</DL>
<HR>

<A NAME="getTempDirectory()"><!-- --></A><H3>
getTempDirectory</H3>
<PRE>
public static java.lang.String <B>getTempDirectory</B>()</PRE>
<DL>
<DD>Gets the name of the directory to be used for temporary message
 contents storage.
 If a temporary directory is <A HREF="../../iaik/smime/SMimeParameters.html#setTempDirectory(java.lang.String, int)"><CODE>specified</CODE></A>
 it will be used to temporarily store message contents while parsing
 the message. This maybe useful when parsing big messages and
 accessing the content of a <A HREF="../../iaik/smime/SignedContent.html" title="class in iaik.smime"><CODE>signed</CODE></A>
 or <A HREF="../../iaik/smime/EncryptedContent.html" title="class in iaik.smime"><CODE>encrypted</CODE></A> message by calling
 method <code>getContent</code>. Note that alternatively
 you may use method <code>getContentInputStream</code>.
 Note also that temporary files may hold decrypted content
 of an encrypted message. Generally each temporary content 
 file is deleted after it is no more required. However, if 
 some temporary file(s) cannot be deleted for some reason
 you may call method <A HREF="../../iaik/smime/SMimeParameters.html#deleteTempDirectory()"><CODE>deleteTempDirectory</CODE></A>
 when you exit your application which tries to delete all temporary files
 (and the &quot;iaiksmime&quot; sub-directory itself) that have
 not been deleted so far. Anyway you may check the temporary
 directory after program execution if all temporary files (and 
 the temporary directory) have been successfully deleted.

 <br>
 Using temporary files for handling large message contents
 may only be useful if the message has not already been read into
 memory, for instance, if you use a <code>SharedFileInputStream</code>
 and read the message from a file. If you, e.g., download a message
 from a POP server, the JavaMail POP3 provider already buffers
 the message in memory. Thus in this case it it might bring no
 benefit to use temporary file storage.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>tmpDir the name of a directory used for temporarily
                message contents storage, or <code>null</code>
                if message contents is not temporarily stored into
                files<DT><B>See Also:</B><DD><A HREF="../../iaik/smime/SMimeParameters.html#setTempDirectory(java.lang.String, int)"><CODE>setTempDirectory(String, int)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getMaxBufSize()"><!-- --></A><H3>
getMaxBufSize</H3>
<PRE>
public static int <B>getMaxBufSize</B>()</PRE>
<DL>
<DD>Gets the maximum buf size to be used for buffering message contents.
 Only meaningful if a <A HREF="../../iaik/smime/SMimeParameters.html#setTempDirectory(java.lang.String, int)"><CODE>temporary directory</CODE></A>
 is set for temporarily buffering message contents into files. In this
 case only message contents of sice &gt; <code>maxBufSize</code>
 will be temporarily written to a file. Message contents &lt;= <code>maxBufSize</code>
 will be internally buffered.
 <br>
 The default size is (64 * 1024) meaning that contents up to
 64 kb will be internally buffered, but contents
 of more than 64 kb bytes will be written to a temporary
 file.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the max size (in bytes) of the internal buffer to be
         used when message contents shall be 
         <A HREF="../../iaik/smime/SMimeParameters.html#setTempDirectory(java.lang.String, int)"><CODE>buffered</CODE></A> to files</DL>
</DD>
</DL>
<HR>

<A NAME="deleteTempDirectory()"><!-- --></A><H3>
deleteTempDirectory</H3>
<PRE>
public static boolean <B>deleteTempDirectory</B>()</PRE>
<DL>
<DD>Tries to delete the &quot;iaiksmime&quot; sub-directory (and
 all its contents) of the directory that has been set as <A HREF="../../iaik/smime/SMimeParameters.html#setTempDirectory(java.lang.String, int)"><CODE>temp directory</CODE></A> for temporarily
 writing message contents to it.
 <p>
 Generally each temporary content file is deleted after it
 is no more required. However, if some temporary file(s) cannot
 be deleted you may call this method when you exit your application
 to delete all temporary files in the &quot;&lt;tmpDir&gt;/iaiksmime&quot;
 directory that have not been deleted so far. After having deleted all files
 this method also tries to delete the &quot;iaiksmime&quot; sub-directory
 itself.  Anyway you may check the temporary directory after program execution
 if all temporary files (and the temporary directory) have been successfully
 deleted.
<P>
<DD><DL>

<DT><B>Returns:</B><DD><code>true</code> if the &quot;&lt;tmpDir&gt;/iaiksmime&quot;
         sub-directory (and all it files) have been successfully deleted;
         <code>false</code> if the directory has not been deleted
         (or if no temp directory has been specified so far)</DL>
</DD>
</DL>
<HR>

<A NAME="setCommandMap(javax.activation.MailcapCommandMap)"><!-- --></A><H3>
setCommandMap</H3>
<PRE>
public static void <B>setCommandMap</B>(javax.activation.MailcapCommandMap&nbsp;commandMap)</PRE>
<DL>
<DD>Sets the Mailcap CommandMap to be used.
 <p>
 This method allows to set a MailcapCommandCap for locale use
 without changing the system-wide default command map. A MailcapCommandMap 
 set by this method is used only within the scope of this IAIK S/MIME library. 
 However, you will have to be aware about the following guidelines:
 <ol>
    <li>Set the locale CommandMap, e.g.:
        <pre>
        MailcapCommandMap mc = new MailcapCommandMap();
        mc.addMailcap("multipart/signed;; x-java-content-handler=iaik.smime.signed_content");
        mc.addMailcap("application/x-pkcs7-signature;; x-java-content-handler=iaik.smime.signed_content");
        mc.addMailcap("application/x-pkcs7-mime;; x-java-content-handler=iaik.smime.encrypted_content");
        mc.addMailcap("application/pkcs7-signature;; x-java-content-handler=iaik.smime.signed_content");
        mc.addMailcap("application/pkcs7-mime;; x-java-content-handler=iaik.smime.encrypted_content");
        mc.addMailcap("application/x-pkcs10;; x-java-content-handler=iaik.smime.pkcs10_content");
        mc.addMailcap("application/pkcs10;; x-java-content-handler=iaik.smime.pkcs10_content");
        SMimeParameters.setCommandMap(mc);
        </pre>
    </li>
    <li>Use msg.setDataHandler() instead of msg.setContent() for setting the
        crypto content of a message. Set the CommandMap for the DataHandler, e.g.:
        <pre>
        MimeMessage msg = ...;
        SignedContent signedContent = ...;
        ...
        DataHandler dh = new DataHandler(signedContent, signedContent.getContentType());
        SMimeParameters.setCommandMap(dh);
        msg.setDataHandler(dh);
        </pre>    
    </li>
    <li>Use part.getDataHandler() instead of part.getContent() when parsing the
        content of a part. Set the CommandMap for the DataHandler, e.g.:
        <pre>
        ...
        Object o = ...;
        if (o instanceof Part) {
          System.out.println("CONTENT-TYPE: "+((Part)o).getContentType());
          DataHandler dh = ((Part)o).getDataHandler();
          SMimeParameters.setCommandMap(dh);
          o = dh.getContent();
        }
        ...
        </pre>    
    </li>
 </ol>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>commandMap</CODE> - the Mailcap CommandMap to be used</DL>
</DD>
</DL>
<HR>

<A NAME="getCommandMap()"><!-- --></A><H3>
getCommandMap</H3>
<PRE>
public static javax.activation.CommandMap <B>getCommandMap</B>()</PRE>
<DL>
<DD>Gets the Mailcap CommandMap to be used.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the Mailcap CommandMap to be used, or <code>null</code>
         if no Mailcap CommandMap has been <A HREF="../../iaik/smime/SMimeParameters.html#setCommandMap(javax.activation.MailcapCommandMap)"><CODE>set</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="setDataHandlerCommandMap(javax.activation.DataHandler)"><!-- --></A><H3>
setDataHandlerCommandMap</H3>
<PRE>
public static void <B>setDataHandlerCommandMap</B>(javax.activation.DataHandler&nbsp;dataHandler)</PRE>
<DL>
<DD>Sets the <A HREF="../../iaik/smime/SMimeParameters.html#setCommandMap(javax.activation.MailcapCommandMap)"><CODE>registered</CODE></A> Mailcap CommandMap
 for the given DataHandler.
 <br>
 If no Mailcap CommandMap has been <A HREF="../../iaik/smime/SMimeParameters.html#setCommandMap(javax.activation.MailcapCommandMap)"><CODE>registered</CODE></A>,
 no CommandMap is set for the given DataHandler.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>dataHandler</CODE> - the DataHandler for which to set the Mailcap CommandMap</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<small>This Javadoc may contain text parts from text parts from IETF Internet Standard specifications (see <a href=../../RefCopyright.html#RFC>copyright</a> note).</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../iaik/smime/SMimeMultipart.html" title="class in iaik.smime"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../iaik/smime/SMimeRuntimeException.html" title="class in iaik.smime"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?iaik/smime/SMimeParameters.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SMimeParameters.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<IMG SRC=../../siclogo.jpg> <IMG SRC=../../iaik_logo.gif> IAIK-CMS 5.1, (c) 2002 <A HREF="http://jce.iaik.tugraz.at/">IAIK</A>, (c) 2003 - 2010 <A HREF="http://jce.iaik.tugraz.at/">SIC</A>
</BODY>
</HTML>
