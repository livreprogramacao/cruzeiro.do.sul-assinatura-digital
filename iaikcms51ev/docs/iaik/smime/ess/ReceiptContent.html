<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_09) on Wed Nov 02 19:19:16 GMT 2016 -->
<TITLE>
ReceiptContent (IAIK-CMS 5.1 API Documentation)
</TITLE>

<META NAME="keywords" CONTENT="iaik.smime.ess.ReceiptContent class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="ReceiptContent (IAIK-CMS 5.1 API Documentation)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../iaik/smime/ess/Receipt.html" title="class in iaik.smime.ess"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../iaik/smime/ess/ReceiptRequest.html" title="class in iaik.smime.ess"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?iaik/smime/ess/ReceiptContent.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ReceiptContent.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
iaik.smime.ess</FONT>
<BR>
Class ReceiptContent</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>iaik.smime.ess.ReceiptContent</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../iaik/smime/CryptoContent.html" title="interface in iaik.smime">CryptoContent</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>ReceiptContent</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../iaik/smime/CryptoContent.html" title="interface in iaik.smime">CryptoContent</A></DL>
</PRE>

<P>
This class can be used to create S/MIME messages for sending an 
 signed receipt as response to receipt request.
 <p>
 When creating an signed receipt message you have to supply the original
 signer info requesting the receipt:
 <pre>
 SignerInfo originalSignerInfo = ...;
 ReceiptContent receiptContent = new ReceiptContent(originalSignerInfo);
 </pre>
 Subsequently set the signer option as accustomed from SignedContent and
 send the message, e.g.:
 <pre>
 receiptContent.setCertificates(signerCertificates);
 receiptContent.setSigner(signerPrivateKey, signerCertificate, AlgorithmID.sha1, AlgorithmID.rsaEncryption,
                          encryptionCertOfSigner, true);
 MimeMessage msg = new MimeMessage(session);
 ...
 set sender, recipient(s), subject, ...
 ...
 msg.setContent(receiptContent, receiptContent.getContentType());
 receiptContent.setHeaders(msg); 
 Transport.send(msg);
 </pre>
 Alternatively you may use the <A HREF="../../../iaik/smime/ess/utils/SignedReceipt.html" title="class in iaik.smime.ess.utils"><CODE>SignedReceipt</CODE></A>
 utility for creating a SignedReceipt message in response to a receipt request message.
 <p>
 The receipt recipient (i.e. an entity to which it is requested to send a signed receipt) 
 verifies the signed ReceiptContent message by calling a proper <code>verify</code> method
 and subsequently reads the included Receipt:
 <pre>
 ReceiptContent receiptContent = (ReceiptContent)msg.getContent();
 try {
    X509Certificate signer = receiptContent.verify();
    System.out.println("This message is signed from: "+signer.getSubjectDN());
 } catch (java.security.SignatureException ex) {
    ...
 }
 // get the content:
 Receipt receipt = (Receipt)receiptContent.getContent();
 ...
 </pre>
 For more information about the JavaMail architecture, and how to handling
 MIME messages, consult the <a href=
 "http://www.oracle.com/technetwork/java/javamail/index.html">JavaMail specification</a>.
 <p>
 For using the IAIK-CMS S/MIME library, you also will need the 
 following packages:
 <ul>
    <li>
       <code>mail.jar</code>: Get it from <a href="http://www.oracle.com/technetwork/java/javamail/index.html">JavaMail</a>.
    </li>   
    <li>
       <code>activation.jar</code> (required for JDK versions < 1.6): Get it from <a href="http://www.oracle.com/technetwork/java/javase/downloads/index-135046.html">Java Activation Framework</a>.
    </li> 
 </ul>
 The JAF assignment between MIME-types and content handlers is done by means of a RFC 1524 
 mailcap file which is included in the IAIK-CMS distribution. It defines the following classes
 as content handlers for the corresponding MIME types:
 <pre>
 #
 # IAIK mailcap file entries
 #
 multipart/signed;;               x-java-content-handler=iaik.smime.signed_content
 application/x-pkcs7-signature;;  x-java-content-handler=iaik.smime.signed_content
 application/x-pkcs7-mime;;       x-java-content-handler=iaik.smime.encrypted_content
 application/x-pkcs10;;           x-java-content-handler=iaik.smime.pkcs10_content
 application/pkcs7-signature;;    x-java-content-handler=iaik.smime.signed_content
 application/pkcs7-mime;;         x-java-content-handler=iaik.smime.encrypted_content
 application/pkcs10;;             x-java-content-handler=iaik.smime.pkcs10_content
 </pre>
 The content handlers are registered by copying the mailcap file into the lib directory of your
 JDK (<JDK-HOME>/lib). Alternatively you may register the IAIK-S/MIME 
 mailcap file dynamically by using the default command map:
 <pre>
 String mailcapFileName = ...;
 MailcapCommandMap mc = new MailcapCommandMap(mailcapFileName);
 CommandMap.setDefaultCommandMap(mc);
 </pre>
 Or you may add the IAIK mailcap entries to the default mailcap command map, e.g.: 
 <pre>
 MailcapCommandMap mc = (MailcapCommandMap)CommandMap.getDefaultCommandMap();
 mc.addMailcap("multipart/signed;; x-java-content-handler=iaik.smime.signed_content");
 mc.addMailcap("application/x-pkcs7-signature;; x-java-content-handler=iaik.smime.signed_content");
 mc.addMailcap("application/x-pkcs7-mime;; x-java-content-handler=iaik.smime.encrypted_content");
 mc.addMailcap("application/pkcs7-signature;; x-java-content-handler=iaik.smime.signed_content");
 mc.addMailcap("application/pkcs7-mime;; x-java-content-handler=iaik.smime.encrypted_content");
 mc.addMailcap("application/x-pkcs10;; x-java-content-handler=iaik.smime.pkcs10_content");
 mc.addMailcap("application/pkcs10;; x-java-content-handler=iaik.smime.pkcs10_content");
 CommandMap.setDefaultCommandMap(mc);
 </pre>
 For a more detailed description of mailcap handling consult the Javadoc of the Activation 
 Framework.
 <p>
 When creating a new ReceiptContent to be sent per default the new S/MIME content types
 (application/pkcs7-mime) are used. For using the old types (application/x-pkcs7-mime) call
 the static <A HREF="../../../iaik/smime/SMimeParameters.html#useNewContentTypes(boolean)"><CODE>useNewContentTypes</CODE></A> method of the <A HREF="../../../iaik/smime/SMimeParameters.html" title="class in iaik.smime"><CODE>SMimeParameters</CODE></A> class <i>before</i> creating a new <code>ReceiptContent</code>
 object, e.g.:
 <pre>
 //switch to old content types
 SMimeParameters.useNewContentTypes(false);
 //create a SignedContent
 ReceiptContent sc = ...;
 ...
 </pre>
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../iaik/smime/ess/Receipt.html" title="class in iaik.smime.ess"><CODE>Receipt</CODE></A>, 
<A HREF="../../../iaik/smime/ess/utils/SignedReceipt.html" title="class in iaik.smime.ess.utils"><CODE>SignedReceipt</CODE></A></DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../iaik/smime/ess/ReceiptContent.html#ReceiptContent(javax.activation.DataSource)">ReceiptContent</A></B>(javax.activation.DataSource&nbsp;dataSource)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a <code>ReceiptContent</code> object from the given DataSource.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../iaik/smime/ess/ReceiptContent.html#ReceiptContent(iaik.smime.ess.Receipt)">ReceiptContent</A></B>(<A HREF="../../../iaik/smime/ess/Receipt.html" title="class in iaik.smime.ess">Receipt</A>&nbsp;receipt)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a signed receipt message for an already existing <A HREF="../../../iaik/smime/ess/Receipt.html" title="class in iaik.smime.ess"><CODE>Receipt</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../iaik/smime/ess/ReceiptContent.html#ReceiptContent(iaik.cms.SignerInfo)">ReceiptContent</A></B>(<A HREF="../../../iaik/cms/SignerInfo.html" title="class in iaik.cms">SignerInfo</A>&nbsp;originalSignerInfo)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a signed receipt message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../iaik/smime/ess/ReceiptContent.html#ReceiptContent(iaik.cms.SignerInfo, iaik.cms.SecurityProvider)">ReceiptContent</A></B>(<A HREF="../../../iaik/cms/SignerInfo.html" title="class in iaik.cms">SignerInfo</A>&nbsp;originalSignerInfo,
               <A HREF="../../../iaik/cms/SecurityProvider.html" title="class in iaik.cms">SecurityProvider</A>&nbsp;securityProvider)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a signed receipt message.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.security.cert.Certificate[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../iaik/smime/ess/ReceiptContent.html#getCertificates()">getCertificates</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the certificates included in this S/MIME messages.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../iaik/smime/ess/ReceiptContent.html#getContent()">getContent</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the content as a Java object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../iaik/smime/ess/ReceiptContent.html#getContentType()">getContentType</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the ContentType and any attached parameters of this ReceiptContent.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509CRL.html" title="class or interface in iaik.x509">X509CRL</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../iaik/smime/ess/ReceiptContent.html#getCRLs()">getCRLs</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the CRLs included in this S/MIME messages.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../iaik/smime/ess/Receipt.html" title="class in iaik.smime.ess">Receipt</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../iaik/smime/ess/ReceiptContent.html#getReceipt()">getReceipt</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the Receipt included.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../iaik/cms/SignerInfo.html" title="class in iaik.cms">SignerInfo</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../iaik/smime/ess/ReceiptContent.html#getSignerInfos()">getSignerInfos</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns all the signer infos included in the underlying SignedData object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../iaik/smime/ess/ReceiptContent.html#getSMimeType()">getSMimeType</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the S/MIME type parameter of this ReceiptContent.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../iaik/smime/ess/ReceiptContent.html#setCertificates(java.security.cert.Certificate[])">setCertificates</A></B>(java.security.cert.Certificate[]&nbsp;certificates)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the certificates to be included in the S/MIME message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../iaik/smime/ess/ReceiptContent.html#setCRLs(iaik.x509.X509CRL[])">setCRLs</A></B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509CRL.html" title="class or interface in iaik.x509">X509CRL</A>[]&nbsp;crls)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the crls to be included in the S/MIME message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../iaik/smime/ess/ReceiptContent.html#setHeaders(javax.mail.Part)">setHeaders</A></B>(javax.mail.Part&nbsp;part)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets additional headers of the part (message) containing this ReceiptContent.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../iaik/smime/ess/ReceiptContent.html#setSigner(java.security.PrivateKey, iaik.x509.X509Certificate, iaik.asn1.structures.AlgorithmID, iaik.asn1.structures.AlgorithmID, iaik.asn1.structures.Attribute[])">setSigner</A></B>(java.security.PrivateKey&nbsp;privateKey,
          <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509Certificate.html" title="class or interface in iaik.x509">X509Certificate</A>&nbsp;signerCertificate,
          <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;digestAlgorithm,
          <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;signatureAlgorithm,
          <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/Attribute.html" title="class or interface in iaik.asn1.structures">Attribute</A>[]&nbsp;signedAttributes)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Signs this content using the supplied signer private key with the 
 given signature algorithm.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../iaik/smime/ess/ReceiptContent.html#setSigner(java.security.PrivateKey, iaik.x509.X509Certificate, iaik.asn1.structures.AlgorithmID, iaik.asn1.structures.AlgorithmID, iaik.x509.X509Certificate, boolean)">setSigner</A></B>(java.security.PrivateKey&nbsp;privateKey,
          <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509Certificate.html" title="class or interface in iaik.x509">X509Certificate</A>&nbsp;signerCertificate,
          <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;digestAlgorithm,
          <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;signatureAlgorithm,
          <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509Certificate.html" title="class or interface in iaik.x509">X509Certificate</A>&nbsp;encryptionCertificate,
          boolean&nbsp;includeEncryptionCertIDForMSOE)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uses the given private key to sign the content with the given 
 signature algorithm.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../iaik/smime/ess/ReceiptContent.html#setSigner(iaik.cms.SignerInfo)">setSigner</A></B>(<A HREF="../../../iaik/cms/SignerInfo.html" title="class in iaik.cms">SignerInfo</A>&nbsp;signerInfo)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the signer of this ReceiptContent.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509Certificate.html" title="class or interface in iaik.x509">X509Certificate</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../iaik/smime/ess/ReceiptContent.html#verify()">verify</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Verifies this S/MIME signed content and returns the certificate
 of the signer (i.e. the signer with the SignerInfo at index 0).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509Certificate.html" title="class or interface in iaik.x509">X509Certificate</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../iaik/smime/ess/ReceiptContent.html#verify(int)">verify</A></B>(int&nbsp;signerInfoIndex)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Verifies this S/MIME signed content for the signer at index <code>signerInfoIndex</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../iaik/smime/ess/ReceiptContent.html#verify(java.security.PublicKey)">verify</A></B>(java.security.PublicKey&nbsp;publicKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uses the given PublicKey to verify the signature of the signer (i.e. the 
 signer with the SignerInfo at index 0).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../iaik/smime/ess/ReceiptContent.html#verify(java.security.PublicKey, int)">verify</A></B>(java.security.PublicKey&nbsp;publicKey,
       int&nbsp;signerInfoIndex)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uses the given PublicKey to verify the signature of the signer at index <code>signerInfoIndex</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../iaik/cms/SignerInfo.html" title="class in iaik.cms">SignerInfo</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../iaik/smime/ess/ReceiptContent.html#verify(iaik.x509.X509Certificate)">verify</A></B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509Certificate.html" title="class or interface in iaik.x509">X509Certificate</A>&nbsp;signerCertificate)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uses the provided signer certificate for verifying the signature that has been created
 by the signer being owner of the certificate.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../iaik/smime/ess/ReceiptContent.html#writeTo(java.io.OutputStream)">writeTo</A></B>(java.io.OutputStream&nbsp;os)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Writes this ReceiptContent to the given output stream.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ReceiptContent(iaik.cms.SignerInfo)"><!-- --></A><H3>
ReceiptContent</H3>
<PRE>
public <B>ReceiptContent</B>(<A HREF="../../../iaik/cms/SignerInfo.html" title="class in iaik.cms">SignerInfo</A>&nbsp;originalSignerInfo)
               throws <A HREF="../../../iaik/smime/ess/ESSException.html" title="class in iaik.smime.ess">ESSException</A></PRE>
<DL>
<DD>Creates a signed receipt message.
 From the supplied SignerInfo information a <A HREF="../../../iaik/smime/ess/Receipt.html" title="class in iaik.smime.ess"><CODE>Receipt</CODE></A> 
 and <A HREF="../../../iaik/smime/ess/MsgSigDigest.html" title="class in iaik.smime.ess"><CODE>MsgSigDigest</CODE></A> attribute is created as required
 for the signed receipt message.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>originalSignerInfo</CODE> - the original SignerInfo from the signer requesting the receipt.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../iaik/smime/ess/ESSException.html" title="class in iaik.smime.ess">ESSException</A></CODE> - if an error occurs when calculating the MsgSigDigest attribute
                         from the original SignerInfo (e.g. no signed attributes are included
                         in the SignerInfo; an error occurs while creating the required SET OF
                         attributes, or the hash algorithm required for calculating the
                         MsgSigDigest value is not available</DL>
</DL>
<HR>

<A NAME="ReceiptContent(iaik.cms.SignerInfo, iaik.cms.SecurityProvider)"><!-- --></A><H3>
ReceiptContent</H3>
<PRE>
public <B>ReceiptContent</B>(<A HREF="../../../iaik/cms/SignerInfo.html" title="class in iaik.cms">SignerInfo</A>&nbsp;originalSignerInfo,
                      <A HREF="../../../iaik/cms/SecurityProvider.html" title="class in iaik.cms">SecurityProvider</A>&nbsp;securityProvider)
               throws <A HREF="../../../iaik/smime/ess/ESSException.html" title="class in iaik.smime.ess">ESSException</A></PRE>
<DL>
<DD>Creates a signed receipt message.
 From the supplied SignerInfo information a <A HREF="../../../iaik/smime/ess/Receipt.html" title="class in iaik.smime.ess"><CODE>Receipt</CODE></A> 
 and <A HREF="../../../iaik/smime/ess/MsgSigDigest.html" title="class in iaik.smime.ess"><CODE>MsgSigDigest</CODE></A> attribute is created as required
 for the signed receipt message.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>originalSignerInfo</CODE> - the original SignerInfo from the signer requesting the receipt.<DD><CODE>securityProvider</CODE> - the securityProvider supplying the required cryptographic engines
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../iaik/smime/ess/ESSException.html" title="class in iaik.smime.ess">ESSException</A></CODE> - if an error occurs when calculating the MsgSigDigest attribute
                         from the original SignerInfo (e.g. no signed attributes are included
                         in the SignerInfo; an error occurs while creating the required SET OF
                         attributes, or the hash algorithm required for calculating the
                         MsgSigDigest value is not available</DL>
</DL>
<HR>

<A NAME="ReceiptContent(iaik.smime.ess.Receipt)"><!-- --></A><H3>
ReceiptContent</H3>
<PRE>
public <B>ReceiptContent</B>(<A HREF="../../../iaik/smime/ess/Receipt.html" title="class in iaik.smime.ess">Receipt</A>&nbsp;receipt)</PRE>
<DL>
<DD>Creates a signed receipt message for an already existing <A HREF="../../../iaik/smime/ess/Receipt.html" title="class in iaik.smime.ess"><CODE>Receipt</CODE></A>.
 An application using this constructor to create a ReceiptContent has to take care to
 calculate the required <A HREF="../../../iaik/smime/ess/MsgSigDigest.html" title="class in iaik.smime.ess"><CODE>MsgSigDigest</CODE></A> attribute itself.
 When later supplying information about the receipt signer be sure to use a <A HREF="../../../iaik/smime/ess/ReceiptContent.html#setSigner(java.security.PrivateKey, iaik.x509.X509Certificate, iaik.asn1.structures.AlgorithmID, iaik.asn1.structures.AlgorithmID, iaik.asn1.structures.Attribute[])"><CODE>method</CODE></A>
 where you can supply the signed attributes (containing the MsgSigDigest attribute).
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>receipt</CODE> - the Receipt calculated outside</DL>
</DL>
<HR>

<A NAME="ReceiptContent(javax.activation.DataSource)"><!-- --></A><H3>
ReceiptContent</H3>
<PRE>
public <B>ReceiptContent</B>(javax.activation.DataSource&nbsp;dataSource)
               throws java.io.IOException</PRE>
<DL>
<DD>Creates a <code>ReceiptContent</code> object from the given DataSource.
 <p>
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>dataSource</CODE> - the DataSource
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if an error occurs when parsing the message, e.g. an unknown
            MIME type is requested or the message content cannot be read</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getContentType()"><!-- --></A><H3>
getContentType</H3>
<PRE>
public java.lang.String <B>getContentType</B>()</PRE>
<DL>
<DD>Returns the ContentType and any attached parameters of this ReceiptContent.
 This method shall be used when setting an ReceiptContent object as the content
 of a Message.
 <pre>
 Message msg = ...;
 ReceiptContent rc = new ReceiptContent();
 msg.setContent(rc, rc.getContentType());
 ...
 </pre>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../iaik/smime/CryptoContent.html#getContentType()">getContentType</A></CODE> in interface <CODE><A HREF="../../../iaik/smime/CryptoContent.html" title="interface in iaik.smime">CryptoContent</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the content type of this ReceiptContent</DL>
</DD>
</DL>
<HR>

<A NAME="verify()"><!-- --></A><H3>
verify</H3>
<PRE>
public <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509Certificate.html" title="class or interface in iaik.x509">X509Certificate</A> <B>verify</B>()
                       throws java.security.SignatureException</PRE>
<DL>
<DD>Verifies this S/MIME signed content and returns the certificate
 of the signer (i.e. the signer with the SignerInfo at index 0).
 <p>
 This method may be used for verifying the signature when only one
 signer is included.
 <p>
 To use this method the certificate of the signer must be included
 in the signature. Use <A HREF="../../../iaik/smime/ess/ReceiptContent.html#verify(java.security.PublicKey)"><CODE>verify(PublicKey)</CODE></A> for verification when the signer
 certificate is not included in the signature.
 <p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the certificate of the signer
<DT><B>Throws:</B>
<DD><CODE>java.security.SignatureException</CODE> - if this message does not verify, the signer certificate
            is not included in the message or if this is a certs-only message</DL>
</DD>
</DL>
<HR>

<A NAME="verify(int)"><!-- --></A><H3>
verify</H3>
<PRE>
public <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509Certificate.html" title="class or interface in iaik.x509">X509Certificate</A> <B>verify</B>(int&nbsp;signerInfoIndex)
                       throws java.security.SignatureException</PRE>
<DL>
<DD>Verifies this S/MIME signed content for the signer at index <code>signerInfoIndex</code>.
 <p>
 The signature is verified by using the specified signer public key, which is
 get from the signer certificate, derived from the <code>certificates
 </code>field.
 <p>
 To use this method the certificate of the signer must be included
 in the signature. Use <A HREF="../../../iaik/smime/ess/ReceiptContent.html#verify(java.security.PublicKey, int)"><CODE>verify(PublicKey, int)</CODE></A> for verification when the signer
 certificate is not included in the signature.
 <p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the certificate of the signer
<DT><B>Throws:</B>
<DD><CODE>java.security.SignatureException</CODE> - if this message does not verify, the signer certificate
            is not included in the message or if this is a certs-only message</DL>
</DD>
</DL>
<HR>

<A NAME="verify(java.security.PublicKey)"><!-- --></A><H3>
verify</H3>
<PRE>
public void <B>verify</B>(java.security.PublicKey&nbsp;publicKey)
            throws java.security.SignatureException</PRE>
<DL>
<DD>Uses the given PublicKey to verify the signature of the signer (i.e. the 
 signer with the SignerInfo at index 0).
 <p>
 This method may be used for verifying the signature when only one
 signer is included and the certificate of the signer is not included.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.security.SignatureException</CODE> - if this message does not verify or if this is a certs-only message</DL>
</DD>
</DL>
<HR>

<A NAME="verify(java.security.PublicKey, int)"><!-- --></A><H3>
verify</H3>
<PRE>
public void <B>verify</B>(java.security.PublicKey&nbsp;publicKey,
                   int&nbsp;signerInfoIndex)
            throws java.security.SignatureException</PRE>
<DL>
<DD>Uses the given PublicKey to verify the signature of the signer at index <code>signerInfoIndex</code>.
 <p>
 This method may be used for verifying the signature when the certificate of the
 signer in mind is not included.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.security.SignatureException</CODE> - if this message does not verify or if this is a certs-only message</DL>
</DD>
</DL>
<HR>

<A NAME="verify(iaik.x509.X509Certificate)"><!-- --></A><H3>
verify</H3>
<PRE>
public <A HREF="../../../iaik/cms/SignerInfo.html" title="class in iaik.cms">SignerInfo</A> <B>verify</B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509Certificate.html" title="class or interface in iaik.x509">X509Certificate</A>&nbsp;signerCertificate)
                  throws java.security.SignatureException</PRE>
<DL>
<DD>Uses the provided signer certificate for verifying the signature that has been created
 by the signer being owner of the certificate.
 <p>
 This method may be used for verifying the signature of a signer in situations where there 
 are no certificates sent with the SignedData object. Of course, it also may be used
 when the <code>certificate</code> is not empty. However, take in mind that you
 should not step through the entries of the <code>certificates</code> field for
 calling <code>verify(cert)</code> for any certificate presented there since
 there also may (shall) be included issuer certificates and certificate chains
 leading to some trusted root.
 <p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>signerCertificate</CODE> - the certificate of the signer whose signature should 
        be verified
<DT><B>Returns:</B><DD>the signerInfo belonging to the signer being owner of the given certificate
<DT><B>Throws:</B>
<DD><CODE>java.security.SignatureException</CODE> - if the signature turns out to be incorrect or there is no signer with 
            the given certificate</DL>
</DD>
</DL>
<HR>

<A NAME="getContent()"><!-- --></A><H3>
getContent</H3>
<PRE>
public java.lang.Object <B>getContent</B>()</PRE>
<DL>
<DD>Returns the content as a Java object.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the Receipt included</DL>
</DD>
</DL>
<HR>

<A NAME="getReceipt()"><!-- --></A><H3>
getReceipt</H3>
<PRE>
public <A HREF="../../../iaik/smime/ess/Receipt.html" title="class in iaik.smime.ess">Receipt</A> <B>getReceipt</B>()</PRE>
<DL>
<DD>Returns the Receipt included.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the Receipt included</DL>
</DD>
</DL>
<HR>

<A NAME="setCertificates(java.security.cert.Certificate[])"><!-- --></A><H3>
setCertificates</H3>
<PRE>
public void <B>setCertificates</B>(java.security.cert.Certificate[]&nbsp;certificates)</PRE>
<DL>
<DD>Sets the certificates to be included in the S/MIME message.
 The supplied certificate list is an array of
 <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509Certificate.html" title="class or interface in iaik.x509"><CODE>X509Certificate</CODE></A>s representing
 the certifcate chain of the signer. It is intended that the certificate list
 is sufficient to contain chains from a recognized 'top level CA' to the signer.
 <p>
 Note: Setting the signer certificates is an optional task. If no signer
 certificates are included, the recipient explicitly has to supply the signer
 public key when verifying the message:
 <A HREF="../../../iaik/smime/ess/ReceiptContent.html#verify(java.security.PublicKey)"><CODE>verify(PublicKey)</CODE></A>. Otherwise - if the
 signer certificate chain is included in the S/MIME message - the
 <A HREF="../../../iaik/smime/ess/ReceiptContent.html#verify()"><CODE>verify()</CODE></A> method obtains the signer
 public key from the inherent certificate and the recipient must not extra take
 care for explicitly supplying the public key.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>certificates</CODE> - an array of certificates</DL>
</DD>
</DL>
<HR>

<A NAME="setCRLs(iaik.x509.X509CRL[])"><!-- --></A><H3>
setCRLs</H3>
<PRE>
public void <B>setCRLs</B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509CRL.html" title="class or interface in iaik.x509">X509CRL</A>[]&nbsp;crls)</PRE>
<DL>
<DD>Sets the crls to be included in the S/MIME message.
 <p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>crls</CODE> - an array of crls</DL>
</DD>
</DL>
<HR>

<A NAME="setHeaders(javax.mail.Part)"><!-- --></A><H3>
setHeaders</H3>
<PRE>
public void <B>setHeaders</B>(javax.mail.Part&nbsp;part)</PRE>
<DL>
<DD>Sets additional headers of the part (message) containing this ReceiptContent.
 This method sets the Content-Disposition and Content-Transfer-Encoding headers:
 <pre>
 Content-Disposition: attachment";
     filename=&quot;smime.p7m&quot;
 Content-Transfer-Encoding: base64
 </pre>
 <b>It is highly recommended to call this method to set the headers above
 for the part containing this ReceiptContent to avoid processing
 overhead </b>:
 <pre>
 MimeMessage msg = ...;
 ReceiptContent rc = ...;
 rc.setHeaders(msg);
 </pre>
 If this method is not called, JavaMail may run method <code>writeTo</code> twice
 to determine the content transfer encoding to be used.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../iaik/smime/CryptoContent.html#setHeaders(javax.mail.Part)">setHeaders</A></CODE> in interface <CODE><A HREF="../../../iaik/smime/CryptoContent.html" title="interface in iaik.smime">CryptoContent</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>part</CODE> - the part for which the Content-Disposition and Content-Transfer-Encoding 
             headers should be set</DL>
</DD>
</DL>
<HR>

<A NAME="getCertificates()"><!-- --></A><H3>
getCertificates</H3>
<PRE>
public java.security.cert.Certificate[] <B>getCertificates</B>()</PRE>
<DL>
<DD>Returns the certificates included in this S/MIME messages.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the certificates of this S/MIME message; the array may be empty if
         no certificates are included</DL>
</DD>
</DL>
<HR>

<A NAME="getCRLs()"><!-- --></A><H3>
getCRLs</H3>
<PRE>
public <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509CRL.html" title="class or interface in iaik.x509">X509CRL</A>[] <B>getCRLs</B>()</PRE>
<DL>
<DD>Returns the CRLs included in this S/MIME messages.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the crls of this S/MIME message; the array may be empty if
         no crls are included</DL>
</DD>
</DL>
<HR>

<A NAME="getSMimeType()"><!-- --></A><H3>
getSMimeType</H3>
<PRE>
public java.lang.String <B>getSMimeType</B>()</PRE>
<DL>
<DD>Returns the S/MIME type parameter of this ReceiptContent.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../iaik/smime/CryptoContent.html#getSMimeType()">getSMimeType</A></CODE> in interface <CODE><A HREF="../../../iaik/smime/CryptoContent.html" title="interface in iaik.smime">CryptoContent</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the S/MIME type ("signed-receipt")</DL>
</DD>
</DL>
<HR>

<A NAME="getSignerInfos()"><!-- --></A><H3>
getSignerInfos</H3>
<PRE>
public <A HREF="../../../iaik/cms/SignerInfo.html" title="class in iaik.cms">SignerInfo</A>[] <B>getSignerInfos</B>()</PRE>
<DL>
<DD>Returns all the signer infos included in the underlying SignedData object.
 Typically there will only be one SignerInfo in the array (since a SignedReceipt
 is only signed by one signer).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>an array containing all the <code>SignerInfo</code> objects</DL>
</DD>
</DL>
<HR>

<A NAME="setSigner(java.security.PrivateKey, iaik.x509.X509Certificate, iaik.asn1.structures.AlgorithmID, iaik.asn1.structures.AlgorithmID, iaik.x509.X509Certificate, boolean)"><!-- --></A><H3>
setSigner</H3>
<PRE>
public void <B>setSigner</B>(java.security.PrivateKey&nbsp;privateKey,
                      <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509Certificate.html" title="class or interface in iaik.x509">X509Certificate</A>&nbsp;signerCertificate,
                      <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;digestAlgorithm,
                      <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;signatureAlgorithm,
                      <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509Certificate.html" title="class or interface in iaik.x509">X509Certificate</A>&nbsp;encryptionCertificate,
                      boolean&nbsp;includeEncryptionCertIDForMSOE)
               throws java.security.NoSuchAlgorithmException,
                      <A HREF="../../../iaik/smime/ess/ESSException.html" title="class in iaik.smime.ess">ESSException</A></PRE>
<DL>
<DD>Uses the given private key to sign the content with the given 
 signature algorithm.
 <p>
 The signer certificate is used to add information about the
 signer by issuer distinguished name and issuer-specific serial number. The
 recipient uses this information to find the signer certificate from the 
 list of certificates or from anywhere else.
 <p>
 When creating the <code>SignerInfo</code> object for the signer, the
 following attributes are set for the SignerInfo structure:
 <ul>
  <li>Content-Type (ESS receipt)
  <li>Signing-Time
  <li>S/MIME Capabilities specifying the follwing symmetric ciphers:
    <ul>
      <li>des_CBC (DES in CBC mode)
      <li>des_EDE3_CBC (TripleDes in CBC mode)
      <li>rc2_CBC (RC2 in CBC mode with 128, 64 or 40 bit key)
    </ul>
 <li>SMIMEEncryptionKeyPreference, if <code>encryptionCertificate</code> is not <code>null</code>
 <li>a private MS attribute ("1.3.6.1.4.1.311.16.4") identifying the encryption cert if 
     if <code>encryptionCertificate</code> is not <code>null</code> and 
     <code>includeEncryptionCertIDForMSOE</code> allowing MSOE to recognize
     the encryption certificate is different certs are used for signing
     and encryption
 <li>ESS MsgSigDigest representing the digest value on the original content
 </ul>
 The PKCS#9 message digest attribute automatically will be added later, during
 the data is written to a stream, and after SHA-1 hash calculation is completed.
 <p>
 Inclusion of a special private Microsoft signed attribute (type: 1.3.6.1.4.1.311.16.4)
 for identifying the encryption certificate of the sender by IssuerAndSerialNumber
 might be useful to tell Outlook Express the encryption certificate to be used if
 separate certificates are used for signing and encryption. If you want to include
 this attribute, set <code>includeEncryptionCertIDForMSOE</code> to <code>true</code>
 and supply the IssuerAndSerialNumber of the encryption certificate ("encrypter").
 <p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>privateKey</CODE> - the private key to sign the content<DD><CODE>signerCertificate</CODE> - the certificate of the signer<DD><CODE>digestAlgorithm</CODE> - the digest algorithm; default: SHA-1 (used, if null)<DD><CODE>signatureAlgorithm</CODE> - the signature algorithm; default: rsaEncryption (used, if null);
        <b>Attention!</b> use AlgorithmID.rsaEncryption for RSA signing!<DD><CODE>encryptionCertificate</CODE> - the encryption certificate of the
        sender (or <code>null</code> if signing and encryption cert are the
        same or no encryption certificate shall be indicated)<DD><CODE>includeEncryptionCertIDForMSOE</CODE> - if <code>true</code>,
        a private MS attribute will be included allowing MSOE to recognize
        the encryption cert of the signer if using different certs for
        signing/encryption
<DT><B>Throws:</B>
<DD><CODE>java.security.NoSuchAlgorithmException</CODE> - if no implementation of the requested
            message digest algorithm is available
<DD><CODE><A HREF="../../../iaik/smime/ess/ESSException.html" title="class in iaik.smime.ess">ESSException</A></CODE> - if there occurs an error when adding the attributes</DL>
</DD>
</DL>
<HR>

<A NAME="setSigner(java.security.PrivateKey, iaik.x509.X509Certificate, iaik.asn1.structures.AlgorithmID, iaik.asn1.structures.AlgorithmID, iaik.asn1.structures.Attribute[])"><!-- --></A><H3>
setSigner</H3>
<PRE>
public void <B>setSigner</B>(java.security.PrivateKey&nbsp;privateKey,
                      <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509Certificate.html" title="class or interface in iaik.x509">X509Certificate</A>&nbsp;signerCertificate,
                      <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;digestAlgorithm,
                      <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;signatureAlgorithm,
                      <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/Attribute.html" title="class or interface in iaik.asn1.structures">Attribute</A>[]&nbsp;signedAttributes)
               throws java.security.NoSuchAlgorithmException,
                      <A HREF="../../../iaik/smime/ess/ESSException.html" title="class in iaik.smime.ess">ESSException</A></PRE>
<DL>
<DD>Signs this content using the supplied signer private key with the 
 given signature algorithm.
 <p>
 Any attributes to be set already have to be included in the supplied signedAttributes
 (if no attributes are supplied, standard attributes will be added) except for the
 MsgSigDigest attribute which may be set by this method, if yet not included. 
 The MsgSigDigest attribute only may be set by this method if this ReceiptContent
 has been <A HREF="../../../iaik/smime/ess/ReceiptContent.html#ReceiptContent(iaik.cms.SignerInfo)"><CODE>created</CODE></A> from the original SignerInfo
 (the one that belongs to the signer which requests the signed receipt). In this
 case the MsgSigDigest attribute has been calculated from the original SignerInfo
 and now can be added to the signed attributes. However, if this ReceiptContent
 has been <A HREF="../../../iaik/smime/ess/ReceiptContent.html#ReceiptContent(iaik.smime.ess.Receipt)"><CODE>created</CODE></A> from an already existing
 <A HREF="../../../iaik/smime/ess/Receipt.html" title="class in iaik.smime.ess"><CODE>Receipt</CODE></A> we assume that the MsgSigDigest attribute
 also has been created outside and already is included in the signed attributes
 supplied to this method.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>privateKey</CODE> - the private key which shall be used for signing<DD><CODE>signerCertificate</CODE> - the certificate of the signer which must be used
        for verifying the signature<DD><CODE>digestAlgorithm</CODE> - the digest algorithm; default: SHA-1 (used, if null)<DD><CODE>signatureAlgorithm</CODE> - the signature algorithm; default: rsaEncryption (used, if null);
        <b>Attention!</b> use AlgorithmID.rsaEncryption for RSA signing!<DD><CODE>signedAttributes</CODE> - the signedAttributes to be set for the SignerInfo of the receipt signer,
                         if <code>null</code> or empty, standard attributes are added
<DT><B>Throws:</B>
<DD><CODE>java.security.NoSuchAlgorithmException</CODE> - if no implementation of the requested
            message digest algorithm is available
<DD><CODE><A HREF="../../../iaik/smime/ess/ESSException.html" title="class in iaik.smime.ess">ESSException</A></CODE> - if an error occurs when setting the MsgSigDigestAttribute</DL>
</DD>
</DL>
<HR>

<A NAME="setSigner(iaik.cms.SignerInfo)"><!-- --></A><H3>
setSigner</H3>
<PRE>
public void <B>setSigner</B>(<A HREF="../../../iaik/cms/SignerInfo.html" title="class in iaik.cms">SignerInfo</A>&nbsp;signerInfo)
               throws java.security.NoSuchAlgorithmException,
                      <A HREF="../../../iaik/smime/ess/ESSException.html" title="class in iaik.smime.ess">ESSException</A></PRE>
<DL>
<DD>Sets the signer of this ReceiptContent.
 <p>
 Any attributes to be included into the SignerInfo already may be set (if no 
 attributes are supplied, standard attributes will be added) except for the
 MsgSigDigest attribute which may be set by this method, if yet not included. 
 The MsgSigDigest attribute only may be set by this method if this ReceiptContent
 has been <A HREF="../../../iaik/smime/ess/ReceiptContent.html#ReceiptContent(iaik.cms.SignerInfo)"><CODE>created</CODE></A> from the original SignerInfo
 (the one that belongs to the signer which requests the signed receipt). In this
 case the MsgSigDigest attribute has been calculated from the original SignerInfo
 and now can be added to the signed attributes. However, if this ReceiptContent
 has been <A HREF="../../../iaik/smime/ess/ReceiptContent.html#ReceiptContent(iaik.smime.ess.Receipt)"><CODE>created</CODE></A> from an already existing
 <A HREF="../../../iaik/smime/ess/Receipt.html" title="class in iaik.smime.ess"><CODE>Receipt</CODE></A> we assume that the MsgSigDigest attribute
 also has been created outside and already is included in the signed attributes
 of the SignerInfo of the receipt signer supplied to this method.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>signerInfo</CODE> - the SignerInfo of the entity that signs the receipt
<DT><B>Throws:</B>
<DD><CODE>java.security.NoSuchAlgorithmException</CODE> - if there is no implementation for the message digest algorithm
            specified in the signerInfo
<DD><CODE><A HREF="../../../iaik/smime/ess/ESSException.html" title="class in iaik.smime.ess">ESSException</A></CODE> - if there occurs an error when adding the MsgSigDigest attribute</DL>
</DD>
</DL>
<HR>

<A NAME="writeTo(java.io.OutputStream)"><!-- --></A><H3>
writeTo</H3>
<PRE>
public void <B>writeTo</B>(java.io.OutputStream&nbsp;os)
             throws java.io.IOException,
                    javax.mail.MessagingException</PRE>
<DL>
<DD>Writes this ReceiptContent to the given output stream.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if an error occurs while writing to the stream
<DD><CODE>javax.mail.MessagingException</CODE> - if an error occurs when fetching the data
            to be written</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<small>This Javadoc may contain text parts from text parts from IETF Internet Standard specifications (see <a href=../../../RefCopyright.html#RFC>copyright</a> note).</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../iaik/smime/ess/Receipt.html" title="class in iaik.smime.ess"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../iaik/smime/ess/ReceiptRequest.html" title="class in iaik.smime.ess"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?iaik/smime/ess/ReceiptContent.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ReceiptContent.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<IMG SRC=../../../siclogo.jpg> <IMG SRC=../../../iaik_logo.gif> IAIK-CMS 5.1, (c) 2002 <A HREF="http://jce.iaik.tugraz.at/">IAIK</A>, (c) 2003 - 2010 <A HREF="http://jce.iaik.tugraz.at/">SIC</A>
</BODY>
</HTML>
