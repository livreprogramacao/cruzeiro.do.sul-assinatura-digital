<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_09) on Wed Nov 02 19:19:12 GMT 2016 -->
<TITLE>
EncryptedContentInfoStream (IAIK-CMS 5.1 API Documentation)
</TITLE>

<META NAME="keywords" CONTENT="iaik.cms.EncryptedContentInfoStream class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="EncryptedContentInfoStream (IAIK-CMS 5.1 API Documentation)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../iaik/cms/EncryptedContentInfo.html" title="class in iaik.cms"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../iaik/cms/EncryptedData.html" title="class in iaik.cms"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?iaik/cms/EncryptedContentInfoStream.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="EncryptedContentInfoStream.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
iaik.cms</FONT>
<BR>
Class EncryptedContentInfoStream</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>iaik.cms.EncryptedContentInfoStream</B>
</PRE>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../iaik/cms/EncryptedContentInfo.html" title="class in iaik.cms">EncryptedContentInfo</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>EncryptedContentInfoStream</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
This class represents the stream-supporting implementation of the CMS type
 <code>EncryptedContentInfo</code>.
 <p>
 The Cryptographic Message Syntax (CMS) (<a href = "http://www.ietf.org/rfc/rfc5652.txt" target="_blank"> RFC 5652</a>) 
 defines the <code>EncryptedContentInfo </code>type for specifying the content type, the content encryption
 algorithm and the encrypted content of an <code>EnvelopedData</code>,
 or <code>EncryptedData</code> structure:
 <p><PRE>
 EncryptedContentInfo ::= SEQUENCE {
   contentType                 ContentType,
   contentEncryptionAlgorithm  ContentEncryptionAlgorithmIdentifier,
   encryptedContent            [0] IMPLICIT EncryptedContent OPTIONAL }
 <br>
 EncryptedContent ::= OCTET STRING
 </PRE><p>
 <p>
 This class provides several constructors and methods for creating an
 <code>EncryptedContentInfoStream</code>, encrypting its content (thereby optionally
 creating a secret content-encryption key in accordance with the specified
 content-encryption algorithm), and "re-decrypting" the encrypted content
 again.
 <p>
 This class - as in common with all IAIK CMS content type implementations - 
 provides mechanims for encoding the inherent encrypted content data as indefinite
 constructed octet string instead of using the default primitive definite encoding 
 scheme:
 <pre>
 0x24 0x80
           0x04 &lt;blocksize&gt; &lt;first encrypted content block&gt;
           0x04 &lt;blocksize&gt; &lt;second encrypted content block&gt;
           0x04 &lt;blocksize&gt; &lt;third encrypted content block&gt;
                ...
 0x00 0x00
 </pre>
 instead of:
 <pre>
 0x04 &lt;length&gt; &lt;encrypted content&gt;
 </pre>
 The indefinte constrcuted encoding scheme may be preferable for properly handling
 large amounts of data.
 <br>
 For enabling an indefinte constructed encoding of the inherent encrypted content,
 the <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#setBlockSize(int)"><CODE>setBlockSize</CODE></A> method has to be used for defining
 the length of each primitive definite encoded octet string component before actually
 performing the encoding by means of the <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#writeTo(java.io.OutputStream)"><CODE>writeTo</CODE></A> method, e.g.:
 <pre>
 //create a EncryptedContentInfoStream for the data to be encrypted, supplied from an input stream:
 InputStream dataStream = ...;
 EncryptedContentInfoStream eci = new EncryptedContentInfoStream(ObjectID.cms_data, dataStream);
 //generate secret key and set up the cipher for encryption:
 SecretKey key = eci.setupCipher((AlgorithmID)AlgorithmID.des_EDE3_CBC.clone());
 //optionally set the block size for splitting the encoding:
 eci.setBlockSize(1024);
 //perform the content encryption and encode the EncryptedContentInfo to an output stream
 eci.writeTo(output_stream);
 </pre>

 Note: in contrast to the equivalent non-stream supporting
 <A HREF="../../iaik/cms/EncryptedContentInfo.html" title="class in iaik.cms"><CODE>EncryptedContentInfo</CODE></A>
 class, where the content encryption already is performed when calling a proper
 <code>setupCipher</code> method, this class performs the content encryption actually
 during the encoding by piping the data through a cipher stream when executing the
 <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#writeTo(java.io.OutputStream)"><CODE>writeTo</CODE></A> method. The corresponding
 <code>setupCipher</code> method only initializes the cipher for the cipher stream 
 pipe.
 <p>
 In the same way, when parsing an already existing <code>EncryptedContentInfoStream</code> 
 object a proper <code>setupCipher</code> method has to be used for initializing the
 cipher stream pipe for decryption. The decryption actually is performed when reading
 the data previously obtained by means of the <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#getInputStream()"><CODE>getInputstream</CODE></A> method:
 <pre>
 //create an EncryptedContentInfoStream from the input stream supplying the encoding:
 EncryptedContentInfoStream eci = new EncryptedContentInfoStream(encoded_stream);
 //setup the cipher for decryption using the right secret key:
 eci.setupCipher(key);
 //get and read the data thereby actually performing the decryption
 InputStream data_is = eci.getInputStream();
 byte[] buf = new byte[1024];
 int r;
 while ((r = data_is.read(buf)) > 0) {
   // do something useful
 }
 </pre>
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../iaik/cms/EnvelopedDataStream.html" title="class in iaik.cms"><CODE>EnvelopedDataStream</CODE></A>, 
<A HREF="../../iaik/cms/EncryptedDataStream.html" title="class in iaik.cms"><CODE>EncryptedDataStream</CODE></A></DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#blockSize_">blockSize_</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The block size.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../iaik/cms/CipherEngine.html" title="interface in iaik.cms">CipherEngine</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#cipher_">cipher_</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The Cipher engine used for en/decryption.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#contentEncryptionAlgorithm_">contentEncryptionAlgorithm_</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The content-encryption algorithm</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ObjectID.html" title="class or interface in iaik.asn1">ObjectID</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#contentType_">contentType_</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The type of the content.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#EXPLICIT">EXPLICIT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Denotes a mode where the encrypted message is not transported within the EncryptedContentInfo.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#IMPLICIT">IMPLICIT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Denotes a mode where the encrypted message is included in the EncryptedContentInfo.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../iaik/cms/SecurityProvider.html" title="class in iaik.cms">SecurityProvider</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#securityProvider_">securityProvider_</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The SeucrityProvider used for cryptographic tasks.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#EncryptedContentInfoStream()">EncryptedContentInfoStream</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default constructor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#EncryptedContentInfoStream(java.io.InputStream)">EncryptedContentInfoStream</A></B>(java.io.InputStream&nbsp;is)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new EncryptedContentInfoStream where the BER encoded data
 is read from the given InputStream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#EncryptedContentInfoStream(iaik.asn1.ObjectID, iaik.asn1.structures.AlgorithmID)">EncryptedContentInfoStream</A></B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ObjectID.html" title="class or interface in iaik.asn1">ObjectID</A>&nbsp;contentType,
                           <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;contentEncAlg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates an EncryptedContentInfoStream with given content type and
 content-encryption algorithm ID.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#EncryptedContentInfoStream(iaik.asn1.ObjectID, java.io.InputStream)">EncryptedContentInfoStream</A></B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ObjectID.html" title="class or interface in iaik.asn1">ObjectID</A>&nbsp;contentType,
                           java.io.InputStream&nbsp;is)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new EncryptedContentInfoStream for the given content type where the
 content data to be encrypted is read from the provided InputStream.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#decode(java.io.InputStream)">decode</A></B>(java.io.InputStream&nbsp;is)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reads and decodes an encoded EncryptedContentInfoStream from an input stream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#getBlockSize()">getBlockSize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the block size defining the length of each definite primitive
 encoded octet string component.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#getContentEncryptionAlgorithm()">getContentEncryptionAlgorithm</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the content-encryption algorithm (including any associated
 parameters) of this EncryptedContentInfoStream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ObjectID.html" title="class or interface in iaik.asn1">ObjectID</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#getContentType()">getContentType</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the type of the content encrypted by this EncryptedContentInfoStream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.io.InputStream</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#getInputStream()">getInputStream</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an InputStream for reading the decrypted content.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#getMode()">getMode</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the mode of this EncryptedContentInfoStream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../iaik/cms/SecurityProvider.html" title="class in iaik.cms">SecurityProvider</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#getSecurityProvider()">getSecurityProvider</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the SecurityProvider installed for this EncryptedContentInfoStream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#hasContent()">hasContent</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns <code>true</code> if there is a content.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#setBlockSize(int)">setBlockSize</A></B>(int&nbsp;blockSize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the block size for encoding the encrypted content.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#setInputStream(java.io.InputStream)">setInputStream</A></B>(java.io.InputStream&nbsp;is)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the input stream that supplies the content data to be encrypted.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#setMode(int)">setMode</A></B>(int&nbsp;mode)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the mode for this EncryptedContentInfoStream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#setSecurityProvider(iaik.cms.SecurityProvider)">setSecurityProvider</A></B>(<A HREF="../../iaik/cms/SecurityProvider.html" title="class in iaik.cms">SecurityProvider</A>&nbsp;securityProvider)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the SecurityProvider for this EncryptedContentInfoStream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;javax.crypto.SecretKey</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#setupCipher(iaik.asn1.structures.AlgorithmID)">setupCipher</A></B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;contentEA)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Setups the cipher and generates a secret key for encrypting the content.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;javax.crypto.SecretKey</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#setupCipher(iaik.asn1.structures.AlgorithmID, int)">setupCipher</A></B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;contentEA,
            int&nbsp;keyLength)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Setups the cipher and generates a secret key for encrypting the content.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;javax.crypto.SecretKey</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#setupCipher(iaik.asn1.structures.AlgorithmID, int, java.security.AlgorithmParameters)">setupCipher</A></B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;contentEA,
            int&nbsp;keyLength,
            java.security.AlgorithmParameters&nbsp;params)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Setups the cipher and generates a secret key for encrypting the content.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;javax.crypto.SecretKey</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#setupCipher(iaik.asn1.structures.AlgorithmID, int, java.security.spec.AlgorithmParameterSpec)">setupCipher</A></B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;contentEA,
            int&nbsp;keyLength,
            java.security.spec.AlgorithmParameterSpec&nbsp;params)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Setups the cipher and generates a secret key for encrypting the content.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#setupCipher(iaik.asn1.structures.AlgorithmID, java.security.Key, java.security.AlgorithmParameters)">setupCipher</A></B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;contentEA,
            java.security.Key&nbsp;key,
            java.security.AlgorithmParameters&nbsp;params)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Setups the cipher for encrypting the content.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#setupCipher(iaik.asn1.structures.AlgorithmID, java.security.Key, java.security.spec.AlgorithmParameterSpec)">setupCipher</A></B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;contentEA,
            java.security.Key&nbsp;key,
            java.security.spec.AlgorithmParameterSpec&nbsp;params)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Setups the cipher for encrypting the content.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#setupCipher(java.security.Key)">setupCipher</A></B>(java.security.Key&nbsp;key)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uses the specified content-encryption key to setup the cipher for
 decrypting the content.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#setupCipher(java.security.Key, java.security.AlgorithmParameters)">setupCipher</A></B>(java.security.Key&nbsp;key,
            java.security.AlgorithmParameters&nbsp;params)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uses the specified key and paramters to setup the cipher for
 decrypting the content.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#setupCipher(java.security.Key, java.security.spec.AlgorithmParameterSpec)">setupCipher</A></B>(java.security.Key&nbsp;key,
            java.security.spec.AlgorithmParameterSpec&nbsp;params)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uses the specified key and paramters to setup the cipher for
 decrypting the content.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ASN1Object.html" title="class or interface in iaik.asn1">ASN1Object</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#toASN1Object()">toASN1Object</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns this EncryptedContentInfoStream as ASN1Object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#toString()">toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a string giving some information about this
 <code>EncryptedContentInfoStream</code> object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedContentInfoStream.html#writeTo(java.io.OutputStream)">writeTo</A></B>(java.io.OutputStream&nbsp;os)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Writes the BER encoding of this object to the given OutputStream.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="IMPLICIT"><!-- --></A><H3>
IMPLICIT</H3>
<PRE>
public static final int <B>IMPLICIT</B></PRE>
<DL>
<DD>Denotes a mode where the encrypted message is included in the EncryptedContentInfo.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../constant-values.html#iaik.cms.EncryptedContentInfoStream.IMPLICIT">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="EXPLICIT"><!-- --></A><H3>
EXPLICIT</H3>
<PRE>
public static final int <B>EXPLICIT</B></PRE>
<DL>
<DD>Denotes a mode where the encrypted message is not transported within the EncryptedContentInfo.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../constant-values.html#iaik.cms.EncryptedContentInfoStream.EXPLICIT">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="contentType_"><!-- --></A><H3>
contentType_</H3>
<PRE>
protected <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ObjectID.html" title="class or interface in iaik.asn1">ObjectID</A> <B>contentType_</B></PRE>
<DL>
<DD>The type of the content.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="contentEncryptionAlgorithm_"><!-- --></A><H3>
contentEncryptionAlgorithm_</H3>
<PRE>
protected <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A> <B>contentEncryptionAlgorithm_</B></PRE>
<DL>
<DD>The content-encryption algorithm
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="cipher_"><!-- --></A><H3>
cipher_</H3>
<PRE>
protected <A HREF="../../iaik/cms/CipherEngine.html" title="interface in iaik.cms">CipherEngine</A> <B>cipher_</B></PRE>
<DL>
<DD>The Cipher engine used for en/decryption.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="blockSize_"><!-- --></A><H3>
blockSize_</H3>
<PRE>
protected int <B>blockSize_</B></PRE>
<DL>
<DD>The block size.
 (Default: 2048 to enforce indefinite constructed encoding).
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="securityProvider_"><!-- --></A><H3>
securityProvider_</H3>
<PRE>
protected <A HREF="../../iaik/cms/SecurityProvider.html" title="class in iaik.cms">SecurityProvider</A> <B>securityProvider_</B></PRE>
<DL>
<DD>The SeucrityProvider used for cryptographic tasks.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="EncryptedContentInfoStream()"><!-- --></A><H3>
EncryptedContentInfoStream</H3>
<PRE>
protected <B>EncryptedContentInfoStream</B>()</PRE>
<DL>
<DD>Default constructor.
 The block size is set to 2048 to enforce indefinite constructed encoding.
<P>
</DL>
<HR>

<A NAME="EncryptedContentInfoStream(iaik.asn1.ObjectID, java.io.InputStream)"><!-- --></A><H3>
EncryptedContentInfoStream</H3>
<PRE>
public <B>EncryptedContentInfoStream</B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ObjectID.html" title="class or interface in iaik.asn1">ObjectID</A>&nbsp;contentType,
                                  java.io.InputStream&nbsp;is)</PRE>
<DL>
<DD>Creates a new EncryptedContentInfoStream for the given content type where the
 content data to be encrypted is read from the provided InputStream.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>contentType</CODE> - the CMS content type<DD><CODE>is</CODE> - the input stream holding the content data to encrypt</DL>
</DL>
<HR>

<A NAME="EncryptedContentInfoStream(iaik.asn1.ObjectID, iaik.asn1.structures.AlgorithmID)"><!-- --></A><H3>
EncryptedContentInfoStream</H3>
<PRE>
public <B>EncryptedContentInfoStream</B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ObjectID.html" title="class or interface in iaik.asn1">ObjectID</A>&nbsp;contentType,
                                  <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;contentEncAlg)</PRE>
<DL>
<DD>Creates an EncryptedContentInfoStream with given content type and
 content-encryption algorithm ID.

 The encrypted data must be supplied by other means.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>contentType</CODE> - the type of the encrypted content<DD><CODE>contentEncAlg</CODE> - the algorithm used to encrypt the content</DL>
</DL>
<HR>

<A NAME="EncryptedContentInfoStream(java.io.InputStream)"><!-- --></A><H3>
EncryptedContentInfoStream</H3>
<PRE>
public <B>EncryptedContentInfoStream</B>(java.io.InputStream&nbsp;is)
                           throws java.io.IOException,
                                  <A HREF="../../iaik/cms/CMSParsingException.html" title="class in iaik.cms">CMSParsingException</A></PRE>
<DL>
<DD>Creates a new EncryptedContentInfoStream where the BER encoded data
 is read from the given InputStream.
 <p>
 The given input stream supplies the BER encoding of an already
 exisiting <code>EncryptedContentInfoStream</code> object that may have
 been created by calling <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#writeTo(java.io.OutputStream)"><CODE>writeTo</CODE></A>.
 <p>
 Use the <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#EncryptedContentInfoStream(iaik.asn1.ObjectID, java.io.InputStream)"><CODE>EncryptedContentInfoStream(ObjectID contentType, InputStream is)</CODE></A> constructor
 for supplying the content to be encrypted when creating an<code>
 EncryptedContentInfoStream</code> object.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>is</CODE> - the InputStream holding a BER encoded EncryptedContentInfoStream object
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if an I/O error occurs during reading from the InputStream
<DD><CODE><A HREF="../../iaik/cms/CMSParsingException.html" title="class in iaik.cms">CMSParsingException</A></CODE> - if an error occurs while parsing the object</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="setMode(int)"><!-- --></A><H3>
setMode</H3>
<PRE>
public void <B>setMode</B>(int&nbsp;mode)</PRE>
<DL>
<DD>Sets the mode for this EncryptedContentInfoStream.
 <p>
 This method may be only called to set the mode to <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#EXPLICIT"><CODE>EXPLICIT</CODE></A>
 for creating a new EncryptedContentInfoStream in <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#EXPLICIT"><CODE>EXPLICIT</CODE></A> mode where the 
 encrypted content shall not be included in the EncryptedContentInfo. In this case 
 the encrypted content has to be transmitted by other means. This method may not
 be called in <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#IMPLICIT"><CODE>IMPLICIT</CODE></A> mode (default) where
 the encrypted content is included in the EncryptedContentInfo. This method MUST
 not be called when parsing an EncryptedContentInfo where the mode is automatically
 detected and cannot be changed.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mode</CODE> - the mode, either <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#IMPLICIT"><CODE>IMPLICIT</CODE></A> (to include
                       the encrypted content (default) or <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#EXPLICIT"><CODE>EXPLICIT</CODE></A>
                       to not include it)
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if the mode is not <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#IMPLICIT"><CODE>IMPLICIT</CODE></A>
                                    or <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#EXPLICIT"><CODE>EXPLICIT</CODE></A>; or if this
                                    method is called when parsing an EncryptedContentInfo</DL>
</DD>
</DL>
<HR>

<A NAME="getMode()"><!-- --></A><H3>
getMode</H3>
<PRE>
public int <B>getMode</B>()</PRE>
<DL>
<DD>Gets the mode of this EncryptedContentInfoStream.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the mode, either <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#IMPLICIT"><CODE>IMPLICIT</CODE></A> (to include
                   the encrypted content (default) or 
                   <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#EXPLICIT"><CODE>EXPLICIT</CODE></A>
                   to not include it)</DL>
</DD>
</DL>
<HR>

<A NAME="setSecurityProvider(iaik.cms.SecurityProvider)"><!-- --></A><H3>
setSecurityProvider</H3>
<PRE>
public void <B>setSecurityProvider</B>(<A HREF="../../iaik/cms/SecurityProvider.html" title="class in iaik.cms">SecurityProvider</A>&nbsp;securityProvider)</PRE>
<DL>
<DD>Sets the SecurityProvider for this EncryptedContentInfoStream.
 <p>
 This method allows to explicitly set a SecurityProvider for this EncryptedContentInfoStream.
 If no explicit SecurityProvider is set, the default system wide installed 
 SecurityProvider will be used for the required cryptographic operations.
 <p>
 This class uses the following method(s) of the <A HREF="../../iaik/cms/SecurityProvider.html" title="class in iaik.cms"><CODE>SecurityProvider</CODE></A>, which may be overriden by an application, if required:
 <ul>
 <li><code><A HREF="../../iaik/cms/SecurityProvider.html#getInputStreamCipherEngine(iaik.asn1.structures.AlgorithmID, int, java.security.Key, java.security.AlgorithmParameters)"><CODE>getInputStreamCipherEngine</CODE></A></code>
     methods to get an <A HREF="../../iaik/cms/InputStreamCipherEngine.html" title="interface in iaik.cms"><CODE>InputStreamCipherEngine</CODE></A>
     for stream based content en/decryption
 <li><code><A HREF="../../iaik/cms/SecurityProvider.html#getByteArrayCipherEngine(iaik.asn1.structures.AlgorithmID, int, java.security.Key, java.security.AlgorithmParameters)"><CODE>getByteArrayCipherEngine</CODE></A></code>
     methods to get a <A HREF="../../iaik/cms/ByteArrayCipherEngine.html" title="interface in iaik.cms"><CODE>ByteArrayCipherEngine</CODE></A>
     for content en/decryption for non-stream <A HREF="../../iaik/cms/EncryptedContentInfo.html" title="class in iaik.cms"><CODE>EncryptedContentInfo</CODE></A> objects
 <li><code><A HREF="../../iaik/cms/SecurityProvider.html#generateKey(iaik.asn1.structures.AlgorithmID, java.security.spec.AlgorithmParameterSpec)"><CODE>generateKey</CODE></A></code>
     to generate the symmetric content encryption key 
 <li><code><A HREF="../../iaik/cms/SecurityProvider.html#getAlgorithmParameters(iaik.asn1.structures.AlgorithmID)"><CODE>getAlgorithmParameters</CODE></A></code>
     to parse algorithm parameters from an AlgorithmID
 </ul>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>securityProvider</CODE> - the SecurityProvider to be set</DL>
</DD>
</DL>
<HR>

<A NAME="getSecurityProvider()"><!-- --></A><H3>
getSecurityProvider</H3>
<PRE>
public <A HREF="../../iaik/cms/SecurityProvider.html" title="class in iaik.cms">SecurityProvider</A> <B>getSecurityProvider</B>()</PRE>
<DL>
<DD>Gets the SecurityProvider installed for this EncryptedContentInfoStream.
 <p>
 This class uses the following method(s) of the <A HREF="../../iaik/cms/SecurityProvider.html" title="class in iaik.cms"><CODE>SecurityProvider</CODE></A>, which may be overriden by an application, if required:
 <ul>
 <li><code><A HREF="../../iaik/cms/SecurityProvider.html#getInputStreamCipherEngine(iaik.asn1.structures.AlgorithmID, int, java.security.Key, java.security.AlgorithmParameters)"><CODE>getInputStreamCipherEngine</CODE></A></code>
     methods to get an <A HREF="../../iaik/cms/InputStreamCipherEngine.html" title="interface in iaik.cms"><CODE>InputStreamCipherEngine</CODE></A>
     for stream based content en/decryption
 <li><code><A HREF="../../iaik/cms/SecurityProvider.html#getByteArrayCipherEngine(iaik.asn1.structures.AlgorithmID, int, java.security.Key, java.security.AlgorithmParameters)"><CODE>getByteArrayCipherEngine</CODE></A></code>
     methods to get a <A HREF="../../iaik/cms/ByteArrayCipherEngine.html" title="interface in iaik.cms"><CODE>ByteArrayCipherEngine</CODE></A>
     for content en/decryption for non-stream <A HREF="../../iaik/cms/EncryptedContentInfo.html" title="class in iaik.cms"><CODE>EncryptedContentInfo</CODE></A> objects
 <li><code><A HREF="../../iaik/cms/SecurityProvider.html#generateKey(iaik.asn1.structures.AlgorithmID, java.security.spec.AlgorithmParameterSpec)"><CODE>generateKey</CODE></A></code>
     to generate the symmetric content encryption key
 <li><code><A HREF="../../iaik/cms/SecurityProvider.html#getAlgorithmParameters(iaik.asn1.structures.AlgorithmID)"><CODE>getAlgorithmParameters</CODE></A></code>
     to parse algorithm parameters from an AlgorithmID
 </ul>
 If no explicit SecurityProvider has been <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#setSecurityProvider(iaik.cms.SecurityProvider)"><CODE>set</CODE></A> for this object, 
 the default system wide installed SecurityProvider will be used for the required cryptographic
 operations. However, this method will return <code>null</code> if it does not have its own
 SecurityProvider.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the SecurityProvider explicitly installed for this object, or <code>null</code> if
         this object does not have its own SecurityProvider</DL>
</DD>
</DL>
<HR>

<A NAME="decode(java.io.InputStream)"><!-- --></A><H3>
decode</H3>
<PRE>
protected void <B>decode</B>(java.io.InputStream&nbsp;is)
               throws java.io.IOException,
                      <A HREF="../../iaik/cms/CMSParsingException.html" title="class in iaik.cms">CMSParsingException</A></PRE>
<DL>
<DD>Reads and decodes an encoded EncryptedContentInfoStream from an input stream.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>is</CODE> - the InputStream holding a BER encoded EncryptedContentInfoStream object
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if an I/O error occurs during reading from the InputStream
<DD><CODE><A HREF="../../iaik/cms/CMSParsingException.html" title="class in iaik.cms">CMSParsingException</A></CODE> - if an error occurs while parsing the object</DL>
</DD>
</DL>
<HR>

<A NAME="setupCipher(iaik.asn1.structures.AlgorithmID, java.security.Key, java.security.AlgorithmParameters)"><!-- --></A><H3>
setupCipher</H3>
<PRE>
public void <B>setupCipher</B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;contentEA,
                        java.security.Key&nbsp;key,
                        java.security.AlgorithmParameters&nbsp;params)
                 throws java.security.NoSuchAlgorithmException,
                        java.security.InvalidKeyException,
                        java.security.InvalidAlgorithmParameterException</PRE>
<DL>
<DD>Setups the cipher for encrypting the content.
 <p>
 If parameters are specified they are set for the given content encryption
 algorithm.
 This method creates a cipher for the specified content-encryption algorithm
 and initializes it with given key and parameters. The content encryption actually
 is performed during the encoding when writing this EncyrptedContentInfo to a stream 
 by calling the <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#writeTo(java.io.OutputStream)"><CODE>writeTo</CODE></A> method. So it is important
 to setup the cipher <i>before</i> writing to the stream!
 <p>
 <b>Note:</b> This method internaly creates a clone of the supplied AlgorithmID.
 If parameters are supplied they are used for initializing the Cipher engine.
 After initializing the Cipher engine, method Cipher.getParameters() is called
 to get (back) the parameters the Cipher has been initialized with (respectively
 the Cipher has created itsself) for including them into the AlgorithmID to be sent
 to the recipient. This may override any parameters that have been included in
 the AlgorithmID by the user. So, if you have included parameters in the 
 AlgorithmID, take care to supply them as <code>params</code> for initializing 
 the Cipher, too.
 If <code>params</code> is null, the Cipher will create and use (and send in 
 the AlgorithmID) its own parameters.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>contentEA</CODE> - the algorithm to use for encrypting the content<DD><CODE>key</CODE> - the key to use<DD><CODE>params</CODE> - the parameters to initialize the cipher
<DT><B>Throws:</B>
<DD><CODE>java.security.NoSuchAlgorithmException</CODE> - if there is no implementation for the specified algorithm
<DD><CODE>java.security.InvalidKeyException</CODE> - if the key is inappropriate for the content-encryption algorithm
<DD><CODE>java.security.InvalidAlgorithmParameterException</CODE> - if the provided parameters are not appropriate for the algorithm</DL>
</DD>
</DL>
<HR>

<A NAME="setupCipher(iaik.asn1.structures.AlgorithmID, java.security.Key, java.security.spec.AlgorithmParameterSpec)"><!-- --></A><H3>
setupCipher</H3>
<PRE>
public void <B>setupCipher</B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;contentEA,
                        java.security.Key&nbsp;key,
                        java.security.spec.AlgorithmParameterSpec&nbsp;params)
                 throws java.security.NoSuchAlgorithmException,
                        java.security.InvalidKeyException,
                        java.security.InvalidAlgorithmParameterException</PRE>
<DL>
<DD>Setups the cipher for encrypting the content.
 If parameters are specified they are set for the given content encryption
 algorithm.
 This method creates a cipher for the specified content-encryption algorithm
 and initializes it with given key and parameters. The content encryption actually is performed
 during the encoding when writing this EncyrptedContentInfo to a stream by
 calling the <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#writeTo(java.io.OutputStream)"><CODE>writeTo</CODE></A> method. So it is important
 to setup the cipher <i>before</i> writing to the stream!
 <p>
 <b>Note:</b> This method internaly creates a clone of the supplied AlgorithmID.
 If parameters are supplied they are used for initializing the Cipher engine.
 After initializing the Cipher engine, method Cipher.getParameters() is called
 to get (back) the parameters the Cipher has been initialized with (respectively
 the Cipher has created itsself) for including them into the AlgorithmID to be sent
 to the recipient. This may override any parameters that have been included in
 the AlgorithmID by the user. So, if you have included parameters in the 
 AlgorithmID, take care to supply them as <code>params</code> for initializing 
 the Cipher, too.
 If <code>params</code> is null, the Cipher will create and use (and send in 
 the AlgorithmID) its own parameters.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>contentEA</CODE> - the algorithm to use for encrypting the content<DD><CODE>key</CODE> - the key to use<DD><CODE>params</CODE> - the parameters to initialize the cipher
<DT><B>Throws:</B>
<DD><CODE>java.security.NoSuchAlgorithmException</CODE> - if there is no implementation for the specified algorithm
<DD><CODE>java.security.InvalidKeyException</CODE> - if the key is inappropriate for the content-encryption algorithm
<DD><CODE>java.security.InvalidAlgorithmParameterException</CODE> - if the provided parameters are not appropriate for the algorithm</DL>
</DD>
</DL>
<HR>

<A NAME="setupCipher(iaik.asn1.structures.AlgorithmID)"><!-- --></A><H3>
setupCipher</H3>
<PRE>
public javax.crypto.SecretKey <B>setupCipher</B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;contentEA)
                                   throws java.security.NoSuchAlgorithmException</PRE>
<DL>
<DD>Setups the cipher and generates a secret key for encrypting the content.
 <p>
 This method creates a cipher for the specified content-encryption algorithm
 and initializes it with a newly generated secret key. The content encryption
 actually is performed during the encoding when writing this EncyrptedContentInfo
 to a stream by calling the <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#writeTo(java.io.OutputStream)"><CODE>writeTo</CODE></A> method. So it
 is important to setup the cipher <i>before</i> writing to the stream!
 <p>
 <b>Attention!</b> This method only shall be used for cipher setup if the secret
 key to be generated has a predefined length or default setting, since no
 key length parameter is offered. For generating a Key of specific length to
 be used for encrypting the content call method {#setupCipher(AlgorithmID, int)
 setupCipher(AlgorithmID contentEA, int keyLength)}.
 <p>
 <b>Note:</b> This method internaly creates a clone of the supplied AlgorithmID.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>contentEA</CODE> - the algorithm to use for encrypting the content
<DT><B>Returns:</B><DD>the new symmetric key for encrypting the content
<DT><B>Throws:</B>
<DD><CODE>java.security.NoSuchAlgorithmException</CODE> - if there is no implementation for the specified algorithm</DL>
</DD>
</DL>
<HR>

<A NAME="setupCipher(iaik.asn1.structures.AlgorithmID, int)"><!-- --></A><H3>
setupCipher</H3>
<PRE>
public javax.crypto.SecretKey <B>setupCipher</B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;contentEA,
                                          int&nbsp;keyLength)
                                   throws java.security.NoSuchAlgorithmException</PRE>
<DL>
<DD>Setups the cipher and generates a secret key for encrypting the content.
 <p>
 If the specified content encryption algorithm supports variable key lengths, a
 particular key length may be set by means of the <code>keyLength</code> parameter.
 If no length is specified, the defined default key length will be used. If the
 algorithm only works with keys of fixed-size length, the keyLength parameter
 may be set to -1 or the <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#setupCipher(iaik.asn1.structures.AlgorithmID)"><CODE>setupCipher(AlgorithmID)</CODE></A>
 method may be used.
 <p>
 This method creates a cipher for the specified content-encryption algorithm
 and initializes it with the newly generated secret key. The content encryption
 actually is performed during the encoding when writing this EncyrptedContentInfo
 to a stream by calling the <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#writeTo(java.io.OutputStream)"><CODE>writeTo</CODE></A> method. So it
 is important to setup the cipher <i>before</i> writing to the stream!
 <p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>contentEA</CODE> - the algorithm to use for encrypting the content<DD><CODE>keyLength</CODE> - the key length that may be set when using a content
                  encryption algorithm that supports variable key lengths
<DT><B>Returns:</B><DD>the new symmetric key for encrypting the content
<DT><B>Throws:</B>
<DD><CODE>java.security.NoSuchAlgorithmException</CODE> - if there is no implementation for the specified algorithm</DL>
</DD>
</DL>
<HR>

<A NAME="setupCipher(iaik.asn1.structures.AlgorithmID, int, java.security.spec.AlgorithmParameterSpec)"><!-- --></A><H3>
setupCipher</H3>
<PRE>
public javax.crypto.SecretKey <B>setupCipher</B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;contentEA,
                                          int&nbsp;keyLength,
                                          java.security.spec.AlgorithmParameterSpec&nbsp;params)
                                   throws java.security.NoSuchAlgorithmException</PRE>
<DL>
<DD>Setups the cipher and generates a secret key for encrypting the content.
 <p>
 If the specified content encryption algorithm supports variable key lengths, a
 particular key length may be set by means of the <code>keyLength</code> parameter.
 If no length is specified, the defined default key length will be used. If the
 algorithm only works with keys of fixed-size length, the keyLength parameter
 may be set to -1 or the <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#setupCipher(iaik.asn1.structures.AlgorithmID)"><CODE>setupCipher(AlgorithmID)</CODE></A>
 method may be used.
 <p>
 This method creates a cipher for the specified content-encryption algorithm
 and initializes it with the newly generated secret key. The content encryption
 actually is performed during the encoding when writing this EncyrptedContentInfo
 to a stream by calling the <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#writeTo(java.io.OutputStream)"><CODE>writeTo</CODE></A> method. So it
 is important to setup the cipher <i>before</i> writing to the stream!
 <p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>contentEA</CODE> - the algorithm to use for encrypting the content<DD><CODE>keyLength</CODE> - the key length that may be set when using a content
                  encryption algorithm that supports variable key lengths<DD><CODE>params</CODE> - the algorithm parameters for initializing the cipher
<DT><B>Returns:</B><DD>the new symmetric key for encrypting the content
<DT><B>Throws:</B>
<DD><CODE>java.security.NoSuchAlgorithmException</CODE> - if there is no implementation for the specified algorithm</DL>
</DD>
</DL>
<HR>

<A NAME="setupCipher(iaik.asn1.structures.AlgorithmID, int, java.security.AlgorithmParameters)"><!-- --></A><H3>
setupCipher</H3>
<PRE>
public javax.crypto.SecretKey <B>setupCipher</B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;contentEA,
                                          int&nbsp;keyLength,
                                          java.security.AlgorithmParameters&nbsp;params)
                                   throws java.security.NoSuchAlgorithmException</PRE>
<DL>
<DD>Setups the cipher and generates a secret key for encrypting the content.
 <p>
 If the specified content encryption algorithm supports variable key lengths, a
 particular key length may be set by means of the <code>keyLength</code> parameter.
 If no length is specified, the defined default key length will be used. If the
 algorithm only works with keys of fixed-size length, the keyLength parameter
 may be set to -1 or the <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#setupCipher(iaik.asn1.structures.AlgorithmID)"><CODE>setupCipher(AlgorithmID)</CODE></A>
 method may be used.
 <p>
 This method creates a cipher for the specified content-encryption algorithm
 and initializes it with the newly generated secret key. The content encryption
 actually is performed during the encoding when writing this EncyrptedContentInfo
 to a stream by calling the <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#writeTo(java.io.OutputStream)"><CODE>writeTo</CODE></A> method. So it
 is important to setup the cipher <i>before</i> writing to the stream!
 <p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>contentEA</CODE> - the algorithm to use for encrypting the content<DD><CODE>keyLength</CODE> - the key length that may be set when using a content
                  encryption algorithm that supports variable key lengths<DD><CODE>params</CODE> - the algorithm parameters for initializing the cipher
<DT><B>Returns:</B><DD>the new symmetric key for encrypting the content
<DT><B>Throws:</B>
<DD><CODE>java.security.NoSuchAlgorithmException</CODE> - if there is no implementation for the specified algorithm</DL>
</DD>
</DL>
<HR>

<A NAME="setupCipher(java.security.Key, java.security.spec.AlgorithmParameterSpec)"><!-- --></A><H3>
setupCipher</H3>
<PRE>
public void <B>setupCipher</B>(java.security.Key&nbsp;key,
                        java.security.spec.AlgorithmParameterSpec&nbsp;params)
                 throws java.security.NoSuchAlgorithmException,
                        java.security.InvalidKeyException,
                        java.security.InvalidAlgorithmParameterException</PRE>
<DL>
<DD>Uses the specified key and paramters to setup the cipher for
 decrypting the content.
 <p>
 The decryption actually is performed when subsequently getting and reading
 the content by means of the <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#getInputStream()"><CODE>getInputStream</CODE></A>
 method. So the content should <i>not</i> be read <i>before</i> setting
 up the cipher!
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - the (secret) key to decrypt the content<DD><CODE>params</CODE> - the algorithm parameters needed to decrypt the content
<DT><B>Throws:</B>
<DD><CODE>java.security.NoSuchAlgorithmException</CODE> - if there is no implementation for the content-encryption-algorithm to be used
<DD><CODE>java.security.InvalidKeyException</CODE> - if the key is inappropriate for the content-encryption algorithm
<DD><CODE>java.security.InvalidAlgorithmParameterException</CODE> - if the provided parameters are not appropriate for the created cipher</DL>
</DD>
</DL>
<HR>

<A NAME="setupCipher(java.security.Key, java.security.AlgorithmParameters)"><!-- --></A><H3>
setupCipher</H3>
<PRE>
public void <B>setupCipher</B>(java.security.Key&nbsp;key,
                        java.security.AlgorithmParameters&nbsp;params)
                 throws java.security.NoSuchAlgorithmException,
                        java.security.InvalidKeyException,
                        java.security.InvalidAlgorithmParameterException</PRE>
<DL>
<DD>Uses the specified key and paramters to setup the cipher for
 decrypting the content.
 <p>
 The decryption actually is performed when subsequently getting and reading
 the content by means of the <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#getInputStream()"><CODE>getInputStream</CODE></A>
 method. So the content should not be read <i>before</i> setting
 up the cipher!
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - the (secret) key to decrypt the content<DD><CODE>params</CODE> - the algorithm parameters needed to decrypt the content
<DT><B>Throws:</B>
<DD><CODE>java.security.NoSuchAlgorithmException</CODE> - if there is no implementation for the content-encryption-algorithm to be used
<DD><CODE>java.security.InvalidKeyException</CODE> - if the key is inappropriate for the content-encryption algorithm
<DD><CODE>java.security.InvalidAlgorithmParameterException</CODE> - if the provided parameters are not appropriate for the created cipher</DL>
</DD>
</DL>
<HR>

<A NAME="setupCipher(java.security.Key)"><!-- --></A><H3>
setupCipher</H3>
<PRE>
public void <B>setupCipher</B>(java.security.Key&nbsp;key)
                 throws java.security.NoSuchAlgorithmException,
                        java.security.InvalidKeyException,
                        <A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A></PRE>
<DL>
<DD>Uses the specified content-encryption key to setup the cipher for
 decrypting the content.
 <p>
 The decryption actually is performed when subsequently getting and reading
 the content by means of the <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#getInputStream()"><CODE>getInputStream</CODE></A>
 method. So the content should not be read <i>before</i> setting
 up the cipher!
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - the (secret) key to decrypt the content
<DT><B>Throws:</B>
<DD><CODE>java.security.NoSuchAlgorithmException</CODE> - if there is no implementation for the content-encryption-algorithm to be used
<DD><CODE>java.security.InvalidKeyException</CODE> - if the key is inappropriate for the content-encryption algorithm
<DD><CODE><A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A></CODE> - if the algorithm parameter cannot be retrieved from the algorithm</DL>
</DD>
</DL>
<HR>

<A NAME="setBlockSize(int)"><!-- --></A><H3>
setBlockSize</H3>
<PRE>
public void <B>setBlockSize</B>(int&nbsp;blockSize)</PRE>
<DL>
<DD>Sets the block size for encoding the encrypted content.

 If <code>blockSize</code> is positive, the encrypted content is encoded
 as indefinite constructed octet string being composed of a certain number
 of definite primitive encoded octet strings of <code>blockSize</code> length:
 <pre>
 0x24 0x80
           0x04 &lt;blocksize&gt; &lt;first encrypted content block&gt;
           0x04 &lt;blocksize&gt; &lt;second encrypted content block&gt;
           0x04 &lt;blocksize&gt; &lt;third encrypted content block&gt;
                ...
 0x00 0x00
 </pre>
 If <code>blockSize</code> is not positive, whole the encrypted content is encoded
 as definite primitive octet string when calling the <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#writeTo(java.io.OutputStream)"><CODE>writeTo</CODE></A>
 method:
 <pre>
  0x04 &lt;length&gt; &lt;encrypted content&gt;
 </pre>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>blockSize</CODE> - the block size defining the encoding scheme - and specifying the
                  length of each primitive encoded octet string component, if positive</DL>
</DD>
</DL>
<HR>

<A NAME="getBlockSize()"><!-- --></A><H3>
getBlockSize</H3>
<PRE>
public int <B>getBlockSize</B>()</PRE>
<DL>
<DD>Gets the block size defining the length of each definite primitive
 encoded octet string component.
 <p>
 If the value of <code>blockSize</code> is smaller or equal to zero the
 whole data is encoded as definite primitive octet string.
 This method may be used for enforcing block encoding when wrapping the
 EncryptedData into a ContentInfo.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>blockSize defining the encoding scheme and setting the octet
        string component length, if positive</DL>
</DD>
</DL>
<HR>

<A NAME="toASN1Object()"><!-- --></A><H3>
toASN1Object</H3>
<PRE>
public <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ASN1Object.html" title="class or interface in iaik.asn1">ASN1Object</A> <B>toASN1Object</B>()
                        throws <A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A></PRE>
<DL>
<DD>Returns this EncryptedContentInfoStream as ASN1Object.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>this <code>EncryptedContentInfoStream</code> as ASN1Object.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="writeTo(java.io.OutputStream)"><!-- --></A><H3>
writeTo</H3>
<PRE>
public void <B>writeTo</B>(java.io.OutputStream&nbsp;os)
             throws java.io.IOException,
                    <A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A></PRE>
<DL>
<DD>Writes the BER encoding of this object to the given OutputStream.
 <p>
 When encoding the content data to the given stream it is piped through a
 cipher stream thereby performing the content encryption.
 <p>
 If the <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#setBlockSize(int)"><CODE>setBlockSize</CODE></A> method has been
 utilized for defining a positive <code>blockSize</code> value, the encrypted content
 is encoded as indefinite constructed octet string being composed of a certain number
 of definite primitive encoded octet strings of <code>blockSize</code> length:
 <pre>
 0x24 0x80
           0x04 &lt;blocksize&gt; &lt;first encrypted content block&gt;
           0x04 &lt;blocksize&gt; &lt;second encrypted content block&gt;
           0x04 &lt;blocksize&gt; &lt;third encrypted content block&gt;
                ...
 0x00 0x00
 </pre>
 Otherwise, whole the encrypted content is encoded
 as definite primitive octet string:
 <pre>
  0x04 &lt;length&gt; &lt;encrypted content&gt;
 </pre>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>os</CODE> - the OutputStream to which the encoding shall be written to
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if an I/O error occurs during writing to the OutputStream
<DD><CODE><A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A></CODE> - if an error occurs while encoding the object</DL>
</DD>
</DL>
<HR>

<A NAME="getContentType()"><!-- --></A><H3>
getContentType</H3>
<PRE>
public <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ObjectID.html" title="class or interface in iaik.asn1">ObjectID</A> <B>getContentType</B>()</PRE>
<DL>
<DD>Returns the type of the content encrypted by this EncryptedContentInfoStream.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the content type</DL>
</DD>
</DL>
<HR>

<A NAME="getContentEncryptionAlgorithm()"><!-- --></A><H3>
getContentEncryptionAlgorithm</H3>
<PRE>
public <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A> <B>getContentEncryptionAlgorithm</B>()</PRE>
<DL>
<DD>Returns the content-encryption algorithm (including any associated
 parameters) of this EncryptedContentInfoStream.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the content-encryption AlgorithmID</DL>
</DD>
</DL>
<HR>

<A NAME="getInputStream()"><!-- --></A><H3>
getInputStream</H3>
<PRE>
public java.io.InputStream <B>getInputStream</B>()</PRE>
<DL>
<DD>Returns an InputStream for reading the decrypted content.
 Attention! The stream only may be read once.
 <p>
 When having created a new <code>EncryptedContentInfoStream</code> object to
 be encoded to a stream, this method should not be utilized at all, since the stream
 automatically will be read during performing the encoding (which is done
 when calling the <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#writeTo(java.io.OutputStream)"><CODE>writeTo</CODE></A> method).
 <br>
 When having decoded and parsed a received <code>EncryptedContentInfoStream</code> object
 coming from some stream, this method may be used for obtaining the raw (decrypted) data
 after having done the cipher setup.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>an InputStream for reading the content data</DL>
</DD>
</DL>
<HR>

<A NAME="setInputStream(java.io.InputStream)"><!-- --></A><H3>
setInputStream</H3>
<PRE>
public void <B>setInputStream</B>(java.io.InputStream&nbsp;is)</PRE>
<DL>
<DD>Sets the input stream that supplies the content data to be encrypted.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>is</CODE> - the input stream holding the content data to encrypt</DL>
</DD>
</DL>
<HR>

<A NAME="hasContent()"><!-- --></A><H3>
hasContent</H3>
<PRE>
public boolean <B>hasContent</B>()</PRE>
<DL>
<DD>Returns <code>true</code> if there is a content.
<P>
<DD><DL>

<DT><B>Returns:</B><DD><code>true</code> if there is a content</DL>
</DD>
</DL>
<HR>

<A NAME="toString()"><!-- --></A><H3>
toString</H3>
<PRE>
public java.lang.String <B>toString</B>()</PRE>
<DL>
<DD>Returns a string giving some information about this
 <code>EncryptedContentInfoStream</code> object.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>toString</CODE> in class <CODE>java.lang.Object</CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the string representation</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<small>This Javadoc may contain text parts from text parts from IETF Internet Standard specifications (see <a href=../../RefCopyright.html#RFC>copyright</a> note).</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../iaik/cms/EncryptedContentInfo.html" title="class in iaik.cms"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../iaik/cms/EncryptedData.html" title="class in iaik.cms"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?iaik/cms/EncryptedContentInfoStream.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="EncryptedContentInfoStream.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<IMG SRC=../../siclogo.jpg> <IMG SRC=../../iaik_logo.gif> IAIK-CMS 5.1, (c) 2002 <A HREF="http://jce.iaik.tugraz.at/">IAIK</A>, (c) 2003 - 2010 <A HREF="http://jce.iaik.tugraz.at/">SIC</A>
</BODY>
</HTML>
