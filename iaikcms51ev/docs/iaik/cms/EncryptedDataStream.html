<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_09) on Wed Nov 02 19:19:12 GMT 2016 -->
<TITLE>
EncryptedDataStream (IAIK-CMS 5.1 API Documentation)
</TITLE>

<META NAME="keywords" CONTENT="iaik.cms.EncryptedDataStream class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="EncryptedDataStream (IAIK-CMS 5.1 API Documentation)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../iaik/cms/EncryptedDataOutputStream.html" title="class in iaik.cms"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../iaik/cms/EnvelopedData.html" title="class in iaik.cms"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?iaik/cms/EncryptedDataStream.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="EncryptedDataStream.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
iaik.cms</FONT>
<BR>
Class EncryptedDataStream</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>iaik.cms.EncryptedDataStream</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../iaik/cms/ContentStream.html" title="interface in iaik.cms">ContentStream</A>, <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/utils/EOFListener.html" title="class or interface in iaik.utils">EOFListener</A>, java.util.EventListener</DD>
</DL>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../iaik/cms/EncryptedData.html" title="class in iaik.cms">EncryptedData</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>EncryptedDataStream</B><DT>extends java.lang.Object<DT>implements <A HREF="../../iaik/cms/ContentStream.html" title="interface in iaik.cms">ContentStream</A>, <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/utils/EOFListener.html" title="class or interface in iaik.utils">EOFListener</A></DL>
</PRE>

<P>
This class represents the stream-supporting implementation of the CMS
 <code>EncryptedData</code> type.
 <p>
 Each CMS content type is associated with a specific object identifier,
 derived from:
 <p><PRE>
 pkcs-7 OBJECT IDENTIFIER ::=
   { iso(1) member-body(2) US(840) rsadsi(113549)
       pkcs(1) 7 }
 </PRE><p>
 The object identifier for the <code>EncryptedData</code> content type is
 defined as:
 <p><code>
 encryptedData OBJECT IDENTIFIER ::= { pkcs-7 6 }
 </code><p>
 which corresponds to the OID string "1.2.840.113549.1.7.6".
 <p>
 The Cryptographic Message Syntax (CMS) (<a href = "http://www.ietf.org/rfc/rfc5652.txt" target="_blank"> RFC 5652</a>) 
 specifies the <code>EncryptedData</code> content type for providing a syntax for building 
 encrypted contents. The encrypted-data content type consists of encrypted content of any type:
 <p><PRE>
 EncryptedData ::= SEQUENCE {
    version CMSVersion,
    encryptedContentInfo EncryptedContentInfo 
    unprotectedAttrs [1] IMPLICIT UnprotectedAttributes OPTIONAL }
 </PRE><p>
 The <code>encryptedContentInfo</code> field specifies the type of the content
 being encrypted, the content-encryption algorithm used for encrypting the content,
 and the result of the content encryption. If the encrypted content value
 is not present in the <code>encryptedContent</code> field, it has to be
 supplied by other means:
 <p><PRE>
 EncryptedContentInfo ::= SEQUENCE {
   contentType                 ContentType,
   contentEncryptionAlgorithm  ContentEncryptionAlgorithmIdentifier,
   encryptedContent            [0] IMPLICIT EncryptedContent OPTIONAL }
 <br>
 EncryptedContent ::= OCTET STRING
 </PRE><p>
 The key that is used for encrypting the content is not included in the
 <code>EncryptedData</code> structure, it is assumed to be managed by other
 means.
 <p>
 If unprotected attributes are present, the version number is 2; otherwise 0:
 <pre>
 UnprotectedAttributes ::= SET SIZE (1..MAX) OF Attribute
 </pre>
 <p>
 <hr>
 <p>
 When creating a new <code>EncryptedDataStream</code> instance
 the encrypted content has to be supplied as <A HREF="../../iaik/cms/EncryptedContentInfoStream.html" title="class in iaik.cms"><CODE>EncryptedContentInfoStream</CODE></A> object.
 <p>
 Example:
 <pre>
 //create a EncryptedContentInfoStream for the data to be encrypted, supplied from an input stream:
 InputStream dataStream = ...;
 EncryptedContentInfoStream eci = new EncryptedContentInfoStream(ObjectID.cms_data, dataStream);
 //generate secret key and set up the cipher for encryption:
 SecretKey key = eci.setupCipher((AlgorithmID)AlgorithmID.des_EDE3_CBC.clone());
 //create an EncryptedDataStream for the EncryptedContentInfoStream:
 EncryptedDataStream encrypted_data = new EncryptedDataStream(eci);
 //DER encode the <code>EncryptedDataStream</code> structure and write the encoding to an
 //output stream:
 OutputStream encoded_stream = ...;
 int blockSize = ...;
 encrypted_data.writeTo(encoded_stream, blockSize);
 </pre>
 If a positive blocksize is specified, the encrypted content of the inherent
 EncryptedContentInfoStream will be encoded as indefinite primitive
 octet string instead of using the default primitive definite encoding scheme:
 <pre>
 0x24 0x80
           0x04 &lt;blocksize&gt; &lt;first encrypted content block&gt;
           0x04 &lt;blocksize&gt; &lt;second encrypted content block&gt;
           0x04 &lt;blocksize&gt; &lt;third encrypted content block&gt;
                ...
 0x00 0x00
 </pre>
 instead of:
 <pre>
 0x04 &lt;length&gt; &lt;encrypted content&gt;
 </pre>
 The indefinte constrcuted encoding scheme may be preferable for properly handling large
 amounts of data.
 <p>
 Decrypting goes the reverse way: From the DER encoded <code>encryptedData</code>
 a new <code>EncryptedDataStream</code> is created and parsed for the inherent
 <code>EncryptedContentInfoStream</code>. From the <code>EncryptedContentInfoStream</code>
 the encrypted content is obtained and decrypted using the same secret key:
 <p><PRE>
 EncryptedDataStream encryptedData = new EncryptedDataStream(encoded_stream);
 EncryptedContentInfoStream eci =  (EncryptedContentInfoStream)encryptedData.getEncryptedContentInfo();
 //setup the cipher for decryption using the right secret key:
 eci.setupCipher(key);
 //get and read the data thereby actually performing the decryption
 InputStream data_is = eci.getInputStream();
 byte[] buf = new byte[1024];
 int r;
 while ((r = data_is.read(buf)) > 0) {
   // do something useful
 }
 </pre>
 <p>
 <hr>
 <p>
 This class additonally supports specific constructors and methods allowing to easily use
 the EncryptedData content type for password based encrypting data -- the intended
 usage of CMS EncryptedData. Please remark that the following proceeding only
 may be used when doing a password based encryption. In all other situations you
 have to follow the way described above. However, you also may create your
 own <code>EncryptedContentInfoStream</code> even when doing a PBE encryption.
 <p>
 If you want to use PBE encryption but not creating an <code>EncryptedContentInfoStream</code>
 by yourself you first have to supply the data to be read from an
 inputstream, subsequently setup the cipher for PBE-encryption and finally call
 a <code>writeTo</code> method for encoding the EncryptedData object to a stream:
 <ol>
 <li>Use the <A HREF="../../iaik/cms/EncryptedDataStream.html#EncryptedDataStream(java.io.InputStream, int)"><CODE>EncryptedDataStream(InputStream is, int blockSize)</CODE></A> constructor for creating
     a new <code>EncryptedDataStream</code> object and supplying the data to be
     encrypted from an inputstream. You optionally may define a particular
     <code>blockSize</code> value for splitting the encoding of the encrypted
     content:
     <pre>
     //the data to be encrypted supplied from an input stream:
     InputStream dataStream = ...;
     // the block size:
     int blockSize = ...;
     EncryptedDataStream encrypted_data = new EncryptedDataStream(dataStream, blockSize);
     </pre>
 <li>Setup the cipher for encryption by calling method <A HREF="../../iaik/cms/EncryptedDataStream.html#setupCipher(iaik.asn1.structures.AlgorithmID, char[])"><CODE>setupCipher(AlgorithmID contentEA, char[] password)</CODE></A> thereby specifying the PBE-algorithm to be
     used and the password, e.g.:
     <pre>
     AlgorithmID pbeAlgorithm = (AlgorithmID)AlgorithmID.pbeWithSHAAnd3_KeyTripleDES_CBC.clone();
     char[] password = ...;
     encrypted_data.setupCipher(pbeAlgorithm, password);
     </pre>
 <li>Use a proper <A HREF="../../iaik/cms/EncryptedDataStream.html#writeTo(java.io.OutputStream, int)"><CODE>writeTo</CODE></A> method for BER encoding the
     EncryptedData object and writing it to an output stream. If not yet done you optionally
     may specify a particular block size for splitting the encoding of encrypted content.
     <pre>
     int blockSize = ...;
     OutputStream encoded_stream = ...;
     encrypted_data.writeTo(encoded_stream, blockSize);
     </pre>
     respectively
     <pre>
     encryptped_data.writeTo(encoded_stream);
     </pre>
     It is recommended to use a positive block size value, because it is the intended purpose
     of this stream-supporting EncryptedData implementation to handle large amounts of data.
     When no block size is specified whole the encrypted content is encoded as primitive
     definite octet string, which  advantageously may be done when using the non-stream
     supporting  <A HREF="../../iaik/cms/EncryptedData.html" title="class in iaik.cms"><CODE>EncryptedData</CODE></A> implementation.
     When a positve block size is specified for encoding the EncryptedData to a stream,
     the encrypted content is BER encoded as indefinite constructed octet string being composed
     of a series of definite primitive encoded octet strings of <code>blockSize</code> length.
 </ol>
 For parsing the EncryptedData object and recovering the original content, first use the
 <A HREF="../../iaik/cms/EncryptedDataStream.html#EncryptedDataStream(java.io.InputStream)"><CODE>EncryptedDataStream(InputStream is)</CODE></A>
 constructor to parse the internal structure. Before reading the recovered content by
 means of the <A HREF="../../iaik/cms/EncryptedDataStream.html#getInputStream()"><CODE>getInputStream</CODE></A> method, the cipher has to be
 initialized for decryption with the password by calling the <A HREF="../../iaik/cms/EncryptedDataStream.html#setupCipher(char[])"><CODE>setupCipher(char[] password)</CODE></A> method:
 <ol>
 <li>Create an EncryptedData structure from the input stream supplying the BER
     encoded EncryptedData:
     <pre>
     InputStream encoded_stream = ...;
     EncryptedDataStream encrypted_data = new EncryptedData(encoded_stream);
     </pre>
 <li>Get information about the inherent EncryptedContentInfo:
     <pre>
     EncryptedContentInfoStream eci = encrypted_data.getEncryptedContentInfo();
     System.out.println("Content type: "+eci.getContentType().getName());
     System.out.println("Content encryption algorithm: "+eci.getContentEncryptionAlgorithm().getName());
     </pre>
 <li>Specify the passord for initializing the cipher for encrypted-content decryption:
     <pre>
     char[] password = ...;
     encrypted_data.setupCipher(password);
     </pre>
     Unlike the non-stream supporting <A HREF="../../iaik/cms/EncryptedData.html" title="class in iaik.cms"><CODE>EncryptedData</CODE></A> class where the encrypted-content decryption
     already is performed inside the <code>setupCipher</code> method, the cipher
     will be only initialized for decryption in this class. The encrypted-content
     decryption actually is done during reading the data obtained by calling the
     <A HREF="../../iaik/cms/EncryptedDataStream.html#getInputStream()"><CODE>getInputStream</CODE></A> method. So do not call
     <code>getInputStream</code> before setting up the cipher!
     <p>
 <li>Get and read the recovered content:
     <pre>
     InputStream data_is = encrypted_data.getInputStream();
     byte[] buf = new byte[1024];
     int r;
     while ((r = data_is.read(buf)) > 0) {
        // do something useful
     }
     </pre>
 </ol>
 <p>
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../iaik/cms/EncryptedContentInfoStream.html" title="class in iaik.cms"><CODE>EncryptedContentInfoStream</CODE></A></DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#blockSize_">blockSize_</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The block size for block oriented stream encoding.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../iaik/cms/EncryptedContentInfoStream.html" title="class in iaik.cms">EncryptedContentInfoStream</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#encryptedContentInfo_">encryptedContentInfo_</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The inherent encrypted content info.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../iaik/cms/SecurityProvider.html" title="class in iaik.cms">SecurityProvider</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#securityProvider_">securityProvider_</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The SecurityProvider responsible for cryptographic operations.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/Attribute.html" title="class or interface in iaik.asn1.structures">Attribute</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#unprotectedAttrs_">unprotectedAttrs_</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Optional unprotected attributes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#version_">version_</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The CMS version number.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#EncryptedDataStream()">EncryptedDataStream</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default constructor for dynamic object creation in ContentInfoStream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#EncryptedDataStream(iaik.cms.EncryptedContentInfoStream)">EncryptedDataStream</A></B>(<A HREF="../../iaik/cms/EncryptedContentInfoStream.html" title="class in iaik.cms">EncryptedContentInfoStream</A>&nbsp;encryptedContentInfo)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a CMS EncryptedDataStream from an EncryptedContentInfoStream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#EncryptedDataStream(java.io.InputStream)">EncryptedDataStream</A></B>(java.io.InputStream&nbsp;is)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new EncryptedDataStream from a BER encoded EncryptedData which 
 is read from the given InputStream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#EncryptedDataStream(java.io.InputStream, int)">EncryptedDataStream</A></B>(java.io.InputStream&nbsp;is,
                    int&nbsp;blockSize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new CMS EncryptedDataStream object where the content to be
 encrypted is read from the supplied InputStream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#EncryptedDataStream(iaik.asn1.ObjectID, java.io.InputStream, int)">EncryptedDataStream</A></B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ObjectID.html" title="class or interface in iaik.asn1">ObjectID</A>&nbsp;contentType,
                    java.io.InputStream&nbsp;is,
                    int&nbsp;blockSize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new CMS EncryptedDataStream object where the content to be
 encrypted is read from the supplied InputStream.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#decode(java.io.InputStream)">decode</A></B>(java.io.InputStream&nbsp;is)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reads and decodes an encoded EncryptedDataStream from an input stream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#getBlockSize()">getBlockSize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the block size defining the length of each definite primitive
 encoded octet string component.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ObjectID.html" title="class or interface in iaik.asn1">ObjectID</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#getContentType()">getContentType</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the content type this class implements.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../iaik/cms/EncryptedContentInfoStream.html" title="class in iaik.cms">EncryptedContentInfoStream</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#getEncryptedContentInfo()">getEncryptedContentInfo</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the encrypted content info of this <code>EncryptedDataStream</code>
 object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.io.InputStream</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#getInputStream()">getInputStream</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an InputStream from where the decrypted data can be read.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../iaik/cms/SecurityProvider.html" title="class in iaik.cms">SecurityProvider</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#getSecurityProvider()">getSecurityProvider</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the SecurityProvider installed for this EncryptedDataStream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/Attribute.html" title="class or interface in iaik.asn1.structures">Attribute</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#getUnprotectedAttribute(iaik.asn1.ObjectID)">getUnprotectedAttribute</A></B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ObjectID.html" title="class or interface in iaik.asn1">ObjectID</A>&nbsp;oid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the first unprotected attribute matching to the given ObjectID, if 
 included in this EncryptedData object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/Attribute.html" title="class or interface in iaik.asn1.structures">Attribute</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#getUnprotectedAttributes()">getUnprotectedAttributes</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the unprotected attributes included in this EnvelopedData.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#getVersion()">getVersion</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the syntax version number.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#notifyEOF()">notifyEOF</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method implements the EOFListener interface for performing the final decoding.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#setBlockSize(int)">setBlockSize</A></B>(int&nbsp;blockSize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the block size for defining the length of each definite primitive
 encoded octet string component.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#setInputStream(java.io.InputStream)">setInputStream</A></B>(java.io.InputStream&nbsp;is)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the input stream that supplies the content data to be encrypted.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#setSecurityProvider(iaik.cms.SecurityProvider)">setSecurityProvider</A></B>(<A HREF="../../iaik/cms/SecurityProvider.html" title="class in iaik.cms">SecurityProvider</A>&nbsp;securityProvider)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the SecurityProvider for this EncryptedDataStream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#setUnprotectedAttributes(iaik.asn1.structures.Attribute[])">setUnprotectedAttributes</A></B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/Attribute.html" title="class or interface in iaik.asn1.structures">Attribute</A>[]&nbsp;attributes)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets a set of (unprotected) attributes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#setupCipher(iaik.asn1.structures.AlgorithmID, char[])">setupCipher</A></B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;contentEA,
            char[]&nbsp;password)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Setups the cipher for PBE-encrypting the content.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#setupCipher(iaik.asn1.structures.AlgorithmID, char[], int)">setupCipher</A></B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;contentEA,
            char[]&nbsp;password,
            int&nbsp;iterationCount)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Setups the cipher for PBE-encrypting the content.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#setupCipher(iaik.asn1.structures.AlgorithmID, java.security.Key, java.security.spec.AlgorithmParameterSpec)">setupCipher</A></B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;contentEA,
            java.security.Key&nbsp;key,
            java.security.spec.AlgorithmParameterSpec&nbsp;paramSpec)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Setups the cipher for encrypting the content with the given secret
 key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#setupCipher(char[])">setupCipher</A></B>(char[]&nbsp;password)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uses the given password to setup the cipher for decrypting the content.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#setupCipher(java.security.Key)">setupCipher</A></B>(java.security.Key&nbsp;key)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uses the given key to setup the cipher for decrypting the content.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ASN1Object.html" title="class or interface in iaik.asn1">ASN1Object</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#toASN1Object()">toASN1Object</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns this CMS EnvelopedDataStream as ASN1Object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ASN1Object.html" title="class or interface in iaik.asn1">ASN1Object</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#toASN1Object(int)">toASN1Object</A></B>(int&nbsp;blockSize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns this CMS <code>EncryptedData</code> as ASN1Object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#toString()">toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a string giving some information about this
 <code>EncryptedDataStream</code> object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#toString(boolean)">toString</A></B>(boolean&nbsp;detailed)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a string giving some - if requested - detailed information
 about this <code>EncryptedDataStream</code> object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#writeTo(java.io.OutputStream)">writeTo</A></B>(java.io.OutputStream&nbsp;os)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BER encodes and writes this EnvelopedData to the supplied output stream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/EncryptedDataStream.html#writeTo(java.io.OutputStream, int)">writeTo</A></B>(java.io.OutputStream&nbsp;os,
        int&nbsp;blockSize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Writes this EncryptedData encoded to the supplied output stream.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="version_"><!-- --></A><H3>
version_</H3>
<PRE>
protected int <B>version_</B></PRE>
<DL>
<DD>The CMS version number.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="blockSize_"><!-- --></A><H3>
blockSize_</H3>
<PRE>
protected int <B>blockSize_</B></PRE>
<DL>
<DD>The block size for block oriented stream encoding.
 (Default: 2048 to enforce indefinite constructed encoding).
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="encryptedContentInfo_"><!-- --></A><H3>
encryptedContentInfo_</H3>
<PRE>
protected <A HREF="../../iaik/cms/EncryptedContentInfoStream.html" title="class in iaik.cms">EncryptedContentInfoStream</A> <B>encryptedContentInfo_</B></PRE>
<DL>
<DD>The inherent encrypted content info.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="unprotectedAttrs_"><!-- --></A><H3>
unprotectedAttrs_</H3>
<PRE>
protected <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/Attribute.html" title="class or interface in iaik.asn1.structures">Attribute</A>[] <B>unprotectedAttrs_</B></PRE>
<DL>
<DD>Optional unprotected attributes.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="securityProvider_"><!-- --></A><H3>
securityProvider_</H3>
<PRE>
protected <A HREF="../../iaik/cms/SecurityProvider.html" title="class in iaik.cms">SecurityProvider</A> <B>securityProvider_</B></PRE>
<DL>
<DD>The SecurityProvider responsible for cryptographic operations.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="EncryptedDataStream()"><!-- --></A><H3>
EncryptedDataStream</H3>
<PRE>
protected <B>EncryptedDataStream</B>()</PRE>
<DL>
<DD>Default constructor for dynamic object creation in ContentInfoStream.
 The block size is set to 2048 to enforce indefinite constructed encoding.
<P>
</DL>
<HR>

<A NAME="EncryptedDataStream(iaik.cms.EncryptedContentInfoStream)"><!-- --></A><H3>
EncryptedDataStream</H3>
<PRE>
public <B>EncryptedDataStream</B>(<A HREF="../../iaik/cms/EncryptedContentInfoStream.html" title="class in iaik.cms">EncryptedContentInfoStream</A>&nbsp;encryptedContentInfo)</PRE>
<DL>
<DD>Creates a CMS EncryptedDataStream from an EncryptedContentInfoStream.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>encryptedContentInfo</CODE> - the already created encrypted content info</DL>
</DL>
<HR>

<A NAME="EncryptedDataStream(java.io.InputStream, int)"><!-- --></A><H3>
EncryptedDataStream</H3>
<PRE>
public <B>EncryptedDataStream</B>(java.io.InputStream&nbsp;is,
                           int&nbsp;blockSize)</PRE>
<DL>
<DD>Creates a new CMS EncryptedDataStream object where the content to be
 encrypted is read from the supplied InputStream.
 The content type is set to CMS <b>Data</b>.
 <p>
 This constructor only shall be used when intending to PBE encrypt the
 data by subsequently calling method <A HREF="../../iaik/cms/EncryptedDataStream.html#setupCipher(iaik.asn1.structures.AlgorithmID, char[], int)"><CODE>setupCipher</CODE></A> thereby supplying PBE-algorithm and
 password to be used.
 <br>
 This constructor shall not be used in situations where the desired content
 encryption algorithm is not a PBE algorithm. In such cases the <A HREF="../../iaik/cms/EncryptedDataStream.html#EncryptedDataStream(iaik.cms.EncryptedContentInfoStream)"><CODE>EncryptedDataStream(EncryptedContentInfoStream)</CODE></A>
 constructor shall be used to be supplied with a precomputed EncryptedContentInfo.
 Consult the <A HREF="../../iaik/cms/EncryptedContentInfoStream.html" title="class in iaik.cms"><CODE>EncryptedContentInfoStream</CODE></A> class documentation for more information about
 EncryptedContentInfo handling.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>is</CODE> - the InputStream containing the data to encrypt<DD><CODE>blockSize</CODE> - for defining the encoding scheme and setting the octet
        string component length, if positive</DL>
</DL>
<HR>

<A NAME="EncryptedDataStream(iaik.asn1.ObjectID, java.io.InputStream, int)"><!-- --></A><H3>
EncryptedDataStream</H3>
<PRE>
public <B>EncryptedDataStream</B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ObjectID.html" title="class or interface in iaik.asn1">ObjectID</A>&nbsp;contentType,
                           java.io.InputStream&nbsp;is,
                           int&nbsp;blockSize)</PRE>
<DL>
<DD>Creates a new CMS EncryptedDataStream object where the content to be
 encrypted is read from the supplied InputStream.
 The content type is set to CMS <b>Data</b>.
 <p>
 This constructor only shall be used when intending to PBE encrypt the
 data by subsequently calling method <A HREF="../../iaik/cms/EncryptedDataStream.html#setupCipher(iaik.asn1.structures.AlgorithmID, char[], int)"><CODE>setupCipher</CODE></A> thereby supplying PBE-algorithm and
 password to be used.
 <br>
 This constructor shall not be used in situations where the desired content
 encryption algorithm is not a PBE algorithm. In such cases the <A HREF="../../iaik/cms/EncryptedDataStream.html#EncryptedDataStream(iaik.cms.EncryptedContentInfoStream)"><CODE>EncryptedDataStream(EncryptedContentInfoStream)</CODE></A>
 constructor shall be used to be supplied with a precomputed EncryptedContentInfo.
 Consult the <A HREF="../../iaik/cms/EncryptedContentInfoStream.html" title="class in iaik.cms"><CODE>EncryptedContentInfoStream</CODE></A> class documentation for more information about
 EncryptedContentInfo handling.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>contentType</CODE> - the content type of the data to be encrypted<DD><CODE>is</CODE> - the InputStream containing the data to encrypt<DD><CODE>blockSize</CODE> - for defining the encoding scheme and setting the octet
        string component length, if positive</DL>
</DL>
<HR>

<A NAME="EncryptedDataStream(java.io.InputStream)"><!-- --></A><H3>
EncryptedDataStream</H3>
<PRE>
public <B>EncryptedDataStream</B>(java.io.InputStream&nbsp;is)
                    throws java.io.IOException,
                           <A HREF="../../iaik/cms/CMSParsingException.html" title="class in iaik.cms">CMSParsingException</A></PRE>
<DL>
<DD>Creates a new EncryptedDataStream from a BER encoded EncryptedData which 
 is read from the given InputStream. The encoded
 EncryptedData may (or may not) be wrapped into a ContentInfo.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>is</CODE> - the InputStream holding a BER encoded EncryptedDataStream object
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if an I/O error occurs during reading from the InputStream
<DD><CODE><A HREF="../../iaik/cms/CMSParsingException.html" title="class in iaik.cms">CMSParsingException</A></CODE> - if an error occurs while parsing the object</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="setSecurityProvider(iaik.cms.SecurityProvider)"><!-- --></A><H3>
setSecurityProvider</H3>
<PRE>
public void <B>setSecurityProvider</B>(<A HREF="../../iaik/cms/SecurityProvider.html" title="class in iaik.cms">SecurityProvider</A>&nbsp;securityProvider)</PRE>
<DL>
<DD>Sets the SecurityProvider for this EncryptedDataStream.
 <p>
 This method allows to explicitly set a SecurityProvider for this EncryptedDataStream.
 If no explicit SecurityProvider is set, the default system wide installed 
 SecurityProvider will be used for the required cryptographic operations.
 <p>
 This class uses the following method(s) of the <A HREF="../../iaik/cms/SecurityProvider.html" title="class in iaik.cms"><CODE>SecurityProvider</CODE></A>, which may be overriden by an application, if required:
 <ul>
 <li><code><A HREF="../../iaik/cms/SecurityProvider.html#getPBEKey(char[], iaik.asn1.structures.AlgorithmID)"><CODE>getPBEKey</CODE></A></code>
     to convert a password into a SecretKey object
 <li><code><A HREF="../../iaik/cms/SecurityProvider.html#getInputStreamCipherEngine(iaik.asn1.structures.AlgorithmID, int, java.security.Key, java.security.AlgorithmParameters)"><CODE>getInputStreamCipherEngine</CODE></A></code>
     methods to get an <A HREF="../../iaik/cms/InputStreamCipherEngine.html" title="interface in iaik.cms"><CODE>InputStreamCipherEngine</CODE></A>
     for stream based content en/decryption as used by the inherent EncryptedContentInfoStream
 <li><code><A HREF="../../iaik/cms/SecurityProvider.html#getByteArrayCipherEngine(iaik.asn1.structures.AlgorithmID, int, java.security.Key, java.security.AlgorithmParameters)"><CODE>getByteArrayCipherEngine</CODE></A></code>
     methods to get a <A HREF="../../iaik/cms/ByteArrayCipherEngine.html" title="interface in iaik.cms"><CODE>ByteArrayCipherEngine</CODE></A>
     for content en/decryption for non-stream <A HREF="../../iaik/cms/EncryptedData.html" title="class in iaik.cms"><CODE>EncryptedData</CODE></A> objects
 <li><code><A HREF="../../iaik/cms/SecurityProvider.html#generateKey(iaik.asn1.structures.AlgorithmID, java.security.spec.AlgorithmParameterSpec)"><CODE>generateKey</CODE></A></code>
     to generate the symmetric content encryption key as used by the inherent EncryptedContentInfo
 <li><code><A HREF="../../iaik/cms/SecurityProvider.html#getAlgorithmParameters(iaik.asn1.structures.AlgorithmID)"><CODE>getAlgorithmParameters</CODE></A></code>
     to parse algorithm parameters from an AlgorithmID as used by the inherent EncryptedContentInfo
 </ul>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>securityProvider</CODE> - the SecurityProvider to be set</DL>
</DD>
</DL>
<HR>

<A NAME="getSecurityProvider()"><!-- --></A><H3>
getSecurityProvider</H3>
<PRE>
public <A HREF="../../iaik/cms/SecurityProvider.html" title="class in iaik.cms">SecurityProvider</A> <B>getSecurityProvider</B>()</PRE>
<DL>
<DD>Gets the SecurityProvider installed for this EncryptedDataStream.
 <p>
 This class uses the following method(s) of the <A HREF="../../iaik/cms/SecurityProvider.html" title="class in iaik.cms"><CODE>SecurityProvider</CODE></A>, which may be overriden by an application, if required:
 <ul>
 <li><code><A HREF="../../iaik/cms/SecurityProvider.html#getPBEKey(char[], iaik.asn1.structures.AlgorithmID)"><CODE>getPBEKey</CODE></A></code>
     to convert a password into a SecretKey object
 <li><code><A HREF="../../iaik/cms/SecurityProvider.html#getInputStreamCipherEngine(iaik.asn1.structures.AlgorithmID, int, java.security.Key, java.security.AlgorithmParameters)"><CODE>getInputStreamCipherEngine</CODE></A></code>
     methods to get an <A HREF="../../iaik/cms/InputStreamCipherEngine.html" title="interface in iaik.cms"><CODE>InputStreamCipherEngine</CODE></A>
     for stream based content en/decryption as used by the inherent EncryptedContentInfoStream
 <li><code><A HREF="../../iaik/cms/SecurityProvider.html#getByteArrayCipherEngine(iaik.asn1.structures.AlgorithmID, int, java.security.Key, java.security.AlgorithmParameters)"><CODE>getByteArrayCipherEngine</CODE></A></code>
     methods to get a <A HREF="../../iaik/cms/ByteArrayCipherEngine.html" title="interface in iaik.cms"><CODE>ByteArrayCipherEngine</CODE></A>
     for content en/decryption for non-stream <A HREF="../../iaik/cms/EncryptedData.html" title="class in iaik.cms"><CODE>EncryptedData</CODE></A> objects
 <li><code><A HREF="../../iaik/cms/SecurityProvider.html#generateKey(iaik.asn1.structures.AlgorithmID, java.security.spec.AlgorithmParameterSpec)"><CODE>generateKey</CODE></A></code>
     to generate the symmetric content encryption key as used by the inherent EncryptedContentInfo
 <li><code><A HREF="../../iaik/cms/SecurityProvider.html#getAlgorithmParameters(iaik.asn1.structures.AlgorithmID)"><CODE>getAlgorithmParameters</CODE></A></code>
     to parse algorithm parameters from an AlgorithmID as used by the inherent EncryptedContentInfo
 </ul>
 If no explicit SecurityProvider has been <A HREF="../../iaik/cms/EncryptedDataStream.html#setSecurityProvider(iaik.cms.SecurityProvider)"><CODE>set</CODE></A> for this object, 
 the default system wide installed SecurityProvider will be used for the required cryptographic
 operations. However, this method will return <code>null</code> if it does not have its own
 SecurityProvider.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the SecurityProvider explicitly installed for this object, or <code>null</code> if
         this object does not have its own SecurityProvider</DL>
</DD>
</DL>
<HR>

<A NAME="setBlockSize(int)"><!-- --></A><H3>
setBlockSize</H3>
<PRE>
public void <B>setBlockSize</B>(int&nbsp;blockSize)</PRE>
<DL>
<DD>Sets the block size for defining the length of each definite primitive
 encoded octet string component.
 If the value of <code>blockSize</code> is smaller or equal to zero the
 whole data is encoded as definite primitive octet string.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../iaik/cms/ContentStream.html#setBlockSize(int)">setBlockSize</A></CODE> in interface <CODE><A HREF="../../iaik/cms/ContentStream.html" title="interface in iaik.cms">ContentStream</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>blockSize</CODE> - for defining the encoding scheme and setting the octet
        string component length, if positive</DL>
</DD>
</DL>
<HR>

<A NAME="getBlockSize()"><!-- --></A><H3>
getBlockSize</H3>
<PRE>
public int <B>getBlockSize</B>()</PRE>
<DL>
<DD>Gets the block size defining the length of each definite primitive
 encoded octet string component.
 If the value of <code>blockSize</code> is smaller or equal to zero the
 whole data is encoded as definite primitive octet string.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../iaik/cms/ContentStream.html#getBlockSize()">getBlockSize</A></CODE> in interface <CODE><A HREF="../../iaik/cms/ContentStream.html" title="interface in iaik.cms">ContentStream</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>blockSize defining the encoding scheme and setting the octet
        string component length, if positive</DL>
</DD>
</DL>
<HR>

<A NAME="decode(java.io.InputStream)"><!-- --></A><H3>
decode</H3>
<PRE>
public void <B>decode</B>(java.io.InputStream&nbsp;is)
            throws java.io.IOException,
                   <A HREF="../../iaik/cms/CMSParsingException.html" title="class in iaik.cms">CMSParsingException</A></PRE>
<DL>
<DD>Reads and decodes an encoded EncryptedDataStream from an input stream.
 The encoded EncryptedData may (or may not) be wrapped into a ContentInfo.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../iaik/cms/ContentStream.html#decode(java.io.InputStream)">decode</A></CODE> in interface <CODE><A HREF="../../iaik/cms/ContentStream.html" title="interface in iaik.cms">ContentStream</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>is</CODE> - the InputStream supplying an encoded EncryptedData object
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if an I/O error occurs during reading from the InputStream
<DD><CODE><A HREF="../../iaik/cms/CMSParsingException.html" title="class in iaik.cms">CMSParsingException</A></CODE> - if an error occurs while parsing the object</DL>
</DD>
</DL>
<HR>

<A NAME="setupCipher(iaik.asn1.structures.AlgorithmID, char[])"><!-- --></A><H3>
setupCipher</H3>
<PRE>
public void <B>setupCipher</B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;contentEA,
                        char[]&nbsp;password)
                 throws java.security.NoSuchAlgorithmException,
                        java.security.InvalidKeyException</PRE>
<DL>
<DD>Setups the cipher for PBE-encrypting the content.
 <br>
 This method may be used to setup the cipher for PBE-encrypting
 the content that has been supplied when creating the <code>EncryptedDataStream</code>
 object by means of the <A HREF="../../iaik/cms/EncryptedDataStream.html#EncryptedDataStream(java.io.InputStream, int)"><CODE>EncryptedDataStream(InputStream is, int blockSize)</CODE></A> constructor.
 The content encryption actually is performed during the encoding when
 writing this EncyrptedData to a stream by calling the <A HREF="../../iaik/cms/EncryptedDataStream.html#writeTo(java.io.OutputStream)"><CODE>writeTo</CODE></A> method. So it is important to setup the cipher <i>before</i> writing to
 the stream!
 <br>
 When using this method the iteration count used to derive the secret
 content encryption key from the password is set to 2000. If you want
 to use a different iteration count value, use method <A HREF="../../iaik/cms/EncryptedDataStream.html#setupCipher(iaik.asn1.structures.AlgorithmID, char[], int)"><CODE>setupCipher(AlgorithmID, char[], int)</CODE></A>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>contentEA</CODE> - the PBE-algorithm to be used<DD><CODE>password</CODE> - the password
<DT><B>Throws:</B>
<DD><CODE>java.security.NoSuchAlgorithmException</CODE> - if the algorithm is not supported
<DD><CODE>java.security.InvalidKeyException</CODE> - if the key cannot be derived from the password</DL>
</DD>
</DL>
<HR>

<A NAME="setupCipher(iaik.asn1.structures.AlgorithmID, char[], int)"><!-- --></A><H3>
setupCipher</H3>
<PRE>
public void <B>setupCipher</B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;contentEA,
                        char[]&nbsp;password,
                        int&nbsp;iterationCount)
                 throws java.security.NoSuchAlgorithmException,
                        java.security.InvalidKeyException</PRE>
<DL>
<DD>Setups the cipher for PBE-encrypting the content.
 <br>
 This method  may be used to setup the cipher for PBE-encrypting the content
 that has been supplied when creating the <code>EncryptedDataStream</code>
 object by means of the <A HREF="../../iaik/cms/EncryptedDataStream.html#EncryptedDataStream(java.io.InputStream, int)"><CODE>EncryptedDataStream(InputStream is, int blockSize)</CODE></A> constructor.
 The content encryption actually is performed during the encoding when
 writing this EncyrptedData to a stream by calling the <A HREF="../../iaik/cms/EncryptedDataStream.html#writeTo(java.io.OutputStream)"><CODE>writeTo</CODE></A> method. So it is important to setup the cipher <i>before</i> writing to
 the stream!
 <p>
 This method has an additional parameter: iterationCount. When deriving
 the symmetric key and the IV a hash is calculated iterationCount times
 on the password and on the salt for increasing the cost for breaking
 the cipher using brute force methods. The default iteration count value
 is 2000.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>contentEA</CODE> - the PBE-algorithm to be used<DD><CODE>password</CODE> - the password<DD><CODE>iterationCount</CODE> - the iteration count for key derivation
<DT><B>Throws:</B>
<DD><CODE>java.security.NoSuchAlgorithmException</CODE> - if the algorithm is not supported
<DD><CODE>java.security.InvalidKeyException</CODE> - if the key cannot be derived from the password</DL>
</DD>
</DL>
<HR>

<A NAME="setupCipher(iaik.asn1.structures.AlgorithmID, java.security.Key, java.security.spec.AlgorithmParameterSpec)"><!-- --></A><H3>
setupCipher</H3>
<PRE>
public void <B>setupCipher</B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;contentEA,
                        java.security.Key&nbsp;key,
                        java.security.spec.AlgorithmParameterSpec&nbsp;paramSpec)
                 throws java.security.NoSuchAlgorithmException,
                        java.security.InvalidKeyException</PRE>
<DL>
<DD>Setups the cipher for encrypting the content with the given secret
 key.
 <br>
 This method may be used to setup the cipher for encrypting the content
 that has been supplied when creating the <code>EncryptedDataStream</code>
 object by means of the <A HREF="../../iaik/cms/EncryptedDataStream.html#EncryptedDataStream(java.io.InputStream, int)"><CODE>EncryptedDataStream(InputStream is, int blockSize)</CODE></A> constructor.
 The content encryption actually is performed during the encoding when
 writing this EncyrptedData to a stream by calling the <A HREF="../../iaik/cms/EncryptedDataStream.html#writeTo(java.io.OutputStream)"><CODE>writeTo</CODE></A> method. So it is important to setup the cipher <i>before</i> writing to
 the stream!
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>contentEA</CODE> - the content encryption algorithm to be used<DD><CODE>key</CODE> - the content encryption key to be used<DD><CODE>paramSpec</CODE> - any required parameters (maybe <code>null</code> if no parameters
                  are required or you want to let the cipher create the paramters
                  (e.g. iv)
<DT><B>Throws:</B>
<DD><CODE>java.security.NoSuchAlgorithmException</CODE> - if the algorithm is not supported
<DD><CODE>java.security.InvalidKeyException</CODE> - if the key cannot be derived from the password</DL>
</DD>
</DL>
<HR>

<A NAME="setupCipher(char[])"><!-- --></A><H3>
setupCipher</H3>
<PRE>
public void <B>setupCipher</B>(char[]&nbsp;password)
                 throws java.security.NoSuchAlgorithmException,
                        java.security.InvalidAlgorithmParameterException,
                        java.security.spec.InvalidParameterSpecException,
                        java.security.InvalidKeyException</PRE>
<DL>
<DD>Uses the given password to setup the cipher for decrypting the content.
 <p>
 Unlike the non-stream supporting <A HREF="../../iaik/cms/EncryptedData.html" title="class in iaik.cms"><CODE>EncryptedData</CODE></A> class where the encrypted-content decryption
 already is performed inside the <code>setupCipher</code> method, the cipher
 will be only initialized for decrypting in this class. The encrypted-content
 decryption actually is done during reading the data obtained by calling the
 <A HREF="../../iaik/cms/EncryptedDataStream.html#getInputStream()"><CODE>getInputStream</CODE></A> method. So do not call
 <code>getInputStream</code> before setting up the cipher!
 <p>
 <b>Attention!</b> This method only can be used when the content
 has been encrypted using a PBE cipher. Otherwise the <A HREF="../../iaik/cms/EncryptedContentInfoStream.html#setupCipher(java.security.Key, java.security.spec.AlgorithmParameterSpec)"><CODE>setupCipher(Key key, AlgorithmParameterSpec)</CODE></A> method of the <A HREF="../../iaik/cms/EncryptedContentInfoStream.html" title="class in iaik.cms"><CODE>EncryptedContentInfoStream</CODE></A>
 class has to be used to setup the cipher for content decryption.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>password</CODE> - the password
<DT><B>Throws:</B>
<DD><CODE>java.security.NoSuchAlgorithmException</CODE> - if the algorithm is not supported
<DD><CODE>java.security.InvalidKeyException</CODE> - if the key cannot be derived from the password
<DD><CODE>java.security.InvalidAlgorithmParameterException</CODE> - if the paramters cannot be retrieved
                                               from the algorithm ID
<DD><CODE>java.security.spec.InvalidParameterSpecException</CODE> - if the paramters cannot be set up</DL>
</DD>
</DL>
<HR>

<A NAME="setupCipher(java.security.Key)"><!-- --></A><H3>
setupCipher</H3>
<PRE>
public void <B>setupCipher</B>(java.security.Key&nbsp;key)
                 throws java.security.NoSuchAlgorithmException,
                        java.security.InvalidKeyException</PRE>
<DL>
<DD>Uses the given key to setup the cipher for decrypting the content.
 <p>
 Unlike the non-stream supporting <A HREF="../../iaik/cms/EncryptedData.html" title="class in iaik.cms"><CODE>EncryptedData</CODE></A> class where the encrypted-content decryption
 already is performed inside the <code>setupCipher</code> method, the cipher
 will be only initialized for decrypting in this method. The encrypted-content
 decryption actually is done during reading the data obtained by calling the
 <A HREF="../../iaik/cms/EncryptedDataStream.html#getInputStream()"><CODE>getInputStream</CODE></A> method. So do not call
 <code>getInputStream</code> before setting up the cipher!
 <p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - the key to be used for decrypting the encrypted content
<DT><B>Throws:</B>
<DD><CODE>java.security.NoSuchAlgorithmException</CODE> - if the algorithm is not supported
<DD><CODE>java.security.InvalidKeyException</CODE> - if the cipher cannot be setup for decryption 
                                with the given key</DL>
</DD>
</DL>
<HR>

<A NAME="setUnprotectedAttributes(iaik.asn1.structures.Attribute[])"><!-- --></A><H3>
setUnprotectedAttributes</H3>
<PRE>
public void <B>setUnprotectedAttributes</B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/Attribute.html" title="class or interface in iaik.asn1.structures">Attribute</A>[]&nbsp;attributes)</PRE>
<DL>
<DD>Sets a set of (unprotected) attributes.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>attributes</CODE> - the unprotected attributes to be set</DL>
</DD>
</DL>
<HR>

<A NAME="getContentType()"><!-- --></A><H3>
getContentType</H3>
<PRE>
public <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ObjectID.html" title="class or interface in iaik.asn1">ObjectID</A> <B>getContentType</B>()</PRE>
<DL>
<DD>Returns the content type this class implements.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../iaik/cms/ContentStream.html#getContentType()">getContentType</A></CODE> in interface <CODE><A HREF="../../iaik/cms/ContentStream.html" title="interface in iaik.cms">ContentStream</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD><code>ObjectID.cms_encryptedData</code></DL>
</DD>
</DL>
<HR>

<A NAME="getVersion()"><!-- --></A><H3>
getVersion</H3>
<PRE>
public int <B>getVersion</B>()</PRE>
<DL>
<DD>Returns the syntax version number.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the syntax version number</DL>
</DD>
</DL>
<HR>

<A NAME="getUnprotectedAttributes()"><!-- --></A><H3>
getUnprotectedAttributes</H3>
<PRE>
public <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/Attribute.html" title="class or interface in iaik.asn1.structures">Attribute</A>[] <B>getUnprotectedAttributes</B>()</PRE>
<DL>
<DD>Gets the unprotected attributes included in this EnvelopedData.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the unprotected attributes; if included</DL>
</DD>
</DL>
<HR>

<A NAME="getUnprotectedAttribute(iaik.asn1.ObjectID)"><!-- --></A><H3>
getUnprotectedAttribute</H3>
<PRE>
public <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/Attribute.html" title="class or interface in iaik.asn1.structures">Attribute</A> <B>getUnprotectedAttribute</B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ObjectID.html" title="class or interface in iaik.asn1">ObjectID</A>&nbsp;oid)</PRE>
<DL>
<DD>Returns the first unprotected attribute matching to the given ObjectID, if 
 included in this EncryptedData object.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the first unprotected attribute belonging to the given ObjectID or 
         <code>null</code> if there is no attribute for the given OID.</DL>
</DD>
</DL>
<HR>

<A NAME="getInputStream()"><!-- --></A><H3>
getInputStream</H3>
<PRE>
public java.io.InputStream <B>getInputStream</B>()</PRE>
<DL>
<DD>Returns an InputStream from where the decrypted data can be read.
 Attention! The stream only may be read once.
 <p>
 When having created a new <code>EncryptedDataStream</code> object to
 be encoded to a stream, this method should not be utilized at all, since
 the stream automatically will be read during performing the encoding
 which is done when calling a <A HREF="../../iaik/cms/EncryptedDataStream.html#writeTo(java.io.OutputStream)"><CODE>writeTo</CODE></A> method).
 <br>
 When having decoded and parsed a received <code>EnvelopedDataStream</code>
 object comimg from some stream, this method may be used for obtaining the raw (decrypted) data
 after having setup the cipher (if PBE-encryption is used).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>an InputStream for reading the decrypted data</DL>
</DD>
</DL>
<HR>

<A NAME="setInputStream(java.io.InputStream)"><!-- --></A><H3>
setInputStream</H3>
<PRE>
public void <B>setInputStream</B>(java.io.InputStream&nbsp;is)</PRE>
<DL>
<DD>Sets the input stream that supplies the content data to be encrypted.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>is</CODE> - the input stream holding the content data to encrypt</DL>
</DD>
</DL>
<HR>

<A NAME="toASN1Object()"><!-- --></A><H3>
toASN1Object</H3>
<PRE>
public <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ASN1Object.html" title="class or interface in iaik.asn1">ASN1Object</A> <B>toASN1Object</B>()
                        throws <A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A></PRE>
<DL>
<DD>Returns this CMS EnvelopedDataStream as ASN1Object.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../iaik/cms/ContentStream.html#toASN1Object()">toASN1Object</A></CODE> in interface <CODE><A HREF="../../iaik/cms/ContentStream.html" title="interface in iaik.cms">ContentStream</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>this <code>EnvelopedData</code> as ASN1Object.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A></CODE> - if the ASN1Object could not be created</DL>
</DD>
</DL>
<HR>

<A NAME="toASN1Object(int)"><!-- --></A><H3>
toASN1Object</H3>
<PRE>
protected <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ASN1Object.html" title="class or interface in iaik.asn1">ASN1Object</A> <B>toASN1Object</B>(int&nbsp;blockSize)
                           throws <A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A></PRE>
<DL>
<DD>Returns this CMS <code>EncryptedData</code> as ASN1Object.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>blockSize</CODE> - the block size defining the encoding scheme - and specifying the
                  length of each primitive encoded octet string component, if positive
<DT><B>Returns:</B><DD>this <code>EncryptedData</code> as ASN1Object
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A></CODE> - if the ASN1Object could not be created</DL>
</DD>
</DL>
<HR>

<A NAME="writeTo(java.io.OutputStream)"><!-- --></A><H3>
writeTo</H3>
<PRE>
public void <B>writeTo</B>(java.io.OutputStream&nbsp;os)
             throws java.io.IOException</PRE>
<DL>
<DD>BER encodes and writes this EnvelopedData to the supplied output stream.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>os</CODE> - the output stream to which this EnvelopedData shall be written
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="writeTo(java.io.OutputStream, int)"><!-- --></A><H3>
writeTo</H3>
<PRE>
public void <B>writeTo</B>(java.io.OutputStream&nbsp;os,
                    int&nbsp;blockSize)
             throws java.io.IOException</PRE>
<DL>
<DD>Writes this EncryptedData encoded to the supplied output stream.
 If a positive blocksize is specified, the encrypted content of the inherent
 EncryptedContentInfoStream will be encoded as indefinite primitive
 octet string instead of using the default primitive definite encoding scheme:
 <pre>
 0x24 0x80
           0x04 &lt;blocksize&gt; &lt;first encrypted content block&gt;
           0x04 &lt;blocksize&gt; &lt;second encrypted content block&gt;
           0x04 &lt;blocksize&gt; &lt;third encrypted content block&gt;
                ...
 0x00 0x00
 </pre>
 instead of:
 <pre>
 0x04 &lt;length&gt; &lt;encrypted content&gt;
 </pre>
 The indefinte constrcuted encoding scheme may be preferable for properly handling large
 amounts of data.
 <p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>os</CODE> - the output stream to which this SignedData shall be written<DD><CODE>blockSize</CODE> - the block size defining the encoding scheme - and specifying the
                  length of each primitive encoded octet string component, if positive
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if an error occurs during writing the object</DL>
</DD>
</DL>
<HR>

<A NAME="notifyEOF()"><!-- --></A><H3>
notifyEOF</H3>
<PRE>
public void <B>notifyEOF</B>()
               throws java.io.IOException</PRE>
<DL>
<DD>This method implements the EOFListener interface for performing the final decoding.
 Since unprotected attributes, if present, are located at the end of an EncryptedData
 structure, they only can be accessed after reading/decrypting the data included
 in the EncryptedContentInfo located before the unprotected attributes.
 For that reason, when starting the parsing of an EncryptedData message only
 version and EncryptedContentInfo fields can be parsed before reading/decrypting the data.
 Since the data is supplied from an input stream, a <code>iaik.utils.NotifyEOFInputStream
 </code>is wrapped around this content data stream
 for indicating that the parsing procedure is to be notified when the stream actually
 has been read. At that point, the programm exceuting automatically jumps to the
 <code>notifyEOF</code> method for finishing the decoding by parsing the
 remaining unprotected attributes, if present.
 <br>
 <b>For any application it is strongly recommended recommended <i>not</i> to explicitly
 call this method.</b> This method only is qualified as public method since it implements
 the IAIK-JCE iaik.utils.EOFListener interface.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/utils/EOFListener.html#notifyEOF()" title="class or interface in iaik.utils">notifyEOF</A></CODE> in interface <CODE><A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/utils/EOFListener.html" title="class or interface in iaik.utils">EOFListener</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if an error occurs while parsing the stream</DL>
</DD>
</DL>
<HR>

<A NAME="getEncryptedContentInfo()"><!-- --></A><H3>
getEncryptedContentInfo</H3>
<PRE>
public <A HREF="../../iaik/cms/EncryptedContentInfoStream.html" title="class in iaik.cms">EncryptedContentInfoStream</A> <B>getEncryptedContentInfo</B>()</PRE>
<DL>
<DD>Returns the encrypted content info of this <code>EncryptedDataStream</code>
 object.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the inherent EncryptedContentInfoStream</DL>
</DD>
</DL>
<HR>

<A NAME="toString()"><!-- --></A><H3>
toString</H3>
<PRE>
public java.lang.String <B>toString</B>()</PRE>
<DL>
<DD>Returns a string giving some information about this
 <code>EncryptedDataStream</code> object.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>toString</CODE> in class <CODE>java.lang.Object</CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the string representation</DL>
</DD>
</DL>
<HR>

<A NAME="toString(boolean)"><!-- --></A><H3>
toString</H3>
<PRE>
public java.lang.String <B>toString</B>(boolean&nbsp;detailed)</PRE>
<DL>
<DD>Returns a string giving some - if requested - detailed information
 about this <code>EncryptedDataStream</code> object.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../iaik/cms/ContentStream.html#toString(boolean)">toString</A></CODE> in interface <CODE><A HREF="../../iaik/cms/ContentStream.html" title="interface in iaik.cms">ContentStream</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>detailed</CODE> - - whether or not to give detailed information
<DT><B>Returns:</B><DD>the string representation</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<small>This Javadoc may contain text parts from text parts from IETF Internet Standard specifications (see <a href=../../RefCopyright.html#RFC>copyright</a> note).</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../iaik/cms/EncryptedDataOutputStream.html" title="class in iaik.cms"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../iaik/cms/EnvelopedData.html" title="class in iaik.cms"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?iaik/cms/EncryptedDataStream.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="EncryptedDataStream.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<IMG SRC=../../siclogo.jpg> <IMG SRC=../../iaik_logo.gif> IAIK-CMS 5.1, (c) 2002 <A HREF="http://jce.iaik.tugraz.at/">IAIK</A>, (c) 2003 - 2010 <A HREF="http://jce.iaik.tugraz.at/">SIC</A>
</BODY>
</HTML>
