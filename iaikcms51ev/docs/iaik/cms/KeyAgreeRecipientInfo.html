<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_09) on Wed Nov 02 19:19:13 GMT 2016 -->
<TITLE>
KeyAgreeRecipientInfo (IAIK-CMS 5.1 API Documentation)
</TITLE>

<META NAME="keywords" CONTENT="iaik.cms.KeyAgreeRecipientInfo class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="KeyAgreeRecipientInfo (IAIK-CMS 5.1 API Documentation)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../iaik/cms/KEKRecipientInfo.html" title="class in iaik.cms"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../iaik/cms/KeyAttribute.html" title="class in iaik.cms"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?iaik/cms/KeyAgreeRecipientInfo.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="KeyAgreeRecipientInfo.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#fields_inherited_from_class_iaik.cms.RecipientInfo">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
iaik.cms</FONT>
<BR>
Class KeyAgreeRecipientInfo</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><A HREF="../../iaik/cms/RecipientInfo.html" title="class in iaik.cms">iaik.cms.RecipientInfo</A>
      <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>iaik.cms.KeyAgreeRecipientInfo</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ASN1Type.html" title="class or interface in iaik.asn1">ASN1Type</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>KeyAgreeRecipientInfo</B><DT>extends <A HREF="../../iaik/cms/RecipientInfo.html" title="class in iaik.cms">RecipientInfo</A></DL>
</PRE>

<P>
This class implements the CMS <code>KeyAgreeRecipientInfo</code> type.
 <p>
 The Cryptographic Message Syntax (CMS) (<a href = "http://www.ietf.org/rfc/rfc5652.txt" target="_blank"> RFC 5652</a>)
 specifies the <code>KeyAgreeRecipientInfo</code> type as <A HREF="../../iaik/cms/RecipientInfo.html" title="class in iaik.cms"><CODE>RecipientInfo</CODE></A> choice for collecting all recipient-related information about one
 or more recipients a CMS <code>EnvelopedData</code> or CMS
 <code>AuthenticatedData</code> object shall be sent to when a key agreement
 algorithm is used for encrypting the secret content encryption key. A
 KeyAgreeRecipientInfo may hold encrypted content encryption keys for any
 number of recipients using the same key agreement method and domain 
 parameters for that key agreement algorithm:
 <PRE>
 KeyAgreeRecipientInfo ::= SEQUENCE {
     version CMSVersion,  -- always set to 3
     originator [0] EXPLICIT OriginatorIdentifierOrKey,
     ukm [1] EXPLICIT UserKeyingMaterial OPTIONAL,
     keyEncryptionAlgorithm KeyEncryptionAlgorithmIdentifier,
     recipientEncryptedKeys RecipientEncryptedKeys }
 
 OriginatorIdentifierOrKey ::= CHOICE {
    issuerAndSerialNumber IssuerAndSerialNumber,
    subjectKeyIdentifier [0] SubjectKeyIdentifier,
    originatorKey [1] OriginatorPublicKey }

 OriginatorPublicKey ::= SEQUENCE {
    algorithm AlgorithmIdentifier,
    publicKey BIT STRING }

 RecipientEncryptedKeys ::= SEQUENCE OF RecipientEncryptedKey

 RecipientEncryptedKey ::= SEQUENCE {
    rid KeyAgreeRecipientIdentifier,
    encryptedKey EncryptedKey }

 KeyAgreeRecipientIdentifier ::= CHOICE {
    issuerAndSerialNumber IssuerAndSerialNumber,
    rKeyId [0] IMPLICIT RecipientKeyIdentifier }

 RecipientKeyIdentifier ::= SEQUENCE {
    subjectKeyIdentifier SubjectKeyIdentifier,
    date GeneralizedTime OPTIONAL,       
    other OtherKeyAttribute OPTIONAL }

 SubjectKeyIdentifier ::= OCTET STRING
 </PRE> 
 The <code>originator</code> field is a CHOICE with three alternatives 
 specifying the sender's key agreement public key.  The sender uses the
 corresponding private key and the recipient's public key to generate a
 pairwise key.  The content-encryption key is encrypted in the pairwise 
 key. The <code>issuerAndSerialNumber</code> alternative identifies the
 sender's  certificate, and thereby the sender's public key, by the 
 issuer's distinguished name and the certificate serial number.  The 
 <code>subjectKeyIdentifier</code> alternative identifies the sender's 
 certificate, and thereby the sender's public key, by the X.509
 subjectKeyIdentifier extension value.  The <code>originatorKey</code> 
 alternative includes the algorithm identifier and sender's key agreement
 public key. Permitting originator anonymity since the public key is not
 certified.
 <br>
 <code>ukm</code> is optional.  With some key agreement algorithms, the
 sender provides a User Keying Material (UKM) to ensure that a different
 key is generated each time the same two parties generate a pairwise key.
 <br>
 <code>keyEncryptionAlgorithm</code> identifies the key-encryption algorithm,
 and any associated parameters, used to encrypt the content-encryption key
 in the key-encryption key.  
 <br>
 <code>recipientEncryptedKeys</code> includes a recipient identifier and
 encrypted key for one or more recipients.  The KeyAgreeRecipientIdentifier
 is a CHOICE with two alternatives specifying the recipient's certificate,
 and thereby the recipient's public key, that was used by the sender to 
 generate a pairwise key-encryption key.  The recipient's certificate must
 contain a key agreement public key.  The content-encryption key is
 encrypted in the pairwise key-encryption key.  The issuerAndSerialNumber
 alternative identifies the recipient's certificate by the issuer's 
 distinguished name and the certificate serial number; the 
 RecipientKeyIdentifier identifies the recipient certificate and
 public key by X.509 SubjectKeyIdentifier and optional date and
 OtherKeyAttribute. When present, the date specifies which of the
 recipient's previously distributed UKMs was used by the sender.
 OtherKeyAttribute shall not be used for interoperability reasons but
 may contain additional information used by the recipient to locate the
 public keying material used by the sender.
 <br>
 The encryptedKey is the result of encrypting the content-encryption
 key in the pairwise key-encryption key generated using the key
 agreement algorithm.
 <p>
 The default key agreement method used by CMS is <i>Ephemeral Static
 Diffie-Hellman (ESDH)</i> (<a href = http://www.ietf.org/rfc/rfc2631>RFC 2631</a>)
 using a ephemeral originator public key which has to be specified by using the 
 <code>OriginatorPublicKey</code> option for the <code>originator</code> field.
 <p>
 Note that for patent and performance reasons this class does not perform any
 parameter validation that may be appropriate for protecting against some
 kind of attacks. An application itself may take care for validating the
 parameters of the key of the other party and it may use some of the utility
 methods of class iaik.utils.CryptoUtils for doing so.
 <p>
 <hr>
 <p>
 This class provides several constructors and methods for creating a
 <code>KeyAgreeRecipientInfo</code> object, obtaining the component values,
 and encrypting (respectively decrypting) the content-encryption key.
 <p>
 When creating a new KeyAgreeRecipientInfo you have to decide whether to
 use the <A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#KeyAgreeRecipientInfo(iaik.asn1.structures.AlgorithmID, iaik.asn1.structures.AlgorithmID, int)"><CODE>originatorPublicKey</CODE></A> option for representing the public key
 of the originator or to <A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#KeyAgreeRecipientInfo(iaik.x509.X509Certificate, java.security.PrivateKey, int, iaik.asn1.structures.AlgorithmID, iaik.asn1.structures.AlgorithmID, int, byte[])"><CODE>use</CODE></A> a
 static originator certificate. If using the originatorPublicKey option
 the originator key automatically will be created the first time when 
 <A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#addRecipient(iaik.cms.CertificateIdentifier, java.security.PublicKey)"><CODE>adding</CODE></A> some
 particular recipient information, e.g.:
 <pre>
 // the key encryption (key agreement) algorithm to use:
 AlgorithmID keyEA = (AlgorithmID)AlgorithmID.esdhKeyAgreement.clone();
 // the key wrap algorithm to use:
 AlgorithmID keyWrapAlg = (AlgorithmID)AlgorithmID.cms_3DES_wrap.clone();
 // the length of the key encryption key to be generated:
 int kekLength = 192;
 // create a KeyAgreeRecipientInfo using the OriginatorPublicKey option:
 KeyAgreeRecipientInfo keyAgreeRecipientInfo = 
   new KeyAgreeRecipientInfo(keyEA, keyWrapAlg, kekLength);
 // the ephemeral originator public key is created when adding the first recipient:
 X509Certificate recipientCertiificate = ...;
 keyAgreeRecipientInfo.addRecipient(recipientCertificate, CertificateIdentifier.ISSUER_AND_SERIALNUMBER);
 </pre>
 Note that CMS per default uses <i>Ephemeral Static Diffie-Hellman</i> as key agreement
 algorithm for a KeyAgreeRecipientInfo. The originator has to be represented by
 the OriginatorPublicKey choice using a ephemeral originator key as in the 
 sample above.
 <p>
 The following example shows the typical usage for including a KeyAgreeRecipientInfo
 into a EnvelopedData object, encoding it, decoding it at the recipient side
 and decrypt the content (we use the stream-based EnvelopedData implementation
 for this sample):
 <pre>
 // the key encryption (key agreement) algorithm to use:
 AlgorithmID keyEA = (AlgorithmID)AlgorithmID.esdhKeyAgreement.clone();
 // the key wrap algorithm to use:
 AlgorithmID keyWrapAlg = (AlgorithmID)AlgorithmID.cms_3DES_wrap.clone();
 // the length of the key encryption key to be generated:
 int kekLength = 192;
 // create a KeyAgreeRecipientInfo using the OriginatorPublicKey option:
 KeyAgreeRecipientInfo recipient = 
   new KeyAgreeRecipientInfo(keyEA, keyWrapAlg, kekLength);
 // the ephemeral originator public key is created when adding the first recipient:
 X509Certificate recipientCertiificate = ...;
 keyAgreeRecipientInfo.addRecipient(recipientCertificate, CertificateIdentifier.ISSUER_AND_SERIALNUMBER);
 // create an EnvelopedData for the content to be encrypted:
 EnvelopedDataStream envelopedData = new EnvelopedDataStream(is, (AlgorithmID)AlgorithmID.des_EDE3_CBC.clone());
 // add the recipient information:
 envelopedData.addRecipientInfo(recipient);
 // write the EnvelopedData to a stream thereby performing the content encryption:
 int blockSize = ...;
 OutputStream encoded_stream = ...;
 envelopedData.writeTo(encoded_stream, blockSize);
 ...
 // on the recipient side decode the EnvelopedData:
 InputStream encodedStream = ...;
 EnvelopedDataStream envelopedData = new EnvelopedData(encodedStream);
 // Get information about the inherent EncryptedContentInfo:
 EncryptedContentInfoStream eci = (EncryptedContentInfoStream)enveloped_data.getEncryptedContentInfo();
 System.out.println("Content type: "+eci.getContentType().getName());
 System.out.println("Content encryption algorithm: "+eci.getContentEncryptionAlgorithm().getName());
 // setup the cipher for decryption:
 envelopedData.setupCipher(recipientPrivateKey, recipientCertificate);
 // read the content thereby performing the content decryption:
 InputStream data_is = enveloped_data.getInputStream();
 byte[] buf = new byte[1024];
 int r;
 while ((r = data_is.read(buf)) > 0) {
   // do something useful
 }
 </pre>
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../iaik/cms/OriginatorPublicKey.html" title="class in iaik.cms"><CODE>OriginatorPublicKey</CODE></A>, 
<A HREF="../../iaik/cms/IssuerAndSerialNumber.html" title="class in iaik.cms"><CODE>IssuerAndSerialNumber</CODE></A>, 
<A HREF="../../iaik/cms/RecipientKeyIdentifier.html" title="class in iaik.cms"><CODE>RecipientKeyIdentifier</CODE></A>, 
<A HREF="../../iaik/cms/RecipientInfo.html" title="class in iaik.cms"><CODE>RecipientInfo</CODE></A></DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_iaik.cms.RecipientInfo"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class iaik.cms.<A HREF="../../iaik/cms/RecipientInfo.html" title="class in iaik.cms">RecipientInfo</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../iaik/cms/RecipientInfo.html#KEK_RECIPIENT_INFO">KEK_RECIPIENT_INFO</A>, <A HREF="../../iaik/cms/RecipientInfo.html#KEY_AGREE_RECIPIENT_INFO">KEY_AGREE_RECIPIENT_INFO</A>, <A HREF="../../iaik/cms/RecipientInfo.html#KEY_TRANSPORT_RECIPIENT_INFO">KEY_TRANSPORT_RECIPIENT_INFO</A>, <A HREF="../../iaik/cms/RecipientInfo.html#keyEncryptionAlgorithm_">keyEncryptionAlgorithm_</A>, <A HREF="../../iaik/cms/RecipientInfo.html#OTHER_RECIPIENT_INFO">OTHER_RECIPIENT_INFO</A>, <A HREF="../../iaik/cms/RecipientInfo.html#PASSWORD_RECIPIENT_INFO">PASSWORD_RECIPIENT_INFO</A>, <A HREF="../../iaik/cms/RecipientInfo.html#securityProvider_">securityProvider_</A>, <A HREF="../../iaik/cms/RecipientInfo.html#version_">version_</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#KeyAgreeRecipientInfo()">KeyAgreeRecipientInfo</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default Constructor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#KeyAgreeRecipientInfo(iaik.asn1.structures.AlgorithmID, iaik.asn1.structures.AlgorithmID, int)">KeyAgreeRecipientInfo</A></B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;keyEA,
                      <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;keyWrapAlg,
                      int&nbsp;kekLength)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a KeyAgreeRecipientInfo for the given key encryption (key agreement) 
 algorithm, key wrap algorithm and user keying material.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#KeyAgreeRecipientInfo(iaik.asn1.ASN1Object)">KeyAgreeRecipientInfo</A></B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ASN1Object.html" title="class or interface in iaik.asn1">ASN1Object</A>&nbsp;obj)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a <code>KeyAgreeRecipientInfo</code> from an ASN1Object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#KeyAgreeRecipientInfo(iaik.asn1.ASN1Object, iaik.cms.SecurityProvider)">KeyAgreeRecipientInfo</A></B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ASN1Object.html" title="class or interface in iaik.asn1">ASN1Object</A>&nbsp;obj,
                      <A HREF="../../iaik/cms/SecurityProvider.html" title="class in iaik.cms">SecurityProvider</A>&nbsp;securityProvider)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a <code>KeyAgreeRecipientInfo</code> from an ASN1Object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#KeyAgreeRecipientInfo(iaik.cms.KeyIdentifier, iaik.asn1.structures.AlgorithmID, byte[])">KeyAgreeRecipientInfo</A></B>(<A HREF="../../iaik/cms/KeyIdentifier.html" title="interface in iaik.cms">KeyIdentifier</A>&nbsp;originator,
                      <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;keyEA,
                      byte[]&nbsp;ukm)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a KeyAgreeRecipientInfo for the given Originator, key encryption
 (key agreement) algorithm and user keying material.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#KeyAgreeRecipientInfo(iaik.x509.X509Certificate, java.security.PrivateKey, int, iaik.asn1.structures.AlgorithmID, iaik.asn1.structures.AlgorithmID, int, byte[])">KeyAgreeRecipientInfo</A></B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509Certificate.html" title="class or interface in iaik.x509">X509Certificate</A>&nbsp;originatorCertificate,
                      java.security.PrivateKey&nbsp;originatorPrivateKey,
                      int&nbsp;originatorIdentifierType,
                      <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;keyEA,
                      <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;keyWrapAlg,
                      int&nbsp;kekLength,
                      byte[]&nbsp;ukm)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a KeyAgreeRecipientInfo object from the given originator certificate.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#addRecipient(iaik.cms.CertificateIdentifier, byte[])">addRecipient</A></B>(<A HREF="../../iaik/cms/CertificateIdentifier.html" title="interface in iaik.cms">CertificateIdentifier</A>&nbsp;recipientIdentifier,
             byte[]&nbsp;encryptedKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a recipient with given recipient identifier and already encrypted key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.security.KeyPair</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#addRecipient(iaik.cms.CertificateIdentifier, java.security.PublicKey)">addRecipient</A></B>(<A HREF="../../iaik/cms/CertificateIdentifier.html" title="interface in iaik.cms">CertificateIdentifier</A>&nbsp;recipientIdentifier,
             java.security.PublicKey&nbsp;recipientKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a recipient with given recipient identifier and public key agreement key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.security.KeyPair</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#addRecipient(iaik.x509.X509Certificate, int)">addRecipient</A></B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509Certificate.html" title="class or interface in iaik.x509">X509Certificate</A>&nbsp;recipientCertificate,
             int&nbsp;recipientIdentifierType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a recipient with the given certificate.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#countRecipientEncryptedKeys()">countRecipientEncryptedKeys</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Counts the number of RecipientEncryptedKeys included in this KeyAgreeRecipientInfo.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#decode(iaik.asn1.ASN1Object)">decode</A></B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ASN1Object.html" title="class or interface in iaik.asn1">ASN1Object</A>&nbsp;obj)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Decodes the given ASN.1 <code>KeyAgreeRecipientInfo</code> object for parsing
 the internal structure.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;javax.crypto.SecretKey</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#decryptKey(java.security.Key)">decryptKey</A></B>(java.security.Key&nbsp;privateKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uses the given private key for trying to decrypt the encrypted content-encryption
 key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;javax.crypto.SecretKey</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#decryptKey(java.security.Key, iaik.cms.KeyIdentifier, java.lang.String)">decryptKey</A></B>(java.security.Key&nbsp;privateKey,
           <A HREF="../../iaik/cms/KeyIdentifier.html" title="interface in iaik.cms">KeyIdentifier</A>&nbsp;recipientIdentifier,
           java.lang.String&nbsp;cekAlgName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uses the given private key to decrypt the encrypted content-encryption key for
 the recipient with the given recipient identifier.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;javax.crypto.SecretKey</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#decryptKey(java.security.PrivateKey, iaik.cms.KeyIdentifier, java.security.PublicKey, java.lang.String)">decryptKey</A></B>(java.security.PrivateKey&nbsp;privateKey,
           <A HREF="../../iaik/cms/KeyIdentifier.html" title="interface in iaik.cms">KeyIdentifier</A>&nbsp;recipientIdentifier,
           java.security.PublicKey&nbsp;originatorPublicKey,
           java.lang.String&nbsp;cekAlgName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uses the given private key and originator public key to decrypt the encrypted 
 content-encryption key for the recipient with the given recipient identifier.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;javax.crypto.SecretKey</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#decryptKey(java.security.PrivateKey, iaik.x509.X509Certificate, java.security.PublicKey, java.lang.String)">decryptKey</A></B>(java.security.PrivateKey&nbsp;privateKey,
           <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509Certificate.html" title="class or interface in iaik.x509">X509Certificate</A>&nbsp;recipientCertificate,
           java.security.PublicKey&nbsp;originatorPublicKey,
           java.lang.String&nbsp;cekAlgName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uses the given private key and originator public key to decrypt the encrypted 
 content-encryption key for the recipient with the given recipient certificate.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;javax.crypto.SecretKey</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#decryptKey(java.security.PrivateKey, iaik.x509.X509Certificate, java.lang.String)">decryptKey</A></B>(java.security.PrivateKey&nbsp;privateKey,
           <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509Certificate.html" title="class or interface in iaik.x509">X509Certificate</A>&nbsp;recipientCertificate,
           java.lang.String&nbsp;cekAlgName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uses the given private key to decrypt the encrypted content-encryption key for
 the recipient with the given recipient certificate.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#encryptKey(javax.crypto.SecretKey)">encryptKey</A></B>(javax.crypto.SecretKey&nbsp;cek)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Encrypts the given secret content-encryption key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#getEncryptedKey(iaik.cms.KeyIdentifier)">getEncryptedKey</A></B>(<A HREF="../../iaik/cms/KeyIdentifier.html" title="interface in iaik.cms">KeyIdentifier</A>&nbsp;recipientIdentifier)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the encrypted content-encryption key for the recipient with
 the given keyIdentfier.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#getKeyWrapAlgorithm()">getKeyWrapAlgorithm</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the key wrap algorithm used for encrypting the content-encryption
 key with the shared key encryption key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../iaik/cms/KeyIdentifier.html" title="interface in iaik.cms">KeyIdentifier</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#getOriginator()">getOriginator</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the originator information identifying the public key of the originator.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../iaik/cms/KeyIdentifier.html" title="interface in iaik.cms">KeyIdentifier</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#getRecipientIdentifiers()">getRecipientIdentifiers</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the key identifier belonging to the recipient of this KeyAgreeRecipientInfo.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#getUKM()">getUKM</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the user keying material, if included.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#isRecipientInfoFor(iaik.cms.KeyIdentifier)">isRecipientInfoFor</A></B>(<A HREF="../../iaik/cms/KeyIdentifier.html" title="interface in iaik.cms">KeyIdentifier</A>&nbsp;recipientIdentifier)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks if this is a RecipientInfo for the recipient identified by the
 given key identifier.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../iaik/cms/CertificateIdentifier.html" title="interface in iaik.cms">CertificateIdentifier</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#isRecipientInfoFor(iaik.x509.X509Certificate)">isRecipientInfoFor</A></B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509Certificate.html" title="class or interface in iaik.x509">X509Certificate</A>&nbsp;recipientCertificate)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks if this is a RecipientInfo for the given recipient certificate.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#setSecurityProvider(iaik.cms.SecurityProvider)">setSecurityProvider</A></B>(<A HREF="../../iaik/cms/SecurityProvider.html" title="class in iaik.cms">SecurityProvider</A>&nbsp;securityProvider)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the SecurityProvider for this KeyAgreeRecipientInfo.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#setUKM(byte[])">setUKM</A></B>(byte[]&nbsp;ukm)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the optional user keying material.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ASN1Object.html" title="class or interface in iaik.asn1">ASN1Object</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#toASN1Object()">toASN1Object</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns this <code>KeyAgreeRecipientInfo</code> as ASN1Object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#toString()">toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a string giving some information about this
 <code>KeyAgreeRecipientInfo</code> object.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_iaik.cms.RecipientInfo"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class iaik.cms.<A HREF="../../iaik/cms/RecipientInfo.html" title="class in iaik.cms">RecipientInfo</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../iaik/cms/RecipientInfo.html#createRecipientInfos(java.util.Vector)">createRecipientInfos</A>, <A HREF="../../iaik/cms/RecipientInfo.html#decryptKey(java.security.Key, iaik.cms.KeyIdentifier)">decryptKey</A>, <A HREF="../../iaik/cms/RecipientInfo.html#decryptKey(java.security.Key, java.lang.String)">decryptKey</A>, <A HREF="../../iaik/cms/RecipientInfo.html#getKeyEncryptionAlgorithm()">getKeyEncryptionAlgorithm</A>, <A HREF="../../iaik/cms/RecipientInfo.html#getRecipientInfoType()">getRecipientInfoType</A>, <A HREF="../../iaik/cms/RecipientInfo.html#getSecurityProvider()">getSecurityProvider</A>, <A HREF="../../iaik/cms/RecipientInfo.html#getVersion()">getVersion</A>, <A HREF="../../iaik/cms/RecipientInfo.html#parseRecipientInfo(iaik.asn1.ASN1Object)">parseRecipientInfo</A>, <A HREF="../../iaik/cms/RecipientInfo.html#parseRecipientInfo(iaik.asn1.ASN1Object, iaik.cms.SecurityProvider)">parseRecipientInfo</A>, <A HREF="../../iaik/cms/RecipientInfo.html#parseRecipientInfo(java.io.InputStream)">parseRecipientInfo</A>, <A HREF="../../iaik/cms/RecipientInfo.html#parseRecipientInfo(java.io.InputStream, iaik.cms.SecurityProvider)">parseRecipientInfo</A>, <A HREF="../../iaik/cms/RecipientInfo.html#parseRecipientInfos(java.io.InputStream)">parseRecipientInfos</A>, <A HREF="../../iaik/cms/RecipientInfo.html#parseRecipientInfos(java.io.InputStream, iaik.cms.SecurityProvider)">parseRecipientInfos</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="KeyAgreeRecipientInfo()"><!-- --></A><H3>
KeyAgreeRecipientInfo</H3>
<PRE>
public <B>KeyAgreeRecipientInfo</B>()</PRE>
<DL>
<DD>Default Constructor. Creates an empty <code>KeyAgreeRecipientInfo</code>
 object and sets the version number to 3.
 <br>
<P>
</DL>
<HR>

<A NAME="KeyAgreeRecipientInfo(iaik.asn1.structures.AlgorithmID, iaik.asn1.structures.AlgorithmID, int)"><!-- --></A><H3>
KeyAgreeRecipientInfo</H3>
<PRE>
public <B>KeyAgreeRecipientInfo</B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;keyEA,
                             <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;keyWrapAlg,
                             int&nbsp;kekLength)</PRE>
<DL>
<DD>Creates a KeyAgreeRecipientInfo for the given key encryption (key agreement) 
 algorithm, key wrap algorithm and user keying material.
 <p>
 When using this constructor for creating a KeyAgreeRecipientInfo 
 the <code>OriginatorPublicKey</code> option is used for representing the
 public key in the <code>originator</code> field. The <A HREF="../../iaik/cms/OriginatorPublicKey.html" title="class in iaik.cms"><CODE>OriginatorPublicKey</CODE></A> is automatically created
 the first time when <A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#addRecipient(iaik.cms.CertificateIdentifier, java.security.PublicKey)"><CODE>adding</CODE></A> recipient information. Any further recipient information added is
 required to have a public key with domain parameters matching to those of 
 the originator key.
 <p>
 Note that RFC 5652 per default use Ephemeral Static Diffie Hellman for
 KeyAgreeRecipientInfos and the <code>OriginatorPublicKey</code> option has to 
 be used for representing the ESDH ephmeral public key of the originator.
 <p>
 Any user keying material to be used may be set by calling method <A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#setUKM(byte[])"><CODE>setUKM</CODE></A>.
 <br>
 Note that this constructor internally clones the supplied key agreement and
 key wrap algorithm ids.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>keyEA</CODE> - the key encryption (key agreement) algorithm used for creating 
              a shared key encryption key for encrypting the secret content
              encryption key with it<DD><CODE>keyWrapAlg</CODE> - the key wrap algorithm to be used for wrapping (encrypting) 
                   the content encryption key<DD><CODE>kekLength</CODE> - the length of the key encryption key to be created for
                  encrypting the content encryption key with it</DL>
</DL>
<HR>

<A NAME="KeyAgreeRecipientInfo(iaik.x509.X509Certificate, java.security.PrivateKey, int, iaik.asn1.structures.AlgorithmID, iaik.asn1.structures.AlgorithmID, int, byte[])"><!-- --></A><H3>
KeyAgreeRecipientInfo</H3>
<PRE>
public <B>KeyAgreeRecipientInfo</B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509Certificate.html" title="class or interface in iaik.x509">X509Certificate</A>&nbsp;originatorCertificate,
                             java.security.PrivateKey&nbsp;originatorPrivateKey,
                             int&nbsp;originatorIdentifierType,
                             <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;keyEA,
                             <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;keyWrapAlg,
                             int&nbsp;kekLength,
                             byte[]&nbsp;ukm)
                      throws <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509ExtensionException.html" title="class or interface in iaik.x509">X509ExtensionException</A></PRE>
<DL>
<DD>Creates a KeyAgreeRecipientInfo object from the given originator certificate.
 <p>
 From the given certificate a <A HREF="../../iaik/cms/IssuerAndSerialNumber.html" title="class in iaik.cms"><CODE>IssuerAndSerialNumber</CODE></A> or <A HREF="../../iaik/cms/SubjectKeyID.html" title="class in iaik.cms"><CODE>SubjectKeyIdentifier</CODE></A>
 (depending on the requested originator identifier <A HREF="../../iaik/cms/CertificateIdentifier.html" title="interface in iaik.cms"><CODE>type</CODE></A>) is created for pointing to the certificate and thereby public key of
 the originator.
 <br>
 Any time when <A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#addRecipient(iaik.cms.CertificateIdentifier, java.security.PublicKey)"><CODE>adding</CODE></A> recipient information the public key of the recipient is
 required to have domain parameters matching to those of 
 the originator key.
 <p>
 Note that RFC 5652 per default use Ephemeral Static Diffie Hellman for
 KeyAgreeRecipientInfos where the <code>OriginatorPublicKey</code> has to 
 be used for representing the ESDH ephemeral public key of the originator.
 Using a certificate on the originator side would mean to use a static 
 originator key which is not recommended by CMS. However, when using
 static-static mode, the user keying material (ukm) should <b>NOT</b> be  
 <code>null</code>.
 <br>
 Note that this constructor internally clones the supplied key agreement and
 key wrap algorithm ids.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>originatorCertificate</CODE> - the certificate of the originator<DD><CODE>originatorIdentifierType</CODE> - the type of the originatorIdentifier,
        either <A HREF="../../iaik/cms/KeyIdentifier.html#ISSUER_AND_SERIALNUMBER"><CODE>CertificateIdentifier.ISSUER_AND_SERIALNUMBER</CODE></A> or <A HREF="../../iaik/cms/KeyIdentifier.html#SUBJECT_KEY_IDENTIFIER"><CODE>CertificateIdentifier.SUBJECT_KEY_IDENTIFIER</CODE></A><DD><CODE>keyEA</CODE> - the key encryption (key agreement) algorithm used for creating 
              a shared key encryption key for encrypting the secret content
              encryption key with it<DD><CODE>keyWrapAlg</CODE> - the key wrap algorithm to be used for wrapping (encrypting) 
                   the content encryption key<DD><CODE>kekLength</CODE> - the length of the key encryption key to be created for
                  encrypting the content encryption key with it<DD><CODE>ukm</CODE> - optional user keying material that may have been used to ensure
            that a different key is generated each time the same two parties
            generate a pairwise key; HIGHLY recommended to be supplied when
            using (static) originator keys from a certificate
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509ExtensionException.html" title="class or interface in iaik.x509">X509ExtensionException</A></CODE> - if a SubjectKeyIdentifier shall be used as 
            originatorIdentifier, but the given cert does contain the SubjectKeyIdentifier
            extension or the SubjectKeyIdentifier extension cannot be parsed
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if the request originatorIdentifier type is
            not ISSUER_AND_SERIALNUMBER or SUBJECT_KEY_IDENTIFIER</DL>
</DL>
<HR>

<A NAME="KeyAgreeRecipientInfo(iaik.cms.KeyIdentifier, iaik.asn1.structures.AlgorithmID, byte[])"><!-- --></A><H3>
KeyAgreeRecipientInfo</H3>
<PRE>
public <B>KeyAgreeRecipientInfo</B>(<A HREF="../../iaik/cms/KeyIdentifier.html" title="interface in iaik.cms">KeyIdentifier</A>&nbsp;originator,
                             <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A>&nbsp;keyEA,
                             byte[]&nbsp;ukm)</PRE>
<DL>
<DD>Creates a KeyAgreeRecipientInfo for the given Originator, key encryption
 (key agreement) algorithm and user keying material.
 <p>
 When using this constructor for creating a KeyAgreeRecipientInfo 
 recipient information only can be added for an already encrypted content
 encryption key by calling method <A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#addRecipient(iaik.cms.CertificateIdentifier, byte[])"><CODE>addRecipient(CertificateIdentifier recipientIdentifier, byte[] encryptedKey)</CODE></A>.
 <br>
 Note that this constructor internally clones the supplied key agreement algorithm id.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>originator</CODE> - information identifying the public key of the originator, either by
                   <A HREF="../../iaik/cms/IssuerAndSerialNumber.html" title="class in iaik.cms"><CODE>IssuerAndSerialNumber</CODE></A>,
                   <A HREF="../../iaik/cms/SubjectKeyID.html" title="class in iaik.cms"><CODE>SubjectKeyIdentifier</CODE></A>, or
                   <A HREF="../../iaik/cms/OriginatorPublicKey.html" title="class in iaik.cms"><CODE>OriginatorPublicKey</CODE></A><DD><CODE>keyEA</CODE> - the key encryption (key agreement) algorithm used for
              encrypting the secret content encryption key with a shared key
              encryption key<DD><CODE>ukm</CODE> - optional user keying material that may have been used to ensure
            that a different key is generated each time the same two parties
            generate a pairwise key; may be <code>null</code>
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if the specified originator key identifier is
            not a <A HREF="../../iaik/cms/IssuerAndSerialNumber.html" title="class in iaik.cms"><CODE>IssuerAndSerialNumber</CODE></A>,
                  <A HREF="../../iaik/cms/SubjectKeyID.html" title="class in iaik.cms"><CODE>SubjectKeyIdentifier</CODE></A>, or
                  <A HREF="../../iaik/cms/OriginatorPublicKey.html" title="class in iaik.cms"><CODE>OriginatorPublicKey</CODE></A></DL>
</DL>
<HR>

<A NAME="KeyAgreeRecipientInfo(iaik.asn1.ASN1Object)"><!-- --></A><H3>
KeyAgreeRecipientInfo</H3>
<PRE>
public <B>KeyAgreeRecipientInfo</B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ASN1Object.html" title="class or interface in iaik.asn1">ASN1Object</A>&nbsp;obj)
                      throws <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/CodingException.html" title="class or interface in iaik.asn1">CodingException</A></PRE>
<DL>
<DD>Creates a <code>KeyAgreeRecipientInfo</code> from an ASN1Object.
 <p>
 The ASN1Object supplied to this constructor represents an
 already exisiting <code>KeyAgreeRecipientInfo</code> object that may
 have been created by calling <A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#toASN1Object()"><CODE>toASN1Object</CODE></A>.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>obj</CODE> - the <code>KeyAgreeRecipientInfo</code> as ASN1Object
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/CodingException.html" title="class or interface in iaik.asn1">CodingException</A></CODE> - if the object can not be parsed</DL>
</DL>
<HR>

<A NAME="KeyAgreeRecipientInfo(iaik.asn1.ASN1Object, iaik.cms.SecurityProvider)"><!-- --></A><H3>
KeyAgreeRecipientInfo</H3>
<PRE>
public <B>KeyAgreeRecipientInfo</B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ASN1Object.html" title="class or interface in iaik.asn1">ASN1Object</A>&nbsp;obj,
                             <A HREF="../../iaik/cms/SecurityProvider.html" title="class in iaik.cms">SecurityProvider</A>&nbsp;securityProvider)
                      throws <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/CodingException.html" title="class or interface in iaik.asn1">CodingException</A></PRE>
<DL>
<DD>Creates a <code>KeyAgreeRecipientInfo</code> from an ASN1Object.
 <p>
 The ASN1Object supplied to this constructor represents an
 already exisiting <code>KeyAgreeRecipientInfo</code> object that may
 have been created by calling <A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#toASN1Object()"><CODE>toASN1Object</CODE></A>.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>obj</CODE> - the <code>KeyAgreeRecipientInfo</code> as ASN1Object<DD><CODE>securityProvider</CODE> - the SecurityProvider to be used by this object
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/CodingException.html" title="class or interface in iaik.asn1">CodingException</A></CODE> - if the object can not be parsed</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="setUKM(byte[])"><!-- --></A><H3>
setUKM</H3>
<PRE>
public void <B>setUKM</B>(byte[]&nbsp;ukm)</PRE>
<DL>
<DD>Sets the optional user keying material.
 <p>
 User keying material may be specified to ensure that a different key is generated 
 each time the same two parties generate a pairwise key. When using ephmeral-static
 Diffie Hellman user keying material should be specified when using a static originator
 certificate (which however should not be used with CMS).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ukm</CODE> - optional user keying material that may have been used to ensure
            that a different key is generated each time the same two parties
            generate a pairwise key; may be <code>null</code></DL>
</DD>
</DL>
<HR>

<A NAME="getOriginator()"><!-- --></A><H3>
getOriginator</H3>
<PRE>
public <A HREF="../../iaik/cms/KeyIdentifier.html" title="interface in iaik.cms">KeyIdentifier</A> <B>getOriginator</B>()</PRE>
<DL>
<DD>Returns the originator information identifying the public key of the originator.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the originator information identifying the public key of the originator, either by
                   <A HREF="../../iaik/cms/IssuerAndSerialNumber.html" title="class in iaik.cms"><CODE>IssuerAndSerialNumber</CODE></A>,
                   <A HREF="../../iaik/cms/SubjectKeyID.html" title="class in iaik.cms"><CODE>SubjectKeyIdentifier</CODE></A>, or
                   <A HREF="../../iaik/cms/OriginatorPublicKey.html" title="class in iaik.cms"><CODE>OriginatorPublicKey</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getUKM()"><!-- --></A><H3>
getUKM</H3>
<PRE>
public byte[] <B>getUKM</B>()</PRE>
<DL>
<DD>Gets the user keying material, if included.
 <p>
 User keying material may be included to ensure that a different key is generated 
 each time the same two parties generate a pairwise key. When using ephmeral-static
 Diffie Hellman user keying material should be specified when using a static originator
 certificate (which however should not be used with CMS).
 <p>
 This method also may be used for setting the previously distributed ukm for
 a KeyAgreeRecipientInfo received.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the user keying material, if included (not cloned!); 
         otherwiese <code>null</code></DL>
</DD>
</DL>
<HR>

<A NAME="addRecipient(iaik.cms.CertificateIdentifier, java.security.PublicKey)"><!-- --></A><H3>
addRecipient</H3>
<PRE>
public java.security.KeyPair <B>addRecipient</B>(<A HREF="../../iaik/cms/CertificateIdentifier.html" title="interface in iaik.cms">CertificateIdentifier</A>&nbsp;recipientIdentifier,
                                          java.security.PublicKey&nbsp;recipientKey)
                                   throws java.security.InvalidKeyException</PRE>
<DL>
<DD>Adds a recipient with given recipient identifier and public key agreement key.
 <p>
 This method may be called repeatedly for adding information for each recipient
 having a public key agreement key with domain parameters matching to those
 of the originator key. When calling this method the first time (for adding
 the first recipient) and the originator key yet has not been set, this method
 itself creates a <A HREF="../../iaik/cms/OriginatorPublicKey.html" title="class in iaik.cms"><CODE>OriginatorPublicKey</CODE></A> with
 domain parameters matching to those of the supplied recipient key. Any further
 call to this method only will be successful if the new recipient has a public
 key with domain parameters matching to those of the originator key.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>recipientIdentifier</CODE> - the CertificateIdentifier identifying the
               recipient certificate and thereby public key (by <A HREF="../../iaik/cms/IssuerAndSerialNumber.html" title="class in iaik.cms"><CODE>IssuerAndSerialNumber</CODE></A> or 
               <A HREF="../../iaik/cms/RecipientKeyIdentifier.html" title="class in iaik.cms"><CODE>RecipientKeyIdentifier</CODE></A><DD><CODE>recipientKey</CODE> - the public key agreement key of the recipient
<DT><B>Returns:</B><DD>the originator key pair which may have been just created when calling
         this method the first time
<DT><B>Throws:</B>
<DD><CODE>java.security.InvalidKeyException</CODE> - if an error occurs when creating the OriginatorPublicKey
            or the supplied recipient key has domain parameters not matching to
            those of the already set originator key
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if the given recipient identifier is not
            a <A HREF="../../iaik/cms/IssuerAndSerialNumber.html" title="class in iaik.cms"><CODE>IssuerAndSerialNumber</CODE></A> or 
              <A HREF="../../iaik/cms/RecipientKeyIdentifier.html" title="class in iaik.cms"><CODE>RecipientKeyIdentifier</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="addRecipient(iaik.x509.X509Certificate, int)"><!-- --></A><H3>
addRecipient</H3>
<PRE>
public java.security.KeyPair <B>addRecipient</B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509Certificate.html" title="class or interface in iaik.x509">X509Certificate</A>&nbsp;recipientCertificate,
                                          int&nbsp;recipientIdentifierType)
                                   throws java.security.InvalidKeyException,
                                          <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509ExtensionException.html" title="class or interface in iaik.x509">X509ExtensionException</A></PRE>
<DL>
<DD>Adds a recipient with the given certificate.
 <p>
 This method may called repeatedly for adding information for each recipient
 having a certificate with a public key agreement key with domain parameters 
 matching to those of the originator key. When calling this method the first
 time (for adding the first recipient) and the originator key yet has not been 
 set, this method itself creates a <A HREF="../../iaik/cms/OriginatorPublicKey.html" title="class in iaik.cms"><CODE>OriginatorPublicKey</CODE></A> with domain parameters matching to those of the supplied 
 recipient key. Any further call to this method only will be successful if the
 new recipient has a certificate with a public key with domain parameters 
 matching to those of the originator key.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>recipientCertificate</CODE> - the certificate of the recipient<DD><CODE>recipientIdentifierType</CODE> - the type of the recipientIdentifier,
        either <A HREF="../../iaik/cms/KeyIdentifier.html#ISSUER_AND_SERIALNUMBER"><CODE>CertificateIdentifier.ISSUER_AND_SERIALNUMBER</CODE></A> or <A HREF="../../iaik/cms/KeyIdentifier.html#RECIPIENT_KEY_IDENTIFIER"><CODE>CertificateIdentifier.RECIPIENT_KEY_IDENTIFIER</CODE></A>. If the recipient
        certificate shall be identified by using the RECIPIENT_KEY_IDENTIFIER
        choice, a <A HREF="../../iaik/cms/RecipientKeyIdentifier.html" title="class in iaik.cms"><CODE>RecipientKeyIdentifier</CODE></A>
        without date and otherKeyAttribute is created
<DT><B>Returns:</B><DD>the originator key pair which may have been just created when calling
         this method the first time
<DT><B>Throws:</B>
<DD><CODE>java.security.InvalidKeyException</CODE> - if an error occurs when creating the OriginatorPublicKey
            or the public key of the recipient certificate has domain parameters
            not matching to those of the already set originator key
<DD><CODE><A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509ExtensionException.html" title="class or interface in iaik.x509">X509ExtensionException</A></CODE> - if the recipient certificate shall be represented by a 
            RecipientKeyIdentifier, but does not contain the SubjectKeyIdentifier extension
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if the given recipient identifier type is not
            a ISSUER_AND_SERIALNUMBER or RECIPIENT_KEY_IDENTIFIER</DL>
</DD>
</DL>
<HR>

<A NAME="addRecipient(iaik.cms.CertificateIdentifier, byte[])"><!-- --></A><H3>
addRecipient</H3>
<PRE>
public void <B>addRecipient</B>(<A HREF="../../iaik/cms/CertificateIdentifier.html" title="interface in iaik.cms">CertificateIdentifier</A>&nbsp;recipientIdentifier,
                         byte[]&nbsp;encryptedKey)
                  throws <A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A></PRE>
<DL>
<DD>Adds a recipient with given recipient identifier and already encrypted key.
 <p>
 <b>Attention:</b> This method cannot not check if the key agreement method
 or domain parameters of the recipient key are suitable for this 
 KeyAgreeRecipientInfo.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>recipientIdentifier</CODE> - the CertificateIdentifier identifying the
               recipient certificate and thereby public key (by <A HREF="../../iaik/cms/IssuerAndSerialNumber.html" title="class in iaik.cms"><CODE>IssuerAndSerialNumber</CODE></A> or 
               <A HREF="../../iaik/cms/RecipientKeyIdentifier.html" title="class in iaik.cms"><CODE>RecipientKeyIdentifier</CODE></A><DD><CODE>encryptedKey</CODE> - the already encrypted content encryption key
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A></CODE> - if no originator has been set when creating this 
                         KeyAgreeRecipientInfo
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if the given recipient identifier is not
            a <A HREF="../../iaik/cms/IssuerAndSerialNumber.html" title="class in iaik.cms"><CODE>IssuerAndSerialNumber</CODE></A> or 
              <A HREF="../../iaik/cms/RecipientKeyIdentifier.html" title="class in iaik.cms"><CODE>RecipientKeyIdentifier</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="setSecurityProvider(iaik.cms.SecurityProvider)"><!-- --></A><H3>
setSecurityProvider</H3>
<PRE>
public void <B>setSecurityProvider</B>(<A HREF="../../iaik/cms/SecurityProvider.html" title="class in iaik.cms">SecurityProvider</A>&nbsp;securityProvider)</PRE>
<DL>
<DD>Sets the SecurityProvider for this KeyAgreeRecipientInfo.
 <p>
 The SecurityProvider can be only used by methods called after
 this method, for instance, for <A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#encryptKey(javax.crypto.SecretKey)"><CODE>encrypting</CODE></A>
 or <A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#decryptKey(java.security.Key)"><CODE>decrypting</CODE></A> the content encryption key.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../iaik/cms/RecipientInfo.html#setSecurityProvider(iaik.cms.SecurityProvider)">setSecurityProvider</A></CODE> in class <CODE><A HREF="../../iaik/cms/RecipientInfo.html" title="class in iaik.cms">RecipientInfo</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>securityProvider</CODE> - the SecurityProvider to be set</DL>
</DD>
</DL>
<HR>

<A NAME="decode(iaik.asn1.ASN1Object)"><!-- --></A><H3>
decode</H3>
<PRE>
public void <B>decode</B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ASN1Object.html" title="class or interface in iaik.asn1">ASN1Object</A>&nbsp;obj)
            throws <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/CodingException.html" title="class or interface in iaik.asn1">CodingException</A></PRE>
<DL>
<DD>Decodes the given ASN.1 <code>KeyAgreeRecipientInfo</code> object for parsing
 the internal structure.
 <p>
 This method internally is called when creating a CMS <code>KeyAgreeRecipientInfo
 </code>object from an already existing <code>KeyAgreeRecipientInfo</code> object,
 supplied as ASN1Object.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>obj</CODE> - the CMS KeyAgreeRecipientInfo as ASN1Object
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/CodingException.html" title="class or interface in iaik.asn1">CodingException</A></CODE> - if the object can not be parsed</DL>
</DD>
</DL>
<HR>

<A NAME="toASN1Object()"><!-- --></A><H3>
toASN1Object</H3>
<PRE>
public <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/ASN1Object.html" title="class or interface in iaik.asn1">ASN1Object</A> <B>toASN1Object</B>()
                        throws <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/CodingException.html" title="class or interface in iaik.asn1">CodingException</A></PRE>
<DL>
<DD>Returns this <code>KeyAgreeRecipientInfo</code> as ASN1Object.
 <p>
 The ASN1Object returned by this method represents the ASN.1 structure
 of a KeyAgreeRecipientInfo:
 <PRE>
 KeyAgreeRecipientInfo ::= SEQUENCE {
     version CMSVersion,  -- always set to 3
     originator [0] EXPLICIT OriginatorIdentifierOrKey,
     ukm [1] EXPLICIT UserKeyingMaterial OPTIONAL,
     keyEncryptionAlgorithm KeyEncryptionAlgorithmIdentifier,
     recipientEncryptedKeys RecipientEncryptedKeys }
 
 OriginatorIdentifierOrKey ::= CHOICE {
    issuerAndSerialNumber IssuerAndSerialNumber,
    subjectKeyIdentifier [0] SubjectKeyIdentifier,
    originatorKey [1] OriginatorPublicKey }

 OriginatorPublicKey ::= SEQUENCE {
    algorithm AlgorithmIdentifier,
    publicKey BIT STRING }

 RecipientEncryptedKeys ::= SEQUENCE OF RecipientEncryptedKey

 RecipientEncryptedKey ::= SEQUENCE {
    rid KeyAgreeRecipientIdentifier,
    encryptedKey EncryptedKey }

 KeyAgreeRecipientIdentifier ::= CHOICE {
    issuerAndSerialNumber IssuerAndSerialNumber,
    rKeyId [0] IMPLICIT RecipientKeyIdentifier }

 RecipientKeyIdentifier ::= SEQUENCE {
    subjectKeyIdentifier SubjectKeyIdentifier,
    date GeneralizedTime OPTIONAL,       
    other OtherKeyAttribute OPTIONAL }

 SubjectKeyIdentifier ::= OCTET STRING
 </PRE>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>this <code>KeyAgreeRecipientInfo</code> as ASN1Object.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/CodingException.html" title="class or interface in iaik.asn1">CodingException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="decryptKey(java.security.Key)"><!-- --></A><H3>
decryptKey</H3>
<PRE>
public javax.crypto.SecretKey <B>decryptKey</B>(java.security.Key&nbsp;privateKey)
                                  throws <A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A>,
                                         java.security.InvalidKeyException</PRE>
<DL>
<DD>Uses the given private key for trying to decrypt the encrypted content-encryption
 key.
 The recovered key is returned as <code>SecretKey</code>.
 <p>
 Since an KeyAgreeRecipientInfo may contain encrypted content encryption keys
 for more than only one recipient, but no recipient identifier can be supplied 
 when calling this method, any included encrypted content encryption key is 
 tried to be decrypted with the given private key, which may give some processing
 overhead and might bring no result if the right recipient encrypted key
 is not included.
 <p>
 Note that the originator public key is required to create the shared secret
 key encryption key for subsequently decrypting the encrypted content encryption
 key with it. For that reason you only can use this method if the originator
 field of this KeyAgreeRecipientInfo holds the OriginatorPublicKey choice 
 (RFC 5652 per default use Ephemeral Static Diffie Hellman (ESDH) for
 KeyAgreeRecipientInfos representing the ephemeral public key of the originator
 with the <code>OriginatorPublicKey</code> choice).
 Otherwise you have to <A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#decryptKey(java.security.PrivateKey, iaik.cms.KeyIdentifier, java.security.PublicKey, java.lang.String)"><CODE>supply</CODE></A> the originator public key yourself for decrypting the encrypted
 content encryption key.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../iaik/cms/RecipientInfo.html#decryptKey(java.security.Key)">decryptKey</A></CODE> in class <CODE><A HREF="../../iaik/cms/RecipientInfo.html" title="class in iaik.cms">RecipientInfo</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>privateKey</CODE> - the private key of the recipient to be used for decrypting
                   the encrypted content-encryption key.
<DT><B>Returns:</B><DD>the recovered (decrypted) key as SecretKey in RAW format; the 
         algorithm name will be set to "RAW"
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A></CODE> - if the key-decryption process fails for some reason (e.g. the
            key-encryption or key-wrap algorithm used by this <code>KeyAgreeRecipientInfo</code>
            is not implemented, a padding error occurs,...)
<DD><CODE>java.security.InvalidKeyException</CODE> - if the specified private key is not valid</DL>
</DD>
</DL>
<HR>

<A NAME="decryptKey(java.security.Key, iaik.cms.KeyIdentifier, java.lang.String)"><!-- --></A><H3>
decryptKey</H3>
<PRE>
public javax.crypto.SecretKey <B>decryptKey</B>(java.security.Key&nbsp;privateKey,
                                         <A HREF="../../iaik/cms/KeyIdentifier.html" title="interface in iaik.cms">KeyIdentifier</A>&nbsp;recipientIdentifier,
                                         java.lang.String&nbsp;cekAlgName)
                                  throws <A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A>,
                                         java.security.InvalidKeyException</PRE>
<DL>
<DD>Uses the given private key to decrypt the encrypted content-encryption key for
 the recipient with the given recipient identifier.
 The recovered key is returned as <code>SecretKey</code>.
 <p>
 Since an KeyAgreeRecipientInfo may contain encrypted content encryption keys
 for more than only one recipient, this method first looks if any of the
 included recipient encrypted keys belongs to the recipient identified by
 the given recipient identifier. If a recipient encrypted key is included for
 the recipient in mind it is decrypted with the given private key of this
 recipient. If no recipient identifier is supplied when calling this
 method, any included encrypted content encryption key is tried to be
 decrypted with the given private key, which may give some processing
 overhead and might bring no result if the right recipient encrypted key
 is not included.
 <p>
 Note that the originator public key is required to create the shared secret
 key encryption key for subsequently decrypting the encrypted content encryption
 key with it. For that reason you only can use this method if the originator
 field of this KeyAgreeRecipientInfo holds the OriginatorPublicKey choice 
 (RFC 5652 per default use Ephemeral Static Diffie Hellman (ESDH) for
 KeyAgreeRecipientInfos representing the ephemeral public key of the originator
 with the <code>OriginatorPublicKey</code> choice).
 Otherwise you have to <A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#decryptKey(java.security.PrivateKey, iaik.cms.KeyIdentifier, java.security.PublicKey, java.lang.String)"><CODE>supply</CODE></A> the originator public key yourself for decrypting the encrypted
 content encryption key.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../iaik/cms/RecipientInfo.html#decryptKey(java.security.Key, iaik.cms.KeyIdentifier, java.lang.String)">decryptKey</A></CODE> in class <CODE><A HREF="../../iaik/cms/RecipientInfo.html" title="class in iaik.cms">RecipientInfo</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>privateKey</CODE> - the private key of the recipient to be used for decrypting
                   the encrypted content-encryption key.<DD><CODE>recipientIdentifier</CODE> - an IssuerAndSerialNumber or RecipientKeyIdentifier 
                            identifying the recipient of this KeyAgreeRecipientInfo<DD><CODE>cekAlgName</CODE> - the name of the content encryption key (e.g. "DES") to be set for the
                   SecretKey object created by this method
<DT><B>Returns:</B><DD>the recovered (decrypted) key as SecretKey in RAW format
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A></CODE> - if the key-decryption process fails for some reason (e.g. the
            key-encryption or key-wrap algorithm used by this <code>KeyAgreeRecipientInfo</code>
            is not implemented, a padding error occurs,...)
<DD><CODE>java.security.InvalidKeyException</CODE> - if the specified private key is not valid</DL>
</DD>
</DL>
<HR>

<A NAME="decryptKey(java.security.PrivateKey, iaik.cms.KeyIdentifier, java.security.PublicKey, java.lang.String)"><!-- --></A><H3>
decryptKey</H3>
<PRE>
public javax.crypto.SecretKey <B>decryptKey</B>(java.security.PrivateKey&nbsp;privateKey,
                                         <A HREF="../../iaik/cms/KeyIdentifier.html" title="interface in iaik.cms">KeyIdentifier</A>&nbsp;recipientIdentifier,
                                         java.security.PublicKey&nbsp;originatorPublicKey,
                                         java.lang.String&nbsp;cekAlgName)
                                  throws <A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A>,
                                         java.security.InvalidKeyException</PRE>
<DL>
<DD>Uses the given private key and originator public key to decrypt the encrypted 
 content-encryption key for the recipient with the given recipient identifier.
 The recovered key is returned as <code>SecretKey</code>.
 <p>
 Since an KeyAgreeRecipientInfo may contain encrypted content encryption keys
 for more than only one recipient, this method first looks if any of the
 included recipient encrypted keys belongs to the recipient identified by
 the given recipient identifier. If a recipient encrypted key is included for
 the recipient in mind it is decrypted with the given private key of this
 recipient. If no recipient identifier is supplied when calling this
 method, any included encrypted content encryption key is tried to be
 decrypted with the given private key, which may give some processing
 overhead and might bring no result if the right recipient encrypted key
 is not included.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>privateKey</CODE> - the private key of the recipient to be used for decrypting
                   the encrypted content-encryption key.<DD><CODE>recipientIdentifier</CODE> - an IssuerAndSerialNumber or RecipientKeyIdentifier 
                            identifying the recipient of this KeyAgreeRecipientInfo<DD><CODE>originatorPublicKey</CODE> - the public key of the originator; required for 
                            calculating the shared key encryption algorithm
                            used for en/decrypting the content encryption key<DD><CODE>cekAlgName</CODE> - the name of the content encryption key (e.g. "DES") to be set for the
                   SecretKey object created by this method
<DT><B>Returns:</B><DD>the recovered (decrypted) key as SecretKey in RAW format
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A></CODE> - if the key-decryption process fails for some reason (e.g. the
            key-encryption or key-wrap algorithm used by this <code>KeyAgreeRecipientInfo</code>
            is not implemented, a padding error occurs,...)
<DD><CODE>java.security.InvalidKeyException</CODE> - if the specified private key is not valid</DL>
</DD>
</DL>
<HR>

<A NAME="decryptKey(java.security.PrivateKey, iaik.x509.X509Certificate, java.lang.String)"><!-- --></A><H3>
decryptKey</H3>
<PRE>
public javax.crypto.SecretKey <B>decryptKey</B>(java.security.PrivateKey&nbsp;privateKey,
                                         <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509Certificate.html" title="class or interface in iaik.x509">X509Certificate</A>&nbsp;recipientCertificate,
                                         java.lang.String&nbsp;cekAlgName)
                                  throws <A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A>,
                                         java.security.InvalidKeyException</PRE>
<DL>
<DD>Uses the given private key to decrypt the encrypted content-encryption key for
 the recipient with the given recipient certificate.
 The recovered key is returned as <code>SecretKey</code>.
 <p>
 Since an KeyAgreeRecipientInfo may contain encrypted content encryption keys
 for more than only one recipient, this method first looks if any of the
 included recipient encrypted keys belongs to the recipient with the given
 certfiicate. If a recipient encrypted key is included for
 the recipient in mind it is decrypted with the given private key of this
 recipient. 
 <p>
 Note that the originator public key is required to create the shared secret
 key encryption key for subsequently decrypting the encrypted content encryption
 key with it. For that reason you only can use this method if the originator
 field of this KeyAgreeRecipientInfo holds the OriginatorPublicKey choice 
 (RFC 5652 per default use Ephemeral Static Diffie Hellman (ESDH) for
 KeyAgreeRecipientInfos representing the ephemeral public key of the originator
 with the <code>OriginatorPublicKey</code> choice).
 Otherwise you have to <A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#decryptKey(java.security.PrivateKey, iaik.x509.X509Certificate, java.security.PublicKey, java.lang.String)"><CODE>supply</CODE></A> the originator public key yourself for decrypting the encrypted
 content encryption key.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>privateKey</CODE> - the private key of the recipient to be used for decrypting
                   the encrypted content-encryption key.<DD><CODE>recipientCertificate</CODE> - the certifcate of the recipient<DD><CODE>cekAlgName</CODE> - the name of the content encryption key (e.g. "DES") to be set for the
                   SecretKey object created by this method
<DT><B>Returns:</B><DD>the recovered (decrypted) key as SecretKey in RAW format
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A></CODE> - if the key-decryption process fails for some reason (e.g. the
            key-encryption or key-wrap algorithm used by this <code>KeyAgreeRecipientInfo</code>
            is not implemented, a padding error occurs,...)
<DD><CODE>java.security.InvalidKeyException</CODE> - if the specified private key is not valid</DL>
</DD>
</DL>
<HR>

<A NAME="decryptKey(java.security.PrivateKey, iaik.x509.X509Certificate, java.security.PublicKey, java.lang.String)"><!-- --></A><H3>
decryptKey</H3>
<PRE>
public javax.crypto.SecretKey <B>decryptKey</B>(java.security.PrivateKey&nbsp;privateKey,
                                         <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509Certificate.html" title="class or interface in iaik.x509">X509Certificate</A>&nbsp;recipientCertificate,
                                         java.security.PublicKey&nbsp;originatorPublicKey,
                                         java.lang.String&nbsp;cekAlgName)
                                  throws <A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A>,
                                         java.security.InvalidKeyException</PRE>
<DL>
<DD>Uses the given private key and originator public key to decrypt the encrypted 
 content-encryption key for the recipient with the given recipient certificate.
 The recovered key is returned as <code>SecretKey</code>.
 <p>
 Since an KeyAgreeRecipientInfo may contain encrypted content encryption keys
 for more than only one recipient, this method first looks if any of the
 included recipient encrypted keys belongs to the recipient with the given
 recipient certificate. If a recipient encrypted key is included for
 the recipient in mind it is decrypted with the given private key of this
 recipient.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>privateKey</CODE> - the private key of the recipient to be used for decrypting
                   the encrypted content-encryption key.<DD><CODE>recipientCertificate</CODE> - the certficate of the recipient<DD><CODE>originatorPublicKey</CODE> - the public key of the originator; required for 
                            calculating the shared key encryption algorithm
                            used for en/decrypting the content encryption key<DD><CODE>cekAlgName</CODE> - the name of the content encryption key (e.g. "DES") to be set for the
                   SecretKey object created by this method
<DT><B>Returns:</B><DD>the recovered (decrypted) key as SecretKey in RAW format
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A></CODE> - if the key-decryption process fails for some reason (e.g. the
            key-encryption or key-wrap algorithm used by this <code>KeyAgreeRecipientInfo</code>
            is not implemented, a padding error occurs,...)
<DD><CODE>java.security.InvalidKeyException</CODE> - if the specified private key is not valid</DL>
</DD>
</DL>
<HR>

<A NAME="encryptKey(javax.crypto.SecretKey)"><!-- --></A><H3>
encryptKey</H3>
<PRE>
public void <B>encryptKey</B>(javax.crypto.SecretKey&nbsp;cek)
                throws <A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A></PRE>
<DL>
<DD>Encrypts the given secret content-encryption key.
 <p>
 All information (key encryption (key agreement) algorithm, key wrap algorithm,
 kek length, ukm, originator key, public key of the recipient) has been supplied
 when creating this KeyAgreeRecipientInfo respectively adding information about
 some recipient. This method encrypts the supplied content encryption key for
 any recipient that has been added to this KeyAgreeRecipientInfo.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../iaik/cms/RecipientInfo.html#encryptKey(javax.crypto.SecretKey)">encryptKey</A></CODE> in class <CODE><A HREF="../../iaik/cms/RecipientInfo.html" title="class in iaik.cms">RecipientInfo</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>cek</CODE> - the symmetric content-encryption key to encrypt
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A></CODE> - if the key encryption process fails for some
                         reason (e.g. the key-encryption or key-wrap algortihm used
                         by this <code>KeyAgreeRecipientInfo</code> is not implemented,
                         the public key of the recipient is invalid, a padding
                         error occurs,...)</DL>
</DD>
</DL>
<HR>

<A NAME="getRecipientIdentifiers()"><!-- --></A><H3>
getRecipientIdentifiers</H3>
<PRE>
public <A HREF="../../iaik/cms/KeyIdentifier.html" title="interface in iaik.cms">KeyIdentifier</A>[] <B>getRecipientIdentifiers</B>()</PRE>
<DL>
<DD>Gets the key identifier belonging to the recipient of this KeyAgreeRecipientInfo.
 <p>
 This method implements the same named method of the abstract parent <A HREF="../../iaik/cms/RecipientInfo.html" title="class in iaik.cms"><CODE>RecipientInfo</CODE></A> class for returning the identifiers of the recipient certificates (and 
 thereby public keys) by issuer distinguished name and issuer-specific serial number, or 
 RecipientKeyIdentifier.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../iaik/cms/RecipientInfo.html#getRecipientIdentifiers()">getRecipientIdentifiers</A></CODE> in class <CODE><A HREF="../../iaik/cms/RecipientInfo.html" title="class in iaik.cms">RecipientInfo</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>an <code>KeyIdentifier</code> array holding the identifiers of the recipient certificates
         (and thereby public keys) by <A HREF="../../iaik/cms/IssuerAndSerialNumber.html" title="class in iaik.cms"><CODE>IssuerAndSerialNumber</CODE></A>
         or <A HREF="../../iaik/cms/RecipientKeyIdentifier.html" title="class in iaik.cms"><CODE>RecipientKeyIdentifier</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="countRecipientEncryptedKeys()"><!-- --></A><H3>
countRecipientEncryptedKeys</H3>
<PRE>
public int <B>countRecipientEncryptedKeys</B>()</PRE>
<DL>
<DD>Counts the number of RecipientEncryptedKeys included in this KeyAgreeRecipientInfo.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the number of RecipientEncryptedKeys included in this KeyAgreeRecipientInfo.</DL>
</DD>
</DL>
<HR>

<A NAME="isRecipientInfoFor(iaik.cms.KeyIdentifier)"><!-- --></A><H3>
isRecipientInfoFor</H3>
<PRE>
public boolean <B>isRecipientInfoFor</B>(<A HREF="../../iaik/cms/KeyIdentifier.html" title="interface in iaik.cms">KeyIdentifier</A>&nbsp;recipientIdentifier)</PRE>
<DL>
<DD>Checks if this is a RecipientInfo for the recipient identified by the
 given key identifier.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../iaik/cms/RecipientInfo.html#isRecipientInfoFor(iaik.cms.KeyIdentifier)">isRecipientInfoFor</A></CODE> in class <CODE><A HREF="../../iaik/cms/RecipientInfo.html" title="class in iaik.cms">RecipientInfo</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>recipientIdentifier</CODE> - the key identifier belonging to the recipient
        we are searching for
<DT><B>Returns:</B><DD><code>true</code> if this RecipientInfo belongs to the particular
         recipient in mind, <code>false</code> if not</DL>
</DD>
</DL>
<HR>

<A NAME="isRecipientInfoFor(iaik.x509.X509Certificate)"><!-- --></A><H3>
isRecipientInfoFor</H3>
<PRE>
public <A HREF="../../iaik/cms/CertificateIdentifier.html" title="interface in iaik.cms">CertificateIdentifier</A> <B>isRecipientInfoFor</B>(<A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509Certificate.html" title="class or interface in iaik.x509">X509Certificate</A>&nbsp;recipientCertificate)</PRE>
<DL>
<DD>Checks if this is a RecipientInfo for the given recipient certificate.
 <p>
 This method steps through the RecipientEncryptedKeys included in this
 KeyAgreeRecipientInfo. As long as no match is found, from the given
 certificate a recipient identifier is created to be compared to the
 same-type recipient identifier of the current RecipientEncryptedKey.
 If a match is found the corresponding recipient identifier is returned. If
 no match is found, <code>null</code> is returned indicating that this
 KeyAgreeRecipientInfo does not belong to the recipient in mind.
 <p>
 <b>Note</b> that in the case of recipient identifier type <A HREF="../../iaik/cms/RecipientKeyIdentifier.html" title="class in iaik.cms"><CODE>RecipientKeyIdentifier</CODE></A> no date or
 OtherKeyAttribute can be created by this method. If date and/or 
 OtherKeyAttribute are used by any of the recipient key identifiers of
 this KeyAgreeRecipientIdentifier you may create the search identifier
 by yourself and call method <A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html#isRecipientInfoFor(iaik.cms.KeyIdentifier)"><CODE>isRecipientInfoFor</CODE></A> to ask if this KeyAgreeRecipientInfo belongs to
 the particular recipient in mind.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../iaik/cms/RecipientInfo.html#isRecipientInfoFor(iaik.x509.X509Certificate)">isRecipientInfoFor</A></CODE> in class <CODE><A HREF="../../iaik/cms/RecipientInfo.html" title="class in iaik.cms">RecipientInfo</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>recipientCertificate</CODE> - the certificate of the recipient
<DT><B>Returns:</B><DD>the CertificateIdentifier indicating that the recipient with the
         given certificate is the owner of this RecipientInfo, <code>null</code> 
         if not</DL>
</DD>
</DL>
<HR>

<A NAME="getEncryptedKey(iaik.cms.KeyIdentifier)"><!-- --></A><H3>
getEncryptedKey</H3>
<PRE>
public byte[] <B>getEncryptedKey</B>(<A HREF="../../iaik/cms/KeyIdentifier.html" title="interface in iaik.cms">KeyIdentifier</A>&nbsp;recipientIdentifier)
                       throws <A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A></PRE>
<DL>
<DD>Returns the encrypted content-encryption key for the recipient with
 the given keyIdentfier.
 <p>
 This method implements the same named method of the abstract parent
 <A HREF="../../iaik/cms/RecipientInfo.html" title="class in iaik.cms"><CODE>RecipientInfo</CODE></A> class for asking if this
 KeyAgreeRecipientInfo holds an encrypted key for the recipient identified
 by the given key identifier (IssuerAndSerialNumber or SubjectKeyIdentifier).
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../iaik/cms/RecipientInfo.html#getEncryptedKey(iaik.cms.KeyIdentifier)">getEncryptedKey</A></CODE> in class <CODE><A HREF="../../iaik/cms/RecipientInfo.html" title="class in iaik.cms">RecipientInfo</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>recipientIdentifier</CODE> - information to be used for getting the right encrypted content
                      encryption key for the right recipient; may be not required for a 
                      KeyAgreeRecipientInfo, but for <A HREF="../../iaik/cms/KeyAgreeRecipientInfo.html" title="class in iaik.cms"><CODE>KeyAgreeRecipientInfo</CODE></A>) which may hold encrypted content encryption 
                      keys for more than one recipient; may be <code>null</code> for only
                      getting the encrypted content-encryption key included
<DT><B>Returns:</B><DD>the encrypted content-encryption key for the recipient with
         the given key identifier
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../iaik/cms/CMSException.html" title="class in iaik.cms">CMSException</A></CODE> - if this KeyAgreeRecipientInfo does not belong to the recipient with 
            the given key identifier is included</DL>
</DD>
</DL>
<HR>

<A NAME="getKeyWrapAlgorithm()"><!-- --></A><H3>
getKeyWrapAlgorithm</H3>
<PRE>
public <A HREF="http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/asn1/structures/AlgorithmID.html" title="class or interface in iaik.asn1.structures">AlgorithmID</A> <B>getKeyWrapAlgorithm</B>()</PRE>
<DL>
<DD>Returns the key wrap algorithm used for encrypting the content-encryption
 key with the shared key encryption key.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the key wrap algorithm or <code>null</code> if not set</DL>
</DD>
</DL>
<HR>

<A NAME="toString()"><!-- --></A><H3>
toString</H3>
<PRE>
public java.lang.String <B>toString</B>()</PRE>
<DL>
<DD>Returns a string giving some information about this
 <code>KeyAgreeRecipientInfo</code> object.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../iaik/cms/RecipientInfo.html#toString()">toString</A></CODE> in class <CODE><A HREF="../../iaik/cms/RecipientInfo.html" title="class in iaik.cms">RecipientInfo</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the string representation</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<small>This Javadoc may contain text parts from text parts from IETF Internet Standard specifications (see <a href=../../RefCopyright.html#RFC>copyright</a> note).</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../iaik/cms/KEKRecipientInfo.html" title="class in iaik.cms"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../iaik/cms/KeyAttribute.html" title="class in iaik.cms"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?iaik/cms/KeyAgreeRecipientInfo.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="KeyAgreeRecipientInfo.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#fields_inherited_from_class_iaik.cms.RecipientInfo">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<IMG SRC=../../siclogo.jpg> <IMG SRC=../../iaik_logo.gif> IAIK-CMS 5.1, (c) 2002 <A HREF="http://jce.iaik.tugraz.at/">IAIK</A>, (c) 2003 - 2010 <A HREF="http://jce.iaik.tugraz.at/">SIC</A>
</BODY>
</HTML>
